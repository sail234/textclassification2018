软件 学报 JOURNALOFSOFTWARE 年 第期 No 基于 弹簧 质点 模型 的 二维 三维 映射 算法 樊 　 劲 　 周济 　 王启付 　 袁铭辉 　 　 摘要 　 提出 了 一种 用于 服装设计 的 二维 三维 映射 算法 该 算法 基于 弹簧 质点 变形 模型 服装 裁剪 片 二维 到 三维 映射 及 三维 到 二维 映射 可以 在 该 模型 中 得到 统一 的 实现 在 服装 裁剪 片 二维 到 三维 的 映射 过程 中 二维 裁剪 片 被 放置 在 人体模型 附近 的 初始 位置 在 缝合 力 的 作用 下 裁剪 片 自动 变形 并 缝合 到 人体模型 上 在 服装 裁剪 片 三维 到 二维 映射 的 过程 中 三维 裁剪 片 被 初始 映射 到 指定 的 平面 内在 弹性 变形 力 的 作用 下 逐步 变形 并 得到 最终 的 二维 裁剪 片 在 进行 服装 裁剪 片 二维 到 三维 映射 的 过程 中 考虑 了 干涉 检验 的 问题 　 　 关键词 　 二维 三维 映射 计算机辅助 三维 服装设计 弹簧 质点 模型 干涉 检验 　 　 中图法 分类号 　 TPDDIsometricTransformationUsingSpringmassSystemFANJin 　 ZHOUJi 　 WANGQifu 　 YUANMinghui 　 　 Abstract 　 　 ADDtransformationmethodusedforcomputeraidedgarmentdesignispresentedinthispaperThemethodisbasedonspringmassmodelDtoDandDtoDtransformationsforclothpatternscanbeimplementedwithinthesamemodelInDtoDtransformationDclothpatternsarelocatedintheirinitialpositionsnearthemannequinUndertheapplyingofsewingforcetheclothpatternsaredeformedandsewntogetheronthemannequinautomaticallyInDtoDtransformationDclothpatternsaremappedonagivenplaneinitiallyUndertheapplyingofelasticdeformableforcestheinitialmappedDclothpatternswillbedeformedandthefinalshapesoftheDclothpatternscanbeobtainedInDDtransformationforclothpatternscollisiondetectionisalsoconsidered 　 　 Keywords 　 DDtransformationcomputeraidedgarmentdesignspringmassmodelcollisiondetection 　 　 在 计算机辅助 三维 服装设计 的 过程 中 一个 重要环节 就是 服装 裁剪 片 的 二维 三维 的 映射 该 环节 包括 两个 相逆 的 映射 过程 一个 过程 是 裁剪 片 的 二维 到 三维 映射 在 该 过程 中 二维 服装 裁剪 片 被 缝合 在 三维 人体模型 上 形成 三维 服装 的 初始 形态 最终 的 服装 效果 将 在 服装 穿着 效果 仿真 过程 中 获得 ； 另 一个 过程 则 是 三维 服装 曲面 的 二维 展开 过程 在 该 过程 中 三维 服装 曲面 被 展开 到 指定 的 平面 内 形成 服装 加工 所 需 的 二维 裁剪 片 服装 裁剪 片 二维 到 三维 以及 三维 到 二维 的 映射 应该 满足 各自 不同 的 要求 　 　 服装 裁剪 片 二维 到 三维 的 映射 应该 满足 以下 两个 要求 ： 裁剪 片 的 面积 在 映射 前后 应 尽量 保持 不变 ； 在 映射 过程 中 应该 防止 干涉现象 的 产生 　 　 三维 服装 曲面 的 二维 展开 应 满足 以下 两个 要求 ： 裁剪 片 的 面积 在 展开 前后 应 尽量 保持 不变 ； 在 展开 过程 中应 满足 裁剪 片 的 形状 要求 即 裁剪 片 的 边界 长度 及 夹角 关系 在 展开 前后 应 尽量 保持 不变 　 　 长期以来 许多 研究者 对 该 问题 进行 了 深入 的 研究 Okabe 等 人 ［ ］ 提出 了 一种 服装 裁剪 片 二维 三维 映射 算法 在 他们 的 算法 中 服装 裁剪 片 二维 到 三维 的 映射 被 当作 纯 几何 问题 处理 二维 裁剪 片 被 三角 划分 并 一层层 地 映射 到 三维 人体模型 上 而 服装 裁剪 片 三维 到 二维 映射 则 是 一个 非常复杂 的 变形 过程 Wu 和 Yuen ［ ］ 提出 了 一种 用于 服装设计 的 二维 三维 的 映射 算法 但 该 算法 依赖于 二维 裁剪 片 与 三维 服装 曲面 之间 的 几何 对应 关系 因此 该 算法 不是 一种 通用 的 算法 在 遇到 不同 款式 的 服装 时该 方法 将会 面临 许多 困难 Carignan 等 人 ［ ］ 提出 了 一种 通用 的 服装 裁剪 片 二维 到 三维 映射 算法 该 算法 运用 了 牛顿 运动定律 在 缝合 力 的 作用 下 被 放置 在 初始 位置 的 二维 裁剪 片 自动 变形 并 缝合 在 人体模型 上 在 他们 的 算法 中 服装 裁剪 片 的 二维 到 三维 映射 被 作为 服装 穿着 效果 仿真 过程 的 一部分 而 服装 裁剪 片 三维 到 二维 的 展开 问题 没有 被 考虑 Zhao 等 人 ［ ］ 提出 了 一种 基于 有限元 方法 的 服装 穿着 效果 仿真 算法 该 算法 考虑 了 服装 裁剪 片 的 二维 三维 映射 问题 为了 保证 裁剪 片 的 面积 不变 有限元 单元 边长 被 作为 几何 约束 作用 于 每 一个 单元 但 文献 ［ ］ 没有 给出 任何 运算 实例 　 　 如何 将 布料 无 间隙 地 映射 到 一张 自由 曲面 上 是 一个 有 意义 的 二维 三维 映射 问题 Robertson ［ ］ 首先 将 该 问题 转化 为 一系列 的 球面 与 二次曲面 求交 问题 来 解决 基于 这一 思想 不少 研究者 对 这 一 问题 进行 了 深入 的 研究 并 提出 了 许多 不同 的 算法 ［ ～ ］ 作为 这 类 算法 的 核心 部分 自由 曲面 的 求交 过程 被 频繁 使用 但 自由 曲面 的 求交 过程 通常 是 一个 费时 而 不 稳定 的 过程 这 无疑 将 影响 这 类 算法 的 效率 和 稳定性 　 　 作为 一种 有效 的 造型 方法 基于 物理 的 几何 造型 方法 被 广泛 地 用于 对 柔软 材料 的 造型 与 仿真 当中 Terzopoulos ［ ］ 提出 了 一种 通用 的 弹性 变形 模型 该 模型 能 有效 地 仿真 物体 的 弹性 变形 过程 因而 被 广泛 地 用于 服装 穿着 效果 的 仿真 当中 ［ ］ Breen 等 人 ［ ］ 提出 了 一种 基于 粒子 模型 的 布料 变形 仿真 算法 该 方法 能够 将 布料 的 材料 性能参数 运用 到 布料 变形 的 仿真 过程 中 因而 能 针对 不同 的 布料 给出 不同 的 仿真 效果 Eberhardt 等 人 ［ ］ 也 提出 了 一种 基于 粒子 模型 的 布料 仿真 算法 在 该 算法 中 由于 采用 了 快速 的 微分方程 的 数值 解法 因而 提高 了 算法 的 效率 Provot ［ ］ 利用 弹簧 质点 系统 成功 地 对 布料 的 变形 过程 进行 了 仿真 在 算法 中 布料 被 简化 成由 弹簧 连结 的 质点系 质点 的 运动 规律 由 基本 运动 方程 决定 在 Provot ［ ］ 工作 的 基础 上 Louchet 等 人 ［ ］ 利用 弹簧 质点 系统对 纺织 材料 的 非线性 变形 过程 进行 了 仿真 　 　 本文 提出 了 一种 用于 服装设计 的 二维 三维 映射 算法 该 方法 采用 了 简单 的 弹簧 质点 变形 模型 服装 裁剪 片 的 二维 到 三维 及 三维 到 二维 映射 可以 在 该 模型 中 得到 统一 的 实现 在 进行 服装 裁剪 片 二维 到 三维 映射 的 过程 中本 算法 同时 考虑 了 干涉 检验 问题 本文 第节 具体 描述 弹簧 质点 变形 模型 第节 给出 弹簧 质点 变形 模型 的 求解 方法 第节 给出 服装 裁剪 片 二维 三维 映射 算法 的 具体 实现 步骤 最后 两节 给出 算法 分析 、 全文 总结 和 部分 运算 实例 　 基于 弹簧 质点系 的 二维 三维 映射 变形 模型 　 　 在 建立 变形 模型 前 不失 一般性 先对 服装 裁剪 片 的 二维 三维 映射 过程 作出 如下 假设 ： 　 　 服装 裁剪 片 的 二维 三维 映射 是 或 可以 简化 成 一个 弹性 变形 过程 ； 　 　 布料 的 材料 性能 是 均 质 的 且 各向同性 ； 　 　 服装 裁剪 片 在 映射 的 初始 时刻 处于 静止 状态 　 　 服装 裁剪 片 的 二维 三维 映射 过程 是 一个 复杂 的 弹性 变形 过程 采用 纯 几何 的 造型 方法 难以 对 该 过程 进行 仿真 而 基于 物理 的 造型 方法 却 正好 适合 于 对 这类 复杂 的 变形 过程 进行 仿真 本文 选用 弹簧 质点 变形 模型 是 基于 以下几点 考虑 ： 　 　 弹簧 质点 模型 适合 于 对 复杂 的 过程 进行 仿真 ［ ］ ； 　 　 弹簧 质点 模型 简单 而且 易于 实现 在 模型 中 我们 采用 类似 Provot ［ ］ 所 使用 的 网格 类型 服装 裁剪 片 二维 或 三维 被 离散 表达 为 规则 网格 的 弹簧 质点 系统 每 一个 质点 与 周围 相连 的 若干个 质点 用 弹簧 相连 如图所示 整个 弹簧 质点系 实际上 是 一个 规则 的 三角形 网格 系统 质点 的 运动 规律 则 由 Lagrange 运动 方程 确定 图 　 规则 三角形 网格 的 弹簧 质点系 示意图 式 中 X 表示 质点 的 位置矢量 μ 和 δ 表示 质点 的 质量 和 黏性 密度 δ x ε 是 质点 所受 的 弹性 内力 表示 为 弹性 内能 的 变分 形式 f 表示 质点 所受 的 外力 弹性 内力 　 　 在 弹簧 质点 系统 中 唯一 考虑 的 弹性 内力 是 弹簧 的 弹性 变形 力 由于 采用 的 是 理想 的 弹簧 质点 系统 可以 利用 Hooke 定律 来 计算 弹簧 的 弹性 变形 力 考虑 p 点 与 相连 n 个 质点 pppn ∈ IR 则 质点 p 的 弹性 变形 能 和 弹性 变形 力 可 按 如下 公式 计算 EtctppidiftctppidiNpip 式 中 ct 表示 弹簧 的 弹性 变形 系数 ppi 表示 质点 p 与 质点 pi 之间 的 距离 di 表示 质点 p 与 质点 pi 之间 的 原始 距离 Npip 表示 从 p 指向 pi 的 单位 方向 矢量 弹簧 的 弹性 变形 系数 可以 依据 所 选用 布料 的 材料 性能参数 曲线 确定 本文 通过 对 Kawabata 布料 特性 参数 曲线 进行 线性化 处理 来 确定 系统 的 弹性 变形 系数 通常 布料 的 性能参数 曲线 都 是 非线性 曲线 本文 采用 分段 线性化 的 方法 对 不同 曲线 段 采用 不同 的 弹性 变形 系数 这样 可以 获得 较为 真实 的 弹性 变形 系数 系统 外力 　 　 在 服装 裁剪 片 二维 到 三维 映射 的 过程 中 本文 考虑 如下 种 外力 　 　 缝合 力 ： 在 服装 裁剪 片 二维 到 三维 的 映射 过程 中 为了 将 不同 的 裁剪 片 缝合 在 一起 我们 在 裁剪 片 的 缝合 边上 加载 上 缝合 力 在 模型 中缝 合力 被 定义 成 对应 缝合 点 之间 距离 的 线性 函数 对 两个 缝合 点 p 和 p 缝合 力 可以 按 如下 公式 计算 fscsdisNpp 式 中 cs 为 缝合 力 系数 该 系数 与 布料 的 缝合 性能 有关 通常 较难 变形 的 布料 采用 较大 的 缝合 力 系数 dis 表示 两 缝合 点 之间 的 距离 Npp 表示 从 p 点 指向 p 点 的 单位 方向 矢量 如图所示 图 　 缝合 点及 缝合 力 示意图 　 　 干涉 反力 ： 为了 防止 干涉现象 的 产生 模型 中 引入 了 干涉 反力 的 概念 干涉 反力 实际上 是 为了 防止 干涉现象 而 加入 的 一个 干涉 惩罚 项 质点 的 干涉 反力 可用 如下 公式 计算 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 式 中 cr 为 干涉 反力 系数 系数 越大则 惩罚 得 越重 Δ dis 表示 质点 到 干涉 点 之间 的 距离 N 表示 干涉 点处 人体模型 或 裁剪 片 的 外 单位 法矢 如图所示 d 是 一个 给定 的 距离 只有 当 质点 进入 到 人体模型 表面 或 裁剪 片 给定 距离 范围 内 惩罚 项才 起 作用 图 　 干涉 反力 示意图 　 　 重力 ： 为了 获得 较 真实 的 仿真 效果 本文 在 变形 模型 中 考虑 了 服装 裁剪 片所受 的 重力 质点 所受 的 重力 可 按 如下 公式 计算 fgmig 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 式 中 mi 为 质点 的 质量 由于 本文 假定 布料 是 均 质 的 因此 质点 的 质量 可 由 裁剪 片 的 总 质量 除以 总 的 质点 数而 得到 　 变形 模型 的 求解 　 　 根据 Lagrange 运动 方程 整个 变形 模型 系统 为 一个 非线性 微分方程 组 本文 采用 基于 时间 的 差分 和 增量 方法 来 进行 系统 求解 　 　 利用 时间 差分 方法 方程 中 的 前 两项 可以 简化 为 如下 二 式 ： 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 对于 每 一个 质点 弹簧 的 弹性力 实际上 可以 作为 外力 放在 方程 的 右边 将 、 两 式 代入 方程 可 得 μ Xt Δ tXtXt Δ t γ Xt Δ tXt Δ tfgftXt Δ tfrXt Δ tfsXt Δ t 作为 一个 动态 系统 为了 简化 求解 过程 我们 采用 增量 法对 该 动态 系统 进行 简化 在 时间 步长 足够 小 的 情况 下 ftXt Δ tfrXt Δ tfsXt Δ t 可以 用 ftXtfrXtfsXt 代替 这样 整个 系统 便 简化 成 一个 动态 的 线性系统 　 　 由于 我们 假定 裁剪 片 在 映射 的 初始 时刻 处于 静止 状态 因此 系统 的 初始条件 为 XtX 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 X Δ tXtX 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 其中 X 为 质点 的 初始 位置 这样 方程 可以 写为 μ γ Xt Δ tfgftXtfrXtfsXt μ Xt μ γ Xt Δ t 　 　 根据 方程 及 系统 初始条件 Xt Δ t 可以 很 方便 地 求解 出来 由于 采用 了 基于 时间 的 差分 和 增量 方法 来 进行 系统 求解 因此 时间 步长 应该 取得 足够 小以 保证 整个 系统 的 求解 稳定性 但 过 小 的 时间 步长 将 导致系统 求解 效率 的 下降 为此 可以 采用 Desbrun ［ ］ 所 提出 的 自 适应 时间 步长 优化 方法 对 时间 步长 进行 优化 处理 这样 可以 提高 动态 系统 的 求解 效率 　 二维 三维 映射 的 实现 步骤 　 　 采用 该 弹簧 质点 变形 模型 服装 裁剪 片 二维 到 三维 映射 及 三维 到 二维 映射 可以 在 该 模型 中 统一 实现 　 二维 到 三维 映射 　 　 本文 采用 如下 步骤 来 实现 服装 裁剪 片 二维 到 三维 的 映射 　 　 a 将 二维 裁剪 片 交互式 地 放置 在 人体模型 附近 的 初始 位置 　 　 在 该 步骤 中 二维 裁剪 片 被 交互式 地 放置 在 人体模型 附近 的 初始 位置 如图 a 所示 初始 位置 并不需要 非常 精确 但 过 坏 的 初始 位置 初始 位置 远离 其 最终 的 缝合 位置 会 影响 到 系统 的 收敛 效率 甚至 导致 缝合 过程 的 失败 　 　 b 将 二维 裁剪 片 离散 并 形成 初始 的 弹簧 质点 系统 　 　 在 该 步骤 中 二维 裁剪 片 被 离散 并 形成 规则 网格 的 弹簧 质点 系统 在 本文 中 每 一片 二维 服装 裁剪 片均 被 转化 并 表达 成 一组 相连 的 四边 域 参数 曲面 因此 采用 曲面 均匀 离散 的 方法 可以 很 方便 地 形成 规则 三角形 网格 的 弹簧 质点 系统 三角形 的 顶点 形成 质点 三角形 的 边 形成 相应 的 弹簧 在 弹簧 质点 系统 中 质点 的 质量 由 布料 的 实际 质量 计算 得来 弹簧 的 弹性 变形 系数 由 布料 的 材料 特性 曲线 确定 　 　 c 动态 变形 模型 的 计算 　 　 在 该 步骤 中 根据 服装 裁剪 片 的 缝合 信息 我们 在 裁剪 片 的 对应 缝合 边上 加载 缝合 力 在 缝合 力 的 作用 下 二维 裁剪 片 将 逐步 变形 并 逐渐 被 缝合 在 一起 如图 b 所示 整个 缝合 过程 是 一个 动态 的 迭代 过程 在 满足 如下 两个 条件 下 终止 迭代 过程 　 　 所有 缝合 点 之间 的 距离 均 小于 给定 的 缝合 距离 ； 　 　 在 相邻 的 两次 迭代 过程 中 系统 弹性 变形 能 的 变化 值 小于 给定 的 误差 　 　 条件 保证 所有 的 裁剪 片均 处于 缝合 状态 ； 条件 则 保证 裁剪 片 处于 最终 的 平衡 状态 在 缝合 过程 中 为了 防止 干涉现象 的 产生 算法 同时 进行 了 干涉 检验 和 干涉 处理 缝合 过程 结束 后 便 可以 得到 缝合 的 三维 服装 初始 形状 如图 c 所示 图 　 二维 到 三维 映射 　 三维 到 二维 映射 　 　 采用 弹簧 质点 变形 模型 同样 可以 解决 服装 裁剪 片 三维 到 二维 映射 的 问题 由于 我们 采用 了 基于 三角形 网格 的 弹簧 质点 模型 因此 在 理论 上 如果 能 保证 在 三维 到 二维 的 映射 过程 中 三角形 的 边长 保持 不变 或 变形 量 趋于 最小 便 可以 得到 满足要求 的 二维 裁剪 片 基于 此 观点 本文 采用 如下 步骤 来 实现 服装 裁剪 片 三维 到 二维 的 映射 过程 　 　 a 三维 服装 裁剪 片 规则 三角 化 网格 的 形成 　 　 在 该 步骤 中 三维 服装 裁剪 片 被 离散 成 规则 的 三角形 网格 在 本文 中 每 一片 三维 服装 裁剪 片均 被 表达 成 一组 相连 的 四边 域 参数 曲面 因此 采用 曲面 均匀 离散 的 方法 可以 很 方便 地 形成 规则 的 三角形 网格 　 　 b 三维 裁剪 片 的 二维 映射 及 初始 二维 弹簧 质点 系统 的 形成 　 　 在 该 步骤 中 空间 的 裁剪 片 三角形 网格 将 被 映射 到 平面 上 形成 初始 的 平面 弹簧 质点 系统 如图 a 所示 在 上 一 步骤 中 三维 服装 裁剪 片 被 离散 成 规则 的 三角形 网格 因此 可以 很 方便 地 映射 到 平面 上 目前 本文 采用 相邻 质点 间 的 距离 来 确定 质点 在 平面 内 的 位置 映射 结束 后 便 得到 初始 的 平面 三角形 网格 该 三角形 网格 将 被 用来 形成 初始 的 平面 弹簧 质点 系统 三角形 的 顶点 形成 质点 三角形 的 边 形成 相应 的 弹簧 在 弹簧 质点 系统 中 质点 的 质量 由 布料 的 实际 质量 计算 得来 弹簧 的 弹性 变形 系数 由 布料 的 材料 性能 确定 　 　 由于 本文 采用 的 裁剪 片 初始 映射 方法 较为简单 因此 与 最终 的 展开 结果 相比 在 本 步骤 中 所 获得 的 裁剪 片 初始 平面 网格 仍 存在 着 较大 的 误差 该 误差 将 通过 平面 弹簧 质点 系统 的 变形 过程 得到 控制 　 　 c 动态 变形 模型 的 计算 　 　 由于 裁剪 片 的 初始 映射 网格 与 裁剪 片 的 最终 展开 结果 之间 存在 着 差距 因此 在 初始 的 平面 弹簧 质点 系统 中 存在 着 因 变形 而 产生 的 弹性 变形 力 在 该 步骤 中 在 弹性 变形 力 的 作用 下 初始 的 平面 二维 弹簧 质点 系统 将 逐步 变形 并 最终 得到 平面 二维 裁剪 片 　 　 在 裁剪 片 的 展开 过程 中 我们 仍 采用 类似 于 裁剪 片 二维 到 三维 映射 过程 中 所 使用 的 弹簧 质点 变形 模型 及其 计算方法 只是 在 变形 模型 中 不再 考虑 重力 、 缝合 力及 干涉 反力 　 　 该步 是 一个 动态 迭代 过程 随着 迭代 过程 的 进行 弹簧 质点 系统 的 弹性 变形 能 将 逐渐 减小 如果 在 相邻 两次 迭代 过程 中 系统 的 弹性 变形 能 的 变化 值 小于 给定 的 误差 则 动态 迭代 过程 结束 　 　 对 三维 服装 裁剪 片 进行 以上 步 处理 后 我们 便 可 得到 最终 的 二维 裁剪 片如图 b 所示 图 　 三维 到 二维 映射 　 干涉 检验 　 　 干涉 检验 是 服装 裁剪 片 二维 到 三维 映射 过程 中 一个 非常 关键 的 环节 由于 服装 裁剪 片 二维 到 三维 映射 过程 是 一个 复杂 的 变形 过程 因此 在 变形 的 过程 中 常常 会 发生 干涉现象 干涉现象 表现 为 裁剪 片 与 人体模型 之间 以及 裁剪 片 与 裁剪 片 之间 的 相互 穿越 现象 　 　 在 算法 中 干涉 检验 问题 被 转化 为 一系列 三角形 与 直线 的 求交 问题 来 解决 首先 将 人体模型 划分 成 若干个 干涉 检验 区域 并 进行 三角 化 处理 服装 裁剪 片 也 被 分割 成 若干个 干涉 检验 区域 并 与 人体模型 或 其他 裁剪 片 的 干涉 检验 区域 建立 起 联系 这样 在 干涉 检验 的 过程 中 可以 避免 对 整个 干涉 体中 所有 的 三角 片 进行 干涉 检验 因此 提高 了 干涉 检验 算法 的 效率 算法 同时 也 采用 了 包容 盒 检查 等 一些 其他 的 加速 方法 　 　 本文 仅 考虑 静态 的 干涉 检验 问题 静态 干涉 可 根据 求解 如下 方程 来 进行 检验 ［ ］ pp ′ ptpppupp υ 　 　 　 　 　 　 　 　 　 　 式 中 p 和 p ′ 表示 质点 在 一个 时间 步长 中 的 初始 和 最终 位置矢量 pp 和 p 表示 三角形 的 个 顶点 坐标 u 和 υ 是 平面 三角形 的 参数 坐标 t 是 时间 步长 根据 方程 的 解及 以下 条件 可 判断 是否 发生 了 干涉 　 　 如果 ≤ t ≤ u ≥ υ ≥ 并且 u υ ≤ 如图所示 则 发生 了 干涉现象 图 　 干涉 检验 示意图 　 实 　 例 　 　 我们 选择 了 一套 具有 代表性 的 儿童服装 进行 缝合 和 展开 操作 该 服装 属于 连 体式 服装 具有 前襟 、 后襟 和 衣袖 共个 裁剪 片 本文 所 采用 的 二维 裁剪 片均 来自 于 商用 二维 服装 CAD 系统 在 三维 缝合 的 过程 中 在 将 二维 裁剪 片 放置 到 初始 位置 后 如图 a 所示 整个 缝合 过程 可以 在 s 内 完成 图 d 为 该 服装 款式 的 样图 图 c 为 由 二维 裁剪 片 缝合 而成 的 三维 服装 缝合 后 各 裁剪 片 的 变形 量列 在 表中 　 　 　 　 　 　 　 　 　 　 　 　 表 　 　 　 　 　 　 　 　 片号 二维 到 三维 三维 到 二维 面积 误差 边长 误差 面积 误差 边长 误差 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 我们 所 使用 的 计算机 为 PC 表中 的 面积 误差 二维 到 三维 映射 SDSDSD 面积 误差 三维 到 二维 映射 SDSDSD 式 中 SD 为 二维 裁剪 片 的 面积 SD 为 三维 裁剪 片 的 面积 边界 误差 二维 到 三维 映射 LDLDLD 边界 误差 三维 到 二维 映射 LDLDLD 式 中 LD 为 二维 裁剪 片 的 边界 长度 LD 为 三维 裁剪 片 的 边界 长度 　 　 在 将 该 服装 直接 来自 于 三维 服装设计 进行 三维 到 二维 展开 的 过程 中 整个 展开 过程 可 在 s 内 完成 从 结果 可以 看出 展开 后 的 二维 裁剪 片 性态 良好 如图 b 所示 展开 后 各 裁剪 片 的 变形 量列 在 表中 　 算法 分析 　 　 在 该 算法 中 算法 的 核心 步骤 是 一个 动态 迭代 的 过程 因此 该 算法 的 效率 主要 由 两个 因素 决定 第个 影响 因素 是 动态 系统 中 质点 的 个数 过少 的 质点 个数 会 使得 裁剪 片 的 逼近 精度 过低 而 影响 缝合 或 展开 效果 但 过 多 的 质点 个数 则 会 导致系统 迭代 时间 的 增加 ； 第个 影响 因素 是 迭代 过程 中 的 时间 步长 由于 本 算法 采用 基于 时间 的 差分 及 增量 方法 因此 要求 在 迭代 过程 中 时间 步长 应 足够 小以 保证系统 的 稳定性 但 过 小 的 时间 步长 会 导致系统 迭代 时间 的 增加 因此 在 算法 中 可以 引入 Desbrun 等 人 ［ ］ 所 提出 的 自 适应 时间 步长 优化 方法 对 时间 步长 进行 优化 处理 这样 可以 提高 算法 的 效率 　 　 在 将 服装 裁剪 片 进行 展开 的 过程 中 存在 着 两种 误差 一种 是 由于 曲面 的 不 可展性 所 造成 的 误差 ； 另 一种 误差 是 由 算法 本身 带来 的 在 算法 中 在 尽量减少 算法 本身 所 造成 的 误差 的 同时 应 尽量减少 展开 误差 所 造成 的 影响 即 防止 展开 误差 在 局部 区域 积累 在 本文 中 我们 采用 了 弹簧 质点 变形 模型 通过 动态 系统 的 迭代 过程 使得 展开 误差 可以 在 一定 程度 上 分散 到 裁剪 片 的 各个 部分 从而 避免 了 误差 在 局部 区域 内 积累 　 结 　 论 　 　 在 本文 中 我们 提出 了 一种 通用 的 二维 三维 映射 算法 该 算法 基于 弹簧 质点 变形 模型 能 较 好地解决 计算机辅助 服装设计 的 过程 中 二维 三维 的 映射 问题 该 算法 有 如下 优点 ： 　 　 该 算法 基于 弹簧 质点 变形 模型 服装 裁剪 片 二维 到 三维 及 三维 到 二维 映射 可以 在 该 模型 中 得到 统一 的 实现 因此 极大 地方 便 了 系统 的 实现 ； 　 　 该 算法 是 一个 通用 的 服装 裁剪 片 二维 三维 映射 算法 它 不受 服装 款式 的 限制 因此 具有 更 广泛 的 实用性 ； 　 　 由于 使用 了 非常简单 的 弹簧 质点 变形 模型 因此 整个 算法 易于 实现 而且 算法 效率 较 高 ； 　 　 也 正是 由于 使用 了 弹簧 质点 变形 模型 在 进行 三维 到 二维 的 映射 过程 中 通过 动态 系统 的 迭代 过程 该 算法 可以 在 一定 程度 上将 展开 误差 分散 到 裁剪 片 的 各个 地方 从而 避免 了 误差 在 局部 区域 积累 致谢 　 本 课题 作为 “ 计算机辅助 三维 服装设计 系统 的 研制 与 开发 ” 项目 的 一部分 得到 了 香港 工业 技术 发展署 的 资助 这里 要 特别感谢 参与 该 项目 所有 研究 人员 的 关心 与 帮助 他们 是 武壮 先生 、 陈超祥 先生 、 孔强 龙 先生 、 陈 发来 博士 、 王彪 博士 、 陈明祥 博士 和 刘轶凡 先生 作者 介绍 ： 樊劲 年生 博士生 主要 研究 领域 为 CADCAGDCAM 　 　 　 　 　 周济 年生 博士 教授 博士生 导师 主要 研究 领域 为 CADCAM 计算机 集成 制造 系统 　 　 　 　 　 王启付 年生 博士 副教授 主要 研究 领域 为 CADCAGDCAM 　 　 　 　 　 袁铭辉 年生 博士 教授 博士生 导师 主要 研究 领域 为 CADCAGDCAMCIMS 本文 通讯联系 人 ： 樊劲 武汉 华中理工大学 CAD 中心 作者 单位 ： 樊 　 劲 　 周济 　 王启付 　 华中理工大学 CAD 中心 　 武汉 　 　 　 　 　 　 袁铭辉 　 香港 科学技术 大学 机械 工程系 香港 参考文献 　 ［ ］ OkabeHImaokaHThreedimensionalapparelCADsystemComputerGraphics ～ 　 ［ ］ WuZhuangYuanMinghuiIsometrictransformationbetweenDandDsurfacesInProceedingsoftheInternationalConferenceonMA ～ 　 ［ ］ CarignanMYangYThalmannNMDressinganimationsyntheticactorwithcomplexdeformableclothesComputerGraphics ～ 　 ［ ］ ZhaoYFWongTNetalAmodelforsimulatingflexiblesurfacesofclothobjectComputerandStructure ～ 　 ［ ］ RoberstonREHsiueHSetalFiberrearrangementsduringthemodelingofcontinuousfibercompositesPart Ⅰ flatclothtoahemispherePolymerComposites ～ 　 ［ ］ RobertsonREHsiueHSetallContinuousfiberrearrangementsduringthemodelingoffibercompositesPart Ⅰ Ⅰ faltclothtoaroundconePolymerComposites ～ 　 ［ ］ BergsmaOKHuismanJDeepdrawingoffabricreinforcedthermoplasticsInProceedingsoftheInternationalConferenceonComputerAidedDesigninCompositeMaterialTechnologyNewYorkSpringerVerlag ～ 　 ［ ］ VanWestBPPipesRBetalAsimulationofthedrapingofbidirectionalfabricsoverarbitrarysurfacesJournaloftheTextileInstitute ～ 　 ［ ］ AonoMBreenDEetalFittingawovenclothmodeltoacurvedsurfacemappingalgorithmsComputerAidedDesign ～ 　 ［ ］ TerzopoulosDJohnPetalElasticallydeformationmodelsComputerGraphics ～ 　 ［ ］ ThalmannNMVolinoPetalDclothandfashionshowInThalmannNMSkalaVedsProceedingsofthethInternationalConferenceinCentralEuropeonComputerGraphicsandVisualizationPlzenCzechRepublicWestBohemiaUniversityPress ～ 　 ［ ］ VolinoPThalmannNMAnevolvingsystemforsimulatingclothsonvirtualactorsIEEEComputerGraphicsandApplications ～ 　 ［ ］ BreenDEHouseDHetalPredictingthedrapeofwovenclothusinginteractingparticleInAndrewGlassneredProceedingsofthestInternationalACMConferenceonComputerGraphicsandInteractiveTechniquesOrlandoACMPress ～ 　 ［ ］ BreenDEHouseDHetalAphysicallybasedparticlemodelofwovenclothVisualComputer ～ 　 ［ ］ EberhardtBWeberAetalAfastflexibleparticlesystemmodelforclothdrapingIEEEComputerGraphicsandApplication ～ 　 ［ ］ ProvotXDeformationconstraintsinamassspringmodeltodescriberigidclothbehaviorInWayneAedProceedingsoftheGraphicsInterfaceConferenceVancouverCanadianHumanComputerCommunicationsSocity ～ 　 ［ ］ LouchetJProvotXetalEvolutionaryidentificationofclothanimationmodelsInTerzopoulosDThalmannDedsProceedingsoftheComputerAnimationandSimulationNewYorkSpringerVerlag ～ 　 ［ ］ DesbrunMGascuelMPSmoothedparticlesanewparadigmforanimatinghighlydeformablebodiesInThalmanndedProceedingsoftheComputerAnimationandSimulationNewYorkSpringerVerlag ～ 　 ［ ］ KamatVVAsurveyoftechniquesforsimulationofdynamiccollisiondetectionandresponseComputerandGraphics ～ 本文 收到 原稿 收到 修改稿