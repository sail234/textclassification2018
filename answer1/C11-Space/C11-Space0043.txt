航空 计测 技术 AVIATIONMETROLOGYMEASUREMENTTECHNOLOGY 年 第期 No 一种 新型 的 分布式 数据 采集器 （ 一 ） 朱军 　 刘剑国 　 彭泽 兵 　 陈荔莹 　 李滨 　 　 摘 　 要 　 介绍 了 一种 新型 的 分布式 智能 数据 采集 系统 — — ALPHA 系列 数据 采集器 。 该 采集器 由 中国 航空工业总公司 第三 ○ 四 研究所 与 英国 ADAS 公司 联合 设计 研制 。 它 集中 了 年代 采集器 的 优点 ， 如 可变 字长 、 可编程 智能 前端 、 带 温度 补偿 的 连接器 、 可 脱机 工作 等 ， 并 为 突出 各自 功能 形成 系列 。 该 采集器 已 成功 地 投入 了 工业生产 ， 并且 应用 于 工业 过程 监测 、 条件 监测 或 加工 监测 。 该 系统 使用 价格低廉 的 RS 网络 ， 各种 型号 模块 提供 了 精确 的 温度 、 压力 、 应变 及 数字 事件 和 频率 等 数据 的 测量 及 控制 ， 并 有 相当 突出 的 性能 价格比 。 　 　 关键词 　 数据 采集 　 测量 　 自动控制 　 模块 　 分布式 数据 采集器 　 网络 　 监测 ANewDistributiveDataAcquistitionSystemZhuJunLiuJianguoPengZebingChenLiyingLiBin 　 　 Abstract 　 ThisarticleintroducesanewintelligentdataacquisitionsystemcalledALPHAserieswhichmanufacturedbythinstituteofChinaAviationIndustryCorporationandADAScompanyofUKItsumsuptheadvantagesofthedataacquisitionsystemsinssuchasvariablebytelengthprogrammableintelligentfrontconnectionswithtemperaturecompensationandsoonEverymoduleinthisserieshasitsspecialfunctionIthasbeenputintoproductionsuccessfullyandusedforprocessmonitoringconditionmonitoringormachinemonitoringConnectedbylowcostRSnetworktheALPHAmodulessupplyaccuratemeasurementandcontrolfortemperaturepressureandstrainalongwithdataeventsandfrequencyItalsohasattractiveratioofperformanceandprice 　 　 Keywords 　 DataacquisitionMeasurementAutomaticcontrolModuleDistributivedataacquisitionsystemNetworkIndustrialmonitoring 　 工业 现场 自动化 测试 及 控制 中 问题 的 提出 　 　 随着 世界 经济 的 发展 和 科技 的 进步 ， 一个 国家 自动化 程度 的 高低 ， 已经 成为 衡量 其 经济 发展 水平 的 重要 标志 ， 而且 在 许多 方面 已经 将 它 提高 到 决定性 的 高度 。 这 其中 工业 自动化 测试 和 控制 的 水平 又 是 反应 自动化 程度 的 关键 。 　 　 为 促进 工业 自动化 测试 和 控制 水平 的 提高 和 适应 日趋激烈 的 市场竞争 ， 各国 的 工业 测试 和 控制 产品 厂家 纷纷 推出 了 自己 的 杰作 。 以 目前 市场 上 出现 的 各类 产品 来看 ， 各种 产品 均 各自 有着 自己 的 侧重 面 。 以 总线 系统 为例 ， 在 工业 领域 应用 的 有 ： STD 、 STE 、 ISA 、 EISA 、 PCI 、 VME 、 MULTIBUS 、 PC 、 OPTOMUX 、 LONWORKS 、 CAN 、 MODBUS 等等 。 加上 网络 技术 、 图象 技术 、 隔离 技术 及 组态 软件 等 形成 了 各具特色 的 工业 控制系统 。 这些 总线 的 构成 主要 考虑 了 工业 测试 和 控制 过程 ， 系统 组成 可能 出现 的 因素 有 ： 　 　 ① 计算机 处理器 的 处理 能力 ； ② 总线 的 定义 与 构成 方式 ； ③ 处理器 和 IO 之间 的 访问 方式 和 速度 ； ④ 软件 的 兼容性 和 编程 的 灵便 程度 以及 工具软件 的 支持 能力 ； ⑤ 应用 的 方便性 和 标准 性 ； ⑥ 系统 通讯 能力 ， 联网 能力 ； ⑦ 系统 的 扩展 能力 ， 远程 分布 控制能力 ； ⑧ IO 能力 及 IO 分布 情况 ； ⑨ 可维护性 ； 性能 价格比 ； 抵御 外界 恶劣 环境 能力 ； 安装 方式 及 物理 结构 。 　 　 从 工业 控制 的 结构 方式 而言 ， 一般 又 分为 集中控制 、 分散控制 以及 当前 大量 使用 的 集散 分布式 控制系统 （ DCS ） 。 提到 DCS ， 人们 也许 立刻 就 会 浮现 出 一个 庞大 的 体系结构 ， 包括 ： 复杂 的 网络结构 、 高大 的 机柜 、 繁杂 的 接线 、 大量 的 仪表 等 ， 更为 头疼 的 是 其 昂贵 的 价格 。 与 之 对应 的 有 许多 著名 的 公司 如 HONEYWELL 、 FOXBORO 、 ROSEMOUNT 、 BAILEY 等 。 的确 ， 这些 公司 的 DCS 是 相当 出色 的 ， 它们 为 许多 结构复杂 、 设备 门类 繁多 、 数据交换 吞吐 较大 、 软硬件 结构复杂 的 大规模 系统 做出 了 许多 贡献 。 从 我国 国力 来看 ， 对 一些 大中型 分布式 控制系统 无论是 从 财力物力 ， 以及 DCS 的 性能 价格比 上 考虑 ， 大多数 用户 均 有些 心有余而力不足 但 中小型 测量 及 控制系统 是否 需要 分布式 测量 和 控制 呢 ？ 事实证明 ， 答案 是 肯定 的 。 让 我们 先 来看 一下 为什么 要 采用 分布式 控制 。 　 　 当今 的 工业生产 对 工业 测量 和 控制 过程 的 要求 越来越 高 ， 并且 也 越来越 复杂 。 随着 这种 要求 和 复杂性 的 增加 ， 各种 协同 测量 仪器 、 产品 和 各种 相关 设备 也 必然 会 相应 的 增加 。 往往 各个 局部 现场 彼此之间 又 有 一定 的 距离 有时 各个 IO 点 之间 相距 非常 遥远 ， 进而 主 计算机 的 功率 和 过程 控制 自动化 软件 也 必然 会 相应 增加 所以 整个 系统 的 硬件 和 软件 的 维护 也 就 成为 一件 非常 困难 和 复杂 的 工作 。 在 这种 情况 下 ， 测量 和 控制 任务 最 好转 交给 各个 局部 小 计算机 ， 使 每个 分散 在 各个 局部 的 小 计算机 分别 成为 一个 独立 功能 岛 或 功能块 ， 根据 需要 完成 其 独特 的 测量 及 控制 功能 ， 再 将 计算机技术 、 控制 理论 、 控制算法 、 通讯 技术 、 隔离 技术 、 输入 及 输出 技术 、 管理体制 等 有机 的 结合 起来 ， 即 实现 了 当今世界 上 最为 流行 的 分散控制 ， 集中管理 的 模式 。 这 就是 现在 被 称之为 带有 智能 的 分布式 控制系统 。 　 　 这种 现代 的 分布式 控制系统 的 模式 可 广泛 适用 于 多种 工业 自动化 的 场合 。 包括 过程 控制 、 工厂 自动化 、 半导体 制 、 石油 淬取 和 精炼 、 能源管理 、 冶金工业 、 电厂 控制 、 食品工业 、 给水 与 废水处理 、 管泵 监测 、 造纸工业 、 化工产品 制造 、 医药 产品 制造 、 石化 过程 控制 、 建材 制造 、 纺织 自动化 、 质量 检测 和 控制 、 大型 印刷业 、 远程 遥测 、 玻璃 及 陶瓷 制造 、 生物工程 、 港口 运输 工程 、 计算机 集成 制造 、 公路 监测 系统 等 。 由此 可以 看出 ， 这种 分布式 控制 和 测量 系统 适合 工业 自动化 的 绝大部分 场合 ， 特别 是 在 我们 国家 以 中小型 项目 为 主体 的 工业 发展 状况 ， 提供 带有 智能 的 分布式 测量 和 控制 ， 而 造价 又 相对 低廉 的 控制系统 将 成为 今后 一个 时期 工业 控制 的 主流 。 　 ALPHA 系列 智能 分布式 数据 采集器 简介 　 　 ALPHA 系列 数据 采集器 综合 了 目前 国内外 各种 同类产品 的 优点 ， 是 一种 可 用于 工业 过程 监测 、 条件 监测 或 加工 监测 及 控制 的 经济型 的 并 带有 一定 可编程 的 数据 采集 前端 。 数据 采集 系统 使用 价格低廉 的 RS 网络 ， 不同 的 型号 可 提供 精确 的 温度 、 压力 及 应变 等 物理量 的 测量 、 数字 量 的 采集 、 事件 和 频率 的 测量 等 。 其 基本 性能 ： 　 　 电压 测量 分辨率 μ V ； 电流 测量 分辨率 　 μ A ； 温度 测量 分辨率 ° C ； 电阻 测量 分辨率 m Ω ； 事件 测量 分辨率 　 ms ； 频率 测量 分辨率 　 Hz 。 　 　 其 特点 是 ： 　 　 ） 高性能 — — 在 低价位 的 基础 上 使用 先进 技术 以 获取 高性能 。 每个 测量 都 具有 独立 的 ～ 位 可变 字长 AD 转换器 ， 提供 每秒 或次 的 测量 速率 ， 并 具有 μ V 灵敏度 及 ° C 的 精度 ； 　 　 ） 高性能 前端 导线 联接 方式 — — 为 每 一个 本地 测量 与 控制点 提供 高性能 的 前端 导线 联接 方式 。 模块 使用 高质量 的 旋压 式 联接 端子 ， 热电偶 模块 具有 特殊 设计 的 隔热 联接器 ， 用于 提高 测量 精确度 ； 　 　 ） 编程 简单 — — 每个 模块 部都 有 错误 校验 及 命令 协议 。 可 通过 主机 或 本地 终端 进行 编程 以及 参数设置 和 初始化 。 驱动 软件 及 子程序 可 对 各种 不同 类型 的 测量 进行 更 高性能 的 编程 ； 　 　 ） 软件 校准 — — 可 对系统 进行 本地 或 远程 校准 。 模块 上 的 EEPROM 可 存储 所有 的 校准 与 设置 参数 ； 　 　 ） 性能 完备 — — 系统 允许 同步进行 测量 、 工程 转换 、 报警 控制 及 通讯 ， 以 获取 最好 的 操作 性能 ； 　 　 ） 坚固 的 注塑 壳体 — — 模块 尺寸 紧凑 ， 包括 个 测量 通道 及个 附加 IO 通道 。 长 mm 宽 mm 高 mm 。 可以 方便 地 和 其它 设备 一起 安装 在 仪器 柜内 。 模块 可以 重叠 实装 并 带有 标准 导轨 联接器 ； 　 　 ） RS 多 分支 网络 — — 网络 以 标准 波特率 工作 。 每个 模块 具有 两个 RS 接口 ， 用于 现场 本 机 编程 。 ISA 串行接口 可 直接 为个 以内 模块 供电 ； 　 　 ） 数字 模块 — — 数字 模块 可 提供 信号 计时 功能 控制 、 计数 及 事件 的 频率 周期 测量 功能 。 每个 通道 都 具有 LED 显示 、 可编程 滤波 和 模块 间 同步 功能 ； 　 　 ） 快速 通讯 — — 系统 支持 以 k 波特率 在 km 范围 内 控制 个 模块 或个 通道 。 Ethernet 通讯 作为 可 选 功能 ， 可以 使用 TCPIP 协议 以 自身 IP地址 进行 数据传输 ； 　 　 ） 灵活 的 供电 方式 — — 模块 可 使用 VAC 或 ～ VDC 供电 。 电源 输入 与 信号 端及 通讯 端 完全 隔离 ； 　 　 ） 本 机 报警 — — 所有 模块 具有 输入 信号 本 机 报警 功能 ， 由 预先 设置 的 报警 门限 进行 触发 。 报警 参数 可以 在 不 中断 操作 的 情况 下 进行 修改 。 　 　 ALPHA 系列产品 严格 依照 当前 工业 标准 制造 。 CE 设计 满足 ECEEC 标准 、 EECEMC 标准 以及 EEC 低电压 标准 。 校准 满足 IPNEMA 标准 。 ALPHA 系列产品 功能 见表 。 表 型号 通道 数 测量 类型 模拟 模拟 模拟 模拟 数字 数字 数字通讯 通讯 通讯 直流电 压 热电偶 直流电 流 　 　 电阻 　 　 应变 　 　 RTD 　 　 RS 通讯 RS 通讯 　 ETHERNET 通讯 　 　 　 　 　 　 　 　 　 计数 　 　 　 　 数字 输入 　 　 　 　 数字 输出 　 　 　 　 　 计时 　 　 　 　 　 　 周期 　 　 　 　 　 　 频率 　 　 　 　 　 　 辅助 报警 IO 　 电源 　 　 　 　 　 　 　 高 隔离 V 　 　 　 　 各 模块 性能 简介 　 　 ALPHA 数据 采集器 共有 X 、 X 、 X 三大 系列 十种 型号 。 其中 X 系列 用于 模拟量 的 测量 ， X 系列 用于 数字 量 的 测量 或 控制 ， X 系列 用于 系统控制 和 网络通讯 。 　 X 系列 模拟 模块 　 　 X 系列 包括 热电偶 模块 、 电压 和 电流 模块 、 RTD 、 电阻 和 电压 输入 模块 、 以及 具有 隔离 功能 的 电压 和 电流 模块 。 其 特点 是 ： 　 　 ① 模拟量 的 测量 ； ② 多通道 ； ③ 辅助 报警 IO ； ④ 可编程 设置 测量 类型 ； ⑤ 报警 电平 和 设置 功能 。 　 　 多项 功能 （ 测量 、 工程 换算 、 报警 处理 和 通讯 ） 并存 于 同一 模块 。 　 　 热电偶 模块 可 进行 个 通道 ～ 位 可变 字长 分辨率 和 μ V 灵敏度 的 电压 和 热电偶 测量 。 该 模块 配有 专用 热电偶 联接器 ， 具有 精确 的 热电偶 冷端 补偿 ， 在 较 高精度 的 输出 热电偶 上 可 获得 ° C 的 精度 。 模块 适用 于 大部分 工业 通用 热电偶 ， 可 监测 热电偶 的 工作 状态 、 报告 开路 及 损耗 情况 。 　 　 电压 和 电流 模块 可 进行 个 通道 ～ 位 可变 字长 分辨率 和 μ V 灵敏度 的 电压 和 电流 测量 。 该 模块 配有 通用 的 隔离 螺栓 联接器 ， 可 用于 测量 标准 ～ mA 电流 测量 ， 并 带有 相应 的 内部 分流器 。 模块 组装 时 确定 了 测量 电流 的 通道 号 ， 不带 分流 时 ， 该 模块 可 用于 测量 电压 ， 费用 低于 模块 ， 而且 还 配有 方便 的 隔离 螺栓 联接器 ， 可 使用 外部 分流器 ， 但 精度 取决于 连接 及 所用 分流器 的 灵敏度 。 　 　 RTD 、 电阻 和 电压 输入 模块 可 进行 个 通道 ～ 位 可变 字长 分辨率 和 μ V 灵敏度 的 RTD 、 电阻 和 电压 测量 。 该 模块 配有 通用 的 隔离 螺栓 联接器 ， 可 采用 二 、 三 或 四线 制 测量 标准 铂电阻 RTD 。 电阻 模式 可 用于 热敏电阻 或 其它 电阻 传感器 的 测量 。 　 　 是 具有 高 隔离 （ V ） 功能 的 电压 和 电流 模块 ， 除 没有 辅助 报警 IO 外 ， 其余 功能 与 模块 相同 。 　 　 可 对 X 系列 模块 编程 ， 在 一个 完整 的 主 循环 （ 或 Hz ） 中 对 被 测 信号 积分 ， 使 模块 能 抑制 叠加 在 mV 信号 上 的 干扰 。 在 测量 中 连续 监测 干扰 ， 如果 干扰 超出 了 测量 模式 所 允许 的 动态 范围 （ 自动 量程 下该 范围 要大些 ） ， 将会 产生 错误报告 。 此外 ， X 系列 模块 可 连续 进行 测量 ， 或 根据 主机 所 发出 的 命令 进行 测量 ， 并 能 按 管理软件 要求 的 格式 返回 。 　 　 X 系列 具有 报警 功能 。 X 系列 模拟 模块 有 三个 数字 输出 和 一个 数字 输入 它们 可 一起 驱动 一个 本 机 报警 指示器 。 两个 报警 输出 可 由 高于 （ 第一个 报警 输出 ） 或 低于 （ 第二个 报警 输出 ） 报警 限 的 任一 通道 设置 。 可 对 每 一个 通道 编程 设置 报警 上限 和 下限 以及 死 区 阈值 ， 以 确保 信号 转换 到 报警 状态 。 数字 输出 电平 适用 于 采用 隔离 输入 的 外部 小 功率 继电器 。 第三个 输出 是 一个 隔离 继电器 ， 可 用于 驱动 声音 报警 。 该 报警 输出 可 通过 使 数字 输出 的 触点 闭合 来 表示 “ 收到 ” 和 取消 。 当 出现 新 的 报警 或 通道 状态 错误 时 ， 输出 可 再次 打开 。 （ 注意 ： 两个 报警 输出 和 表示 “ 收到 ” 的 输入 未 与 RS 通讯 口 隔离 ） 。 　 X 系列 数字 模块 　 　 X 系列 包括 数字 输入 模块 、 数字 输入 输出模块 和 事件 捕获 模块 。 其 特点 是 ： 　 　 对于 、 模块 ， 有 ： 　 　 ① 数字 状态 输入 （ 有个 通道 用于 输出 ） ； ② 计数 ； ③ 低频 测量 ； ④ 每个 模块 多通道 ； ⑤ 辅助 报警 IO ； ⑥ 完全 隔离 输入 （ 有 继电器 输出 ） ； ⑦ 低速 功能 可 进行 编程 过滤 ； ⑧ 每个 通道 有 指示灯 。 　 　 模块 的 功能 有 ： 　 　 ① 状态 、 计数 、 频率 、 周期 和 现场 计时 功能 ； ② 每个 模块 通道 ； ③ 个 通道 支持 kHz 计数 和 频率 测量 ； ④ 个 通道 支持 周期 测量 ； ⑤ 所有 输入 通道 状态 改变 的 计时 测量 分辨率 为 ms ； ⑥ 与 网络 中 其它 模块 同步 测量 ； ⑦ 本 机 存储 数据 。 　 　 模块 有个 隔离 数字 输入 通道 ， 用于 状态 监测 、 计数 和 频率 测量 ， 输出 可 用于 本 机 报警 或 监控 。 该 模块 成本低 ， 适用 于 要求 输入 间 相互 隔离 的 场合 。 　 　 模块 有个 隔离 数字 输入 通道 ， 用于 状态 监测 、 计数 及 频率 测量 ， 并 有 个 继电器 输出 通道 。 每 一个 输出 通道 间 相互 隔离 ， 能 直接 驱动 开关 装置 或 其它 交流 或 直流 负载 。 模块 还 为 本机 报警 或 监控 提供 了 额外 的 输出 。 　 　 事件 捕获 模块 用于 精确 记录 检测 到 的 事件 。 该 模块 提供 个 全 隔离 输入 通道 用于 事件 测量 。 可 用于 事件 时序 的 监测 ， 例如 工业 现场 的 跳闸 和 控制 反应 等 ， 以便 研究 原因 及 影响 。 的 主要 功能 是 以 实时 时间 为 基准 ， 记录 输入 端的 变化 。 所 记录 的 事件 进入 缓存 区 并 由 主机 读取 ， 不会 丢失 后续 事件 。 每个 都 有 一个 独立 的 缓存 区 ， 能 随时 接受 访问 。 输入 信号 是 有 条件 的 。 能够 灵活处理 常见问题 ， 如 触点 抖动 ， 使 机械 触点 不会 记录 为 多个 事件 。 主机 与 的 通讯 是 通过 RS 网络 ， 用于 设置 该 模块 的 指令 只有 很少 几个 。 事件 记录 的 分辨率 是 ms ， 在 分散 使用 时 ， 所有 记录器 能够 保持 同步 。 输入 状态 的 变化 也 可 同时 被 计数 ， 并 不 影响 事件 记录 功能 。 输入 通道 的 当前 状态 或计 数值 可 根据 需要 返回 主机 。 全部 通道 也 可 进行 不 超过 Hz 的 频率 测量 。 个 通道 测量 时 最大 频率 可 达到 Hz 。 周期 及 间隔 的 测量 可以 用个 通道 进行 ， 以 提高 低频 信号 的 分辨率 。 与 现场 的 联接 采用 隔离 螺栓 联接器 。 　 　 数字 模块 同样 具有 报警 功能 。 数字 模块 有 三个 辅助 数字 输出 和 一个 数字 输入 。 它们 可 一起 驱功 一个 本 机 报警 指示器 。 　 　 对于 、 模块 ， 设置 通道 （ 为 ～ ， 为 ～ ） 中 任一 通道 可 产生 第一个 报警 输出 ， 设置 通道 （ 为 ～ ， 为 ～ ） 中任 一个 通道 可 产生 第二个 报警 输出 。 可 对 每 一个 状态 通道 ， 编程 设置 报警 状态 （ 或 ） 。 计数 输入 只能 指定 一个 高电平 报警 。 两种 报警 输出 的 数字电 平 适用 于 采用 隔离 输入 的 外部 小 功率 继电器 。 　 　 对于 模块 ， 可 对 每 一个 状态 或 事件 通道 编程 设置 报警 状态 （ 或 ） 。 测量 频率 、 周期 和 间隔 时 ， 可 设置 报警 上限 和 下限 以及 死 区 阀值 ， 以 确保 信号 转换 到 报警 状态 。 只有 当 通道 设置 为 计数 时 才能 指定 高电平 报警 。 两种 报警 输出 的 数字电 平 适用 于 采用 隔离 输入 的 外部 小 功率 继电器 。 数字 模块 三个 输出 是 一个 隔离 继电器 ， 可 用于 驱动 声音 报警 。 该 报警 输出 可 通过 使 数字 输出 的 触点 闭合 来 表示 “ 收到 ” 和 取消 。 当 出现 新 的 报警 或 通道 状态 错误 时 ， 输出 可 一次 打开 。 （ 注意 ： 前 两个 报警 输出 和 表示 “ 收到 ” 的 输入 未 与 RS 通讯 口 隔离 。 ） 　 X 系列 主机 适配器 及 接口 　 　 X 系列 包括 带 隔离 电源 （ 与 PC 电源 隔离 ） 的 ISA 总线 RS 接口 、 RS — 适配器 、 无线电 网 适配器 ， 该 系列 主要 用于 数据 采集器 的 网络通讯 和 控制 。 　 　 ISA 总线 RS 接口 可 直接 向 五个 模块 供电 ， 支持 标准 波特率 kB 或 更 高 的 波特率 ， 具有 标准 COM 口 ； RS — RS 适配器 具有 内部 方向 控制 功能 ， 无线电 网 适配器 拥有 IP地址 ， 这 两个 模块 均 用 DIN 导轨 安装 。 　 　 这些 适配器 使 模块 的 接口 能 与 标准 PC 相连 ， 通过 RS 接口 进行 通讯 和 监测 。 对于 要求 使用 标准 串行口 的 场合 ， 主机 适配器 允许 通讯 口 对 RS 网络 操作 。 标准 软件 语言 能以 软件 支持 的 波特率 与 输入 输出模块 通讯 。 对 用户 而言 ， RS 收发 设备 的 操作 是 自动 并且 透明 的 。 RS 主机 接口 能 使 计算机 在 较 高 波特率 下 工作 ， 纠错 与 缓存 性好 ， 驱动 软件 和 子程序 与 产品 一起 提供 ， 以 获得 更佳 性能 。 　 　 作为 替代品 ， 无线电 网络适配器 能 直接 与 无线电 网络 服务器 通讯 ， 该 模块 运行 自己 从 服务器 调用 的 相应 软件 ， 在 其 IP地址 上 按 TCPIP 协定 传送数据 。 岁 　 男 　 高级 工程师 　 读者 服务卡 索引 号 ： 作者 单位 ： 长城 计量 测试 技术 研究所 ， 北京市 ， 未完待续 收稿