自动化 学报 ACTAAUTOMATICASINICA 年 　 第卷 　 第期 　 Vol 　 No 　 变焦 遗传算法 及其 并行 实现 研究 覃祖旭 　 张洪钺 　 陈一虹 　 　 摘要 　 遗传算法 GeneticAlogrithmGA 以其 简洁 及 适应性 而 获得 广泛应用 通常 遗传算法 由于 串 格式 及 串长 的 限制 ， 搜索 空间 及 分辨率 是 有限 的 ， 因而 往往 收敛 于 局部 最优 文中 提出 了 适宜 串 、 并行计算 的 变焦 Zooming 遗传算法 及 多任务 并行 策略 ， 采用 了 解码 因子 、 搜索 中心 、 快速 变异 等 策略 来 解决 搜索 空间 与 分辨率 的 矛盾 ， 并 在 工作站 及 transputer 上 分别 以 串行 、 并行 方式 实现 了 变焦 遗传算法 　 　 关键词 　 变焦 遗传算法 ZGA ， 解码 因子 ， 搜索 中心 ， 并行 ONZOOMINGGENETICALGORITHMANDITSPARALLELREALIZATIONQINZUXU 　 　 ZHANGHONGYUE 　 　 CHENYIHONGDepartmentofAutomaticControlBeijingUniversityofAeronauticsandAstronauticsBeijingAbstract 　 GeneticalgorithmGAiswidelyappliedtomanyfieldsduetoitssimplicityandadaptabilityGenerallythesearchspaceandresolutionofGAarelimitedbythestringofGAthereforethesolutionsgivenbyGAareusuallylocalresultsThispaperanalyzestheproblemsinGAandproposesthezoomingGAZGAwhichissuitedtosequentialandparallelcomputationStrategiessuchasdecodedfactorsearchcenterfastmutationetcareadoptedandtheZGAisrealizedonawokrstationandtransputersinsequentialandparallelmannersrespectivelyKeywords 　 ZoominggeneticalgorithmZGAdecodedfactorsearchcenterparallel 　 引言 　 　 GA 是 建立 在 自然 遗传学 机理 基础 上 的 优化 算法 它 的 思想 来自 达尔文 “ 适者生存 ” 以及 遗传 、 变异 的 基本 思想 ［ ， ］ GA 以其 很 强 的 解决问题 的 能力 和 广泛 的 适应性 渗透到 各个领域 ， 并 取得 了 很 好 的 效果 它 具有 很多 良好 的 特性 ， 如 只 采用 目标 函数 ， 而 不 需要 其他 辅助 条件 如 梯度 等 ， 因而 几乎 适用 于 各种 场合 ； 同时 搜索 解 空间 的 许多 点 ， 具有 并行 特性 、 能 搜索 复杂 的 有 噪声 的 多 峰值 解 空间 等 在 基本 遗传算法 及 粗精 搜索 思想 ［ ， ］ 的 基础 上 ， 本文 提出 了 变焦 遗传算法 ， 它 除了 具有 GA 的 优点 外 ， 还 具有 易 并行处理 、 适宜 约束 优化 、 收敛 速度 快 等 优点 通常 ， 基本 遗传算法 用于 求解 如下 问题 maxorminJ θ θ ∈ DDRn 　 　 　 　 　 　 　 　 　 　 　 　 　 其中 θ 为 参数 向量 ， D 为 约束 所 限 参数 集该 算法 ［ ， ］ 的 求解 过程 如下 ： 　 　 确定 需要 优化 的 各种 参数 ， 将 参数 按 顺序排列 形成 向量 θ ∈ Rn θ θ … θ nT 并 设计 合适 的 串 S ； 由 参数 θ 到 串 S 的 过程 称为 编码 ， 由串 计算 出 参数值 的 过程 称为 解码 ， 可用 下 式 表示 　 　 　 　 　 　 　 　 　 　 　 　 其中 t 为 编码 规则 ， p 为 解码 规则 ； 　 　 根据 求解 问题 ， 选择 适当 形式 的 目标 函数 或 适应 函数 ， 记为 J θ 或 JS ； 　 　 随机 初始化 m ＞ l 个 解串 Sii … m ， 即 选定 一组 初始 解 一个 群 ； 　 　 对 每个 串 进行 解码 ， 再 计算 每个 解 的 目标 函数 值 适应 值 J θ ii … m 　 　 从群 中 挑出 l 个 适应 值 较大 的 串 Sii … l 　 　 对 l 个 串 构成 匹配 集 进行 遗传 进化 ， 即用 遗传 算子 对 匹配 集内 的 串 进行 运算 ， 主要 的 两个 算子 是 交叉 crossover 及 变异 mutation ； 有时 也 采用 另外 一些 遗传 算子 ［ ， ］ ； 　 　 对 产生 的 新串 解码 并 计算 相应 的 适应 值 ； 　 　 判断 适应 值 或 遗传 代数 是否 满足要求 ， 否则 转 继续 优化 　 变焦 遗传算法 　 　 基本 遗传算法 在 无约束 优化 中 ， 求解 空间 为 Rn 由于 串 格式 及 串长 的 限制 ， 基本 遗传算法 搜索 空间 及 分辨率 是 有限 的 ， 只能 覆盖 部分 解 空间 ， 而且 解 的 精度 也 有限 ， 因而 往往 是 局部收敛 由 基本 GA 可以 看出 ， 首先 要 设计 合适 的 串 S 及 相应 的 解码 规则 设 问题 的 全局 最优 解 θ ∈ DRn ， 所 设计 的 串 S 解码 后 所 覆盖 的 区域 为 DS ， 因而 用 GA 求得 全局 最小 的 必要条件 是 θ ∈ DS 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 事实上 一旦 S 的 格式 确定 下来 ， DS 也 就 确定 了 在 求解 某些 问题 时 ， 由于 问题 的 特殊性 、 串长 及 解码 格式 的 限制 ， 往往 不能 保证 条件 ， 因而 所得 的 解 可能 是 局部 最优 从 理论 上 讲 ， 如果 完全 不 知道 最优 解 的 位置 ， 则 设计 的 串 应能 覆盖 Rn ， 因此 要求 串 是 无限 长 的 ， 这 不 可能 在 实际 中 ， 最优 解 或 近似 最优 解 往往 都 应 是 可以 物理 实现 的 数值 不 可能 很大 ， 因此 可 根据 实际 问题 ， 合理 地 选取 串 格式 及 串长 此外 ， 在 基本 的 GA 中 往往 采用 大 概率 交叉 ， 小 概率 变异 ， 这种 策略 在 接近 最优 解时 搜索 非常 缓慢 ， 即 所谓 成熟 前 收敛 的 问题 针对 以上 存在 的 问题 ， 这里 提出 了 变焦 遗传算法 主要 思想 如下 ： 　 　 ① 变焦 GA 引进 了 解码 因子 α 的 概念 ， 主要 是 为了 解决 有限 串长 时 覆盖 区域 与 分辨率 之间 的 矛盾 ， 在 大 范围 内 搜索 时 采用 较大 的 解码 因子 分辨率 较 低 ， 小 范围 内 采用 较 小 的 解码 因子 分辨率 较 高 因此 ， 为 保证 求得 全局 最优 ， 初始 串应 覆盖 较大 的 区域 ， 即 初始 解码 因子 α 应 选择 大 一些 这 类似 于 “ 粗精 ” 搜索 策略 　 　 ② 采用 了 搜索 中心 及 最优 增量 如果 串 S 经 解码 后 对应 解 的 最大 范数 为 ‖ θ ‖ ， 则 GA 搜索 的 区域 DS 为 欧氏 空间 以 θ 为 搜索 中心 它 可以 根据 实际 情况 给定 ， 也 可以 设在 原点 θ ， 搜索 半径 为 α ‖ θ ‖ R 的 超 椭球 体 对于 固定 的 串长 及 串 格式 ， 遗传算法 是 在 这个 区域 内寻优 ， 如果 这个 区域 较大 ， 获得 全局 最优 解 的 可能性 就 较大 在 变焦 遗传算法 中 ， 遗传 优化 求得 的 是 某 一 解码 因子 α i 对应 的 搜索 中心 θ i 的 增量 ， 增量 最大 变化 范围 为 α iRi ， 最优 增量 记 为 Δ θ i ， 问题 的 最优 解为 θ ∑ Δ θ i 这 一点 是 与 基本 遗传算法 相 区别 的 解码 因子 、 搜索 中心 、 最优 解 形成 下面 系列 　 　 解码 因子 ： α α α α α … α i … 　 　 搜索 中心 ： θ θ θ θ … θ i … 　 　 最优 解 ： θ θ Δ θ θ θ Δ θ θ Δ θ j … θ i θ i Δ θ θ Δ θ j … 　 　 ③ 采用 了 “ 快速 变异 ” 策略 基本 思想 是 在 较 小 的 解码 因子 接近 最优 解时 ， 采用 较大 概率 变异 ， 使 各 个体 迅速 变化 并 覆盖 整个 搜索 区域 ， 加速 收敛 速度 由于 变焦 算法 搜索 的 是 最优 增量 ， 快速 变异 不会 丢失 最优 解 这种 算法 是 在 小 的 搜索 范围 内 ， 将 GA 向 随机 搜索 方向 转化 变焦 算法 还用 了 “ 强迫 变异 ” 策略 ， 对 那些 不 适应环境 适应 值较 小 的 个体 进行 强迫 变异 ； 如果 仍然 较差 ， 则 淘汰 掉 并 以 新 的 个体 取代 移民 策略 　 　 本文 将 采用 以上 改进 的 遗传算法 称为 变焦 遗传算法 不难看出 ， 基本 遗传算法 是 变焦 遗传算法 的 一种 特殊 情形 ， 相当于 搜索 中心 在 原点 ， 搜索 半径 、 解码 因子 固定 的 情形 因此 ， ZGA 完全 具有 GA 的 优点 ， 同时 它 还 具有 如下 优点 ： 容易 进行 任务 并行计算 ； 非常 适宜 约束 优化 计算 ， 特别 是 区域 约束 的 情形 ； 易于 同 其他 算法 如 梯度 算法 结合 使用 　 变焦 遗传算法 的 并行 实现 　 　 采用 并行处理技术 ， 可 突破 传统 串行 计算机 的 “ 瓶颈 ” 问题 ， 使 处理速度 成倍 加快 ， 同时 也 有助于 提高 系统 的 可靠性 在 并行处理 硬件 方面 ， 国内外 大多 采用 由 英国 INMOS 生产 公司 Transputer 晶片 机构 成 的 或 美国 Texas 仪器 公司 生产 的 TMS 系列 芯片 构成 的 并行 计算机 ， 它们 为 并行处理 提供 良好 的 硬件 基础 　 　 利用 并行处理 来 扩大 遗传算法 的 搜索 区域 、 加快 搜索 速度 是 非常 有效 的 手段 Transputer 是 目前 广泛 采用 的 一种 并行 硬件 由 Transputer 可能 构成 大规模 的 并行 阵列 以 提高 计算速度 ， 但 晶片 机 的 频繁 通讯 也 会 影响 其 效率 ， 因此 晶片 机 适用 于 通信量 较少 的 任务 并行计算 本文 采用 的 是 INMOST 晶片 机系统 ， 该 系统 是 以 Sun 为 宿主机 ， 在 以太网 上 由 晶片 机构 成 的 并行 加速度 器 　 　 利用 变焦 遗传算法 搜索 中心 的 概念 ， 可以 按 区域 搜索 进行 任务 分割 ， 因此 变焦 遗传算法 可以 完全 做到 不 进行 中间 通讯 ， 只 在 计算 结束 时 与 主机 通讯 ， 传送 计算结果 ， 由 主机 进行 最优 解 的 选择 我们 在 Transputer 上 成功 地 应用 变焦 遗传算法 并行计算 了 以下 函数 极小值 ， 同时 也 在 SGI 工作站 上 利用 变焦 遗传算法 计算 了 其 极小值 　 　 fx × x × x × x × xxxxx 　 　 计算 中 采用 十进制 串 格式 ， 串长 为 ， 在 此 串长 及 串 格式 下 的 搜索 区域 为 ± α × 为了 使 搜索 区域 尽量 大 ， 在 工作站 上 串行 计算 时 ， 共 选取 了 个 搜索 中心 xxx … x ， 并 顺序搜索 完成 优化 计算 在 片 Transputer 上 ， 每个 晶片 机 选取 上面 一个 搜索 中心 进行 搜索 ， 所 需 时间 大致 为 串行 计算 的 在 x 的 搜索 中心 处 ， 经过 三次 改变 解码 因子 及 采用 快速 变异 策略 ， 共代 遗传 优化 ， 求得 最小 点为 xfx 其他 搜索 中心 的 局部 最小值 均 大于 x 处 最小值 为了 便于 比较 ， 还 采用 了 基本 遗传算法 ， 在 x 附近 的 区域 进行 寻优 ， 经过 次 搜索 求得 上述 函数 最小 点为 xfx 由此可见 ， ZGA 比 GA 搜索 速度 大大提高 ， 搜索 区域 也 增大 了 ， 在 最 优点 附近 ， 能 较 好地解决 成熟 前 收敛 的 问题 　 应用 　 　 这里 将 变焦 遗传算法 应用 于 两相 伺服 电动机 CAD 系统 中 的 约束 优化 ［ ］ ， 取得 了 较 好 的 效果 两相 伺服电机 参数 的 选择 是 一个 的 约束 优化 问题 ， 要求 电机 体积 尽量 小 体积 约束 ， 而 性能 达到 要求 的 技术指标 指标 约束 ， 力求 在 额定 状态 下 获得 最高 效率 目标 函数 为 V 为 电机 体积 ， 为 电机 效率 优化 的 变量 X 主要 选 为 结构 尺寸 XxxxxxT ， 其中 x 为 定子 铁芯 长 lx 为 定子 槽 底 宽 bcdx 为 定子 齿 宽 bzx 为 转子 槽 高 hcx 为 转子 槽 宽 bz 约束条件 是 由 电机 的 性能 要求 决定 的 ， 可 根据 电机 设计 的 技术 性能指标 推导 出来 ， 共有 个 约束条件 ， 包括 体积 约束 及 指标 约束 表 给出 了 SLD 型 电机 尺寸 的 几组 约束条件 ， 均 为 区域 约束 ， 因此 采用 变焦 遗传算法 是 比较 便利 的 优化 计算 中 搜索 中心 可取 为 约束 区域 的 中心 ， X 　 　 　 　 表 所示 为 将 ZGA 与 外点 SUMT 法 模式 搜索 分别 用于 优化 计算 的 结果 表 　 六组 约束条件 参数 x ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ x ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ x ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ x ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ x ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ ［ ］ 表 　 不同 约束条件 下 的 优化 结果 方法 约束 外点 SUMT 法 模式 搜索 目标 函数 值 计算 时间 秒 变焦 遗传算法 目标 函数 值 计算 时间 秒 　 　 从表 可以 看出 ， 变焦 遗传算法 计算 时间 稍长 ， 但 其 搜索 结果 要 明显 优于 外点 SUMT 模式 搜索 方法 ； 对于 第五组 约束 ， 外点 SUMT 模式 搜索 未能 给出 满足 约束 的 结果 　 结语 　 　 本文 所 提出 的 变焦 遗传算法 既 适于 串行 计算 更 适合 于 并行处理 ， 在 Transputer 上 实现 起来 十分 容易 变焦 遗传算法 还 被 应用 于 其他 约束 优化 问题 ， 具有 很 好 的 特性 ； 在 神经网络 的 优化 中同 BP 算法 相结合 可 大大 加快 收敛 速度 　 　 致谢 　 本文 得到 清华大学 计算机系统 与 应用 实验室 的 支持 ， 在 此 表示感谢 得到 国家自然科学基金 及 航空 科学基金 的 资助 作者 单位 ： 北京航空航天大学 教研室 　 北京 　 参考文献 　 DavidBForgelAnintroductiontosimulatedevolutionaryoptimizationIEEETransNeuralNetworks 　 陈根社 ， 陈 新海 遗传算法 的 研究 与 进展 信息 与 控制 ， 　 NicolNSchroudolphDynamicparameterencodingforgeneticalgorithmsMachineLearning 　 ShalelerCGTheARGOTStrategyAdaptiverepresentationgeneticoptimizertechniqueInProceedingofthesecondinternationalconferenceonGeneticalgorithmsBeijing 　 何 　 期两相 伺服 电动机 CAD 系统 研究 与 开发 ［ 学位 论文 ］ 北京 ： 航空航天 大学 ， 收稿 日期