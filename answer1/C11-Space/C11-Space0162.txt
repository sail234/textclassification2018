宇航学 报 JOURNALOFASTRONAUTICS 年 第期 NoMay 科技期刊 FDF 鲁棒 决策 方法 研究 何 英姿 　 张 　 兵 　 吴宏鑫 北京 控制工程 研究所 北京 信箱 分箱 　 　 摘 　 要 　 故障 检测 滤波器 FDF 是 故障 检测 与 隔离 FDI 方法 中 一种 重要 而 系统 的 方法 但 到 目前为止 有关 这种 方法 的 研究 基本上 都 基于 模型 参数 精确 已知 的 情况 本文 研究 了 具有 模型 误差 时 FDF 的 鲁棒 决策 方法 得到 了 一些 有 意义 的 结论 。 　 　 主题词 　 FDI 　 FDF 　 模型 误差 　 鲁棒 决策 THERESEARCHOFFDFROBUSTDECISIONMETHODHeYingzi 　 Zhangbing 　 WuHongxinBeijingInstituteofControlEngineeringBeijingbox 　 　 Abstract 　 FaultDetectionFilterFDFisanimportantandsystematicmethodamongthemethodsofFaultDetectionandIsolationbutthemodeluncertaintyisalmostnotconsideredbynowThispaperdosomeworkabouttherobustdecisionofFDFwhenthereisuncertaintyproblemandgetsomegoodresult 　 　 Keywords 　 FDI 　 FDF 　 Modeluncertainty 　 Robustdecision 　 引 　 言 　 　 FDI 是 近年来 控制 界 的 一个 热门话题 。 从 本质 上 来说 FDI 方法 可以 分为 两大类 即 基于 状态 估计 的 方法 和 基于 参数估计 的 方法 。 关于 故障 检测 与 诊断 各种 方法 及其 应用 的 综述 可 参见 代表性 文章 ［ ］ 。 　 　 FDF 是 一种 基于 状态 估计 的 方法 。 它 由 Beard 于 年 首次 提出 ［ ］ 它 的 出现 标志 着 FDI 技术 从 传统 的 基于 系统 输入输出 的 无 模型 方法 到 基本 模型 的 解析 冗余 方法 的 飞跃 。 FDF 又称 故障 灵敏 滤波器 它 是 一个 全阶 状态 估计 器 但 其 观测器 增益 阵 选取 特殊 使得 输出 残差 输出 估计 误差 在 特定 的 故障 发生 时有 特定 的 方向 。 一般 选择 观测器 增益 阵 使得 残差 在 执行机构 或元 部件 故障 时 固定 在 某 一 特定 方向 而 传感器 故障 时 维持 于 某 一 平面 内 。 　 　 FDF 方法 用于 故障 检测 的 一个 优越性 是 它 无需 故障 模式 信息 因为 在 这种 方法 中 故障 检测 的 重要 信息 在于 残差 方向 而 非 其 时间 函数 。 由于 这一 特点 FDF 在 最近 二十年 里 得到 广泛 的 重视 。 但是 FDF 方法 对模型 不 确定 的 鲁棒性 问题 一直 没有 结论 。 仅 有 的 对 FDF 方法 鲁棒性 的 研究 是 利用 未知 输入 观测器 方法 ［ ］ 。 这种 方法 设计 比较复杂 要求 预先 知道 未知 输入 的 结构 矩阵 占用 较 多 的 设计 自由度 使 FDF 只能 在 剩余 自由度 上 进行 设计 。 　 　 解决 FDI 鲁棒性 问题 的 途径 有 两种 一是 设计 一种 对 不 确定 具有 鲁棒性 的 残差 产生 方法 这是 从根本上 解决问题 但 这种 方法 难度 较大 通常 有 一些 严格 限制 条件 不易 实现 另 一 途径 是 分析模型 误差 等 不确定性 对系统 的 影响 在 检测 和 隔离 时 附加 适当 的 阈值 这种 方法 简单 实用 但 如果 阈值 选取 不当 会 导致 漏报 或 误报 。 对于 FDF 未知 输入 观测器 属于 前 一种 方法 本文 希望 用 第二种 方法 来 解决 模型 存在 误差 时 的 鲁棒 FDF 设计 得到 合适 的 故障 检测 阈值 。 　 FDF 的 鲁棒 决策 方法 　 基本 FDF 方法 　 　 考虑 系统 其中 A ∈ Rn × nB ∈ Rn × qC ∈ Rm × n 当 系统 发生 部件 或 执行机构 故障 时 系统 方程 为 其中 fi ∈ Rn × 是 预先 知道 的 故障 方向 μ i 是 任意 未知 时变 标量 。 传感器 故障 时 系统 可以 描述 为 其中 qi ∈ Rm × 是 与 第 i 个 传感器 故障 相对 应 的 单位向量 。 　 　 检测 滤波器 具有 如下 通常 的 线性 观测器 形式 如果 定义 状态 估计 误差 和 输出 残差 分别 为 则 无故障 时 闭环 方程 为 　 　 FDF 的 目的 是 确定 检测 增益 阵 L 使 故障 fi 下 输出 残差 ε 与 Cfi 成正比 并 使得 滤波 误差 ε 在 出现 故障 的 瞬间 以及 达到 稳态 后 始终 与 Cfi 成正比 。 可以 证明 传感器 故障 下 检测 增益 阵 的 设计 与 之 统一 它 将 ε 方向 固定 在 一个 平面 内 ［ ］ 。 　 　 FDF 设计 的 核心 可 归结为 求解 下面 的 方程组 　 　 其中 WiCfiCvijj … nii … r 。 在 这里 与 故障 fi 有关 的 特征值 与 特征向量 的 数目 ni 是 待定 的 ni 个 有关 特征向量 vijj … n 构成 了 故障 fi 的 检测 空间 。 ni 的 确定 L 增益 阵 的 求取 等 参见 文献 ［ ］ 这里 不 具体 叙述 。 　 模型 存在 误差 带来 的 问题 　 　 无 模型 误差 时 FDF 设计 过程 保证 故障 输出 方向 Cfi 等于 某 一个 或 某 几个 系统 特征向量 Cvij 的 组合 使得 此 故障 下 的 输出 残差 方向 是 这个 特征向量 或 这 几个 特征向量 中 的 任何 一个 在 输出 空间 的 投影 同时 输出 残差 方向 也 就 与 故障 输出 方向 一致 。 FDF 方法 检测 与 隔离 故障 的 依据 是 看 输出 残差 向量 在 残差 空间 的 方向 是否 与 所 设计 的 某个 故障 输出 方向 一致 故障 的 检测 与 隔离 同步进行 为 简便 起见 后 文均 用 检测 代称 。 　 　 如果 系统 的 模型 存在 误差 则 故障 下 的 输出 残差 方向 并 不能 与 设计 方向 符合 。 假设 真实 系统 为 用于 建立 观测器 的 系统 模型 为 这里 AA ∈ Rn × nBB ∈ Rn × qC ∈ Rm × n 且 AB 能控 AC 能观 。 设则 故障 fi μ i 下 的 误差 系统 方程 为 其中 GALC 。 如果 考虑 噪声 以及 未 建模 动态 等 进一步 可 表达 为 其中 w 与 fi μ i 相 混合 而 一起 作用 于 误差 系统 它 代表 了 模型 参数 误差 、 噪声 、 未 建模 动态 等 的 影响 。 与 式 相比 可知 除了 w 项外式 的 不同之处 还有 G 与 G 的 差别 。 由于 FDF 设计 的 特点 上述 两类 不确定性 从 不同 的 角度 影响 故障 检测 性能 。 前者 “ 污染 ” 故障 向量 而 影响 故障 检测 称为 “ 显性 不确定性 ” 后者 改变 了 误差 系统 的 特征 方向 从而 改变 了 故障 下 设计 残差 输出 方向 称为 “ 隐性 不确定性 ” 。 FDF 的 鲁棒 决策 要 解决 的 问题 是 分析 上述 两 部分 不确定性 对 故障 检测 的 影响 采用 附加 阈值 等 手段 使 模型 存在 误差 时 FDF 方法 检测 故障 尽量 准确 。 　 FDF 的 鲁棒 决策 　 　 在 上 一节 中 给出 了 隐性 和 显性 两类 不确定性 相应 也 有 隐性 阈值 和 显性 阈值 之分 。 　 隐性 阈值 　 　 系统 模型 由 描述 相应 于 故障 方向 fjj … r 的 隐性 阈值 可 由 如下 定理 给出 。 定理 设 G 如前 定义 特征 根 λ ii … n 相应 特征向量 vii … n 并 满足 ‖ δ G ‖ ‖ δ A ‖ ≤ σ G 也 如前 定义 且 G 的 特征 根 相应 为 λ ii … n 特征向量 为 vii … n 。 记 特征值 扰动 为 δ λ i λ i λ i 特征向量 扰动 为 δ vivivi π i 为 所 设计 的 故障 fi 下 的 输出 残差 向量 π iCvij π i 为 对应 的 实际 输出 残差 向量 π iCvi 则 隐性 隔离 阈值 Ythjj … r 如下 表示 其中 　 　 证明 　 　 根据 已知 可以 得到 δ viTi λ i δ λ iI δ Gvi 其中 Ti λ i λ iIG 　 　 设 α i 为 π i 与 π i 的 夹角 根据 欧氏 空间 中 向量 夹角 的 定义 有 根据 假设 δ π i ≈ 因此 δ π i 与 π i 和 π i 分别 近似 正交 零 向量 与 任何 向量 正交 不难 得到 而 根据 线性代数 理论 有 所以 即 　 　 　 　 　 故障 fj μ j 对应 检测 空间 中 的 nj 个 特征向量 因此 选取 这 nj 个 α i 中 的 最大 上 界 作为 隐性 阈值 是 合适 的 即 阈值 可由式 给定 。 证毕 。 FFF 　 显性 阈值 　 　 显性 阈值 与 显性 不确定性 相对 故障 的 大小 有关 假设 当 ‖ ε ‖ τ ≥ ρ ‖ ε Δ ‖ τ 时 检测 到 故障 发生 。 其中 ‖ ε ‖ τ 和 ‖ ε Δ ‖ τ 分别 代表 系统 的 总 输出 残差 大小 和 仅仅 由 显性 不确定性 导致 的 输出 残差 大小 ‖ ‖ τ 表示 一种 基于 残差 均 方根 指标 的 范数 算子 ［ ］ 。 显性 阈值 可 由 如下 定理 给出 。 定理 　 对于 和 描述 的 系统 利用 FDF 检测 故障 时 的 显性 阈值 可取 为 其中 λ max 是 G 的 最大 特征值 α ij 是 构成 fi 的 ni 个 非 零 特征向量 对应 的 非 零 系数 λ ij 是 对应 特征值 上标 i 代表 相应 于 故障 fi 。 　 　 此 定理 证明 过程 比较 繁琐 限于 篇幅 这里 只 给出 证明 的 简单 思路 。 设令 ξ i 代表 ε t ε t δ ε t 与 ε t 的 夹角 类似 于 定理 可 得到 利用 式 、 式 和 式 以及 范数 性质 等 可 推导 出 从而 得到 式 。 　 　 由和式 得到 FDF 的 故障 检测 阈值 为 IthiXthiYthi 在 应用 FDF 方法 之前 先求 出 每 一个 故障 向量 对应 的 检测 阈值 当 发现 输出 残差 落 在 某个 设计 方向 的 阈值 之内 则 判断 相应 故障 发生 。 　 　 对于 传感器 故障 先验 确定 两个 故障 方向 然后 根据 这 两个 方向 按照 FDF 方法 进行 设计 并 可 利用 平面 夹角 的 概念 获得 检测 阈值 同样 可 得到 鲁棒 检测 结果 参见 作者 其它 论文 这里 不再 细述 。 　 　 由于 模型 不确定性 的 影响 故障 检测 不再 是 看 残差 是否 与 某个 设计 故障 方向 重合 而是 看 它 落 在 哪个 检测 锥以 设计 方向 为 中心 以 检测 阈值 为 半锥角 之中 。 当 检测 锥 出现 相交 区域 时 相应 故障 虽可 检测 但 不可 隔离 必须 借助 其它 手段 。 　 鲁棒 FDF 方法 在 卫星 姿控 系统故障 检测 中 的 仿真 研究 　 　 为了 说明 FDF 鲁棒 决策 方法 的 有效性 下面 看 一个 具体 实例 。 假设 卫星 姿 控系统 的 部件 只 在 稳态 以后 才 有 可能 发生 故障 。 考虑 某 卫星 在 稳态 运动 时 俯仰 轴 的 姿态控制 在 平衡点 对系统 运动 方程 线性化 得到 一个 四阶 状态方程 。 其中 状态变量 为 x ［ x 　 x 　 x 　 x ］ T 各 分量 分别 代表 俯仰 姿态 角 帆板 转角 俯仰角 速度 和 帆板 转动 角速度 。 控制 作用 为 俯仰 轮控 力矩 和 帆板 驱动 力矩 TyTp 记为 u ［ Ty 　 Tp ］ T 。 通过 测量 和 数学 解算 等 手段 可以 得到 所有 四个 状态变量 状态方程 与 输出 方程 各 系数 矩阵 为 　 　 由于 上述 系统 经过 小 角度 线性化 得到 并 略去 了 帆板 带来 的 挠性 因此 模型 必然 存在 误差 。 通过 分析 可知 模型 参数 A 处于 真实 参数 的 较 小 扰动 范围 之 内设 σ 。 考虑 执行机构 俯仰 飞轮 和 帆板 驱动 机构 的 可能 故障 形式 可以 看到 俯仰 飞轮 和 帆板 驱动 机构 的 故障 方向 分别 为 　 　 按照 FDF 设计 方法 设计 出 系统 的 观测 增益 阵为 相应 特征值 和 特征向量 分别 为 其中 v 相应 于 故障 f 的 检测 空间 v 相应 于 故障 f 的 检测 空间 而 v 和 v 是 剩余 空间 有 π iCfiCvi 　 i 　 　 考虑 两个 故障 一是 俯仰 飞轮 由于 机械故障 等 导致 飞轮 减速 从而 输出 力矩 减小 二是 帆板 驱动 机构 由于 卡住 等 使得 驱动 力矩 减弱 。 按照 故障 幅度 相等 取 故障 TyTyTpTp 其中 TyTp 代表 预期 力矩 TyTp 代表 实际 力矩 。 仿真 中以 非线性 带 挠性 的 模型 递推 计算 来 模拟 卫星 真实 姿态 运动 过程 而 FDF 根据 线性 刚体 模型 进行 设计 并 附加 一定 测量 噪声 。 故障 发生 之前 可 得到 无故障 时 的 输出 残差 幅度 随时 监测 残差 幅度 变化 确定 ρ 从而 随时 计算 检测 阈值 。 在 这里 所 给 的 两种 故障 下 可以 得到 ρ ≈ 利用 和 式 可以 计算 出 。 Xth ° Yth ° Ith ° Xth ° Yth ° Ith ° 如果 μ i 时变 则 阈值 也 随之 变化 。 另外 由于 Cf 与 Cf 夹角 为 ° 这 两个 故障 的 检测 锥 是 相离 的 因此 是 完全 可分 的 。 　 　 图和图 分别 是 两 故障 下 输出 残差 与 相应 设计 方向 的 夹角 ° 附近 表示 μ i ＜ 。 两种 情况 下 残差 方向 均 进入 各自 的 检测 锥 之内 因此 易于 检测 故障 发生 。 图 　 俯仰 飞轮 于 秒 发生 式 所示 故障 时 输出 残差 与 Cf 的 夹角 图 　 BAPTA 于 秒 发生 式 所示 故障 时 输出 残差 与 Cf 的 夹角 　 小 　 结 　 　 本文 研究 了 存在 模型 误差 时 FDF 的 鲁棒 决策 方法 得到 了 解析 的 故障 检测 阈值 并 对 卫星 姿态控制 系统 的 执行机构 故障 进行 了 仿真 研究 。 本文 对 FDF 方法 的 实际 应用 作 了 一些 必要 工作 对 FDF 设计 有 一定 指导作用 。 　 　 后续 工作 还 需 进一步 研究 FDF 的 故障诊断 能力 以便 为 故障 系统 重构 等 提供 必要 信息 。 参考文献 　 IsermannRProcessfaultdetectionbasedonmodelingandestimationmethod — asurveyAutomatic 　 PaulMFrankFaultDiagnosisSystemUsingAnalyticalandKnowledgebasedRedundancy — aSurveyandSomeNewResultAutomatic 　 BeardRVFailureAccommodationinLinearSystemthroughSelfReorganizationReptMVTManVehicleLabCambridgeMA 　 JieChenRonJPattonandHongYueZhangDesignofunknowninputobserversandrobustfaultdetectionfiltersINTJControl 　 周 东华 控制系统 的 故障 检测 与 诊断 技术 清华大学出版社 　 李 清泉 自 适应 控制系统 理论 设计 与 应用 科学出版社 　 WilkinsonJHCantabMAScDTheAlgebraicEigenvalueProblemClerendonPressOxford