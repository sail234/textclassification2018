航空 工艺技术 AERONAUTICALMANUFACTURINGTECHNOLOGY 年 第期 No 控制 和 预测 焊接 质量 的 计算机 可视 系统 Э А 格拉德 柯夫 　 Р А 彼尔柯 夫斯基 　 А В 马 罗列 特柯夫 ［ 俄 ］ 　 　 摘要 　 介绍 了 控制 和 预测 熔焊 质量 的 计算机 可视 系统 的 结构 和 技术 特性 。 该 系统 能 在 航空 、 航天 、 原子能 等 部门 的 重要 焊接 结构 的 质量保证 方面 发挥 明显 作用 。 　 　 关键词 ： 计算机 可视 系统 　 激光 显微 光波 干涉 传感器 　 关系数据库 　 神经网络 模块 ComputerVisualSystemforControllingandPredictingWeldingQuality 　 　 ABSTRACT 　 ThestructureandtechnicalfeaturesofcomputervisualsystemforcontrollingandpredictingfusionweldingqualityareintroducedThissystemcanplayadistinctroleforqualityguaranteeonimportantweldingstructuresofaviationaerospaceandatomicenergyindustries 　 　 KeywordsComputervisualsystem 　 Laserprofilographsensor 　 Relationaldatabase 　 Neuronnetworkmodule 　 　 在 航空 和 航天部门 ， 焊接 广泛应用 于 制造 各种 材料 的 零部件 。 这些 产品 的 极端 重要性 对 焊接 接头 的 质量 提出 了 很 高 的 要求 。 由于 接头 形成 过程 中 存在 着 大量 降低 接头 质量 的 干扰 作用 ， 仅仅 依靠 正确 选择 焊接 工艺 和 规范 来 满足 这些 要求 实际上 是 困难 的 。 要 完全避免 干扰 因素 的 出现 ， 即使 生产 技能 进一步提高 也 不 可能 。 因为 质量 经常 被 产品 本身 不同 的 材料 ， 复杂 的 几何 外形 和 结构 、 产品 在 焊接 中 发生 的 物理 过程 产品 的 变形 和 翘曲 ， 材料 热 物理性能 和 化学成分 的 变化 等 、 焊接设备 及 自动 控制系统 等 因素 所 制约 。 实际上 ， 按照 一系列 综合 使用 指标 — — 接头 强度 、 热及 抗腐蚀 稳定性 、 抗 裂纹 稳定性 、 有否 气孔 与 杂质 之类 潜藏 的 缺陷 等 来 控制 焊缝 质量 的 问题 并未 解决 。 因此 ， 为了 从 本质 上 提高 重要 航宇 产品 焊接件 的 可靠性 ， 完善 焊接 质量 的 控制技术 是 一个 很 迫切 的 任务 。 　 系统结构 　 　 在 以 Н Э 包乌曼 命名 的 莫斯科 国立 技术 大学 里 ， 研究 了 计算机 可视 系统 的 基本 模型 ， 并用 它 来 控制 和 预测 各个 工业部门 重要 产品 的 焊接 质量 。 该 系统 是 一个 控制 焊接 质量 的 三 回路 系统 图 。 它 含有 控制 加热 源 运动 轨迹 的 回路 Ⅰ 、 为 保证 优质 焊缝 成形 的 参数 控制 回路 Ⅱ 及 预测 在 各种 干扰 作用 下 所 产生 缺陷 的 回路 Ⅲ 。 还 研制 了 可以 控制 熔焊 过程 的 仪表 和 软件 ， 以便 在 有 各种 干扰 时能 获得 优质 的 接头 。 根据 对 接头 的 要求 和 焊接设备 的 功能 ， 可视 系统 能 使 焊缝 单位 长度 所 需 的 能量 、 热源 总量 、 熔透 等 得以 稳定 ， 控制 金属 转移 并 按 数学模型 实现 接头 几何 形状 的 控制 。 图 　 控制 焊接 质量 的 三 回路 系统 Fig 　 Threeloopsystemforcontrollingweldingquality 　 　 可视 系统 的 组成 包括 对接 处 参数 、 焊接设备 工作 规范 、 加热 源 参数 及 获得 焊缝 参数 的 传感器 ， 信号 转换器 ， 计算机 及其 软件 ， 计算机 同 设备 联系 的 模块 ， 功率 放大器 和 执行机构 。 　 　 为了 测定 焊前 对接 处 的 几何 形状 和 形成 的 焊缝 形状 上面 宽度 和 突起 高度 ， 下面 宽度 和 下坠 ， 采用 了 按 三角测量 原理 工作 的 、 用 激光照明 的 电视 显微 光波 干涉 传感器 图 。 利用 功率 为 mW ， 有 圆形 光柱 的 连续 氦氖激光器 作 照明 。 影像 图由 电视 摄像机 传送 。 该机 配有 能 滤去 激光 射线 光谱 的 滤光镜 。 视频信号 进入计算机 电视 影像 输入板 并 在 那里 变换 成 数字 形式 。 传感器 的 特点 是 在 变换器 中 采用 AnalogDevices 公司 的 AD 高速 А Ц П 模块 。 它 可以 按种 不同 的 灰度级 别 展开 成 × 点 的 电视 画面 。 当 照明 源 与 电视 摄像机 轴线 间 的 角度 不大时 ， 能 得到 很 高 的 测量 精度 并 易于 将 传感器 放在 焊接 可视 系统 中 。 在 初步 处理 影像 后 ， 便 可以 用 软件 计算 对接 处 的 几何 形状 ， 精度 为 mm 。 图 　 对接 处 几何 形状 和 焊缝 形状 传感器 Fig 　 Sensorforbuttjointgeometryandweldshape 图 　 激光 显微 光波 干涉 传感器 工作 时 监视 屏上 不同 类型 对接 处 的 影像 Fig 　 Imageofdifferentsectionsofbuttjointonthemonitoringscreenwhenlaserprofilographsensorisworking 　 　 显微 光波 干涉 传感器 的 技术 特性 ： 　 　 　 　 垂直 坐标 测量 精度 　 　 mm 　 　 　 　 垂直 坐标 测量范围 　 　 mm 　 　 　 　 水平 坐标 测量 精度 　 　 mm 　 　 　 　 水平 坐标 测量范围 　 　 mm 　 　 　 　 视觉 范围 　 　 　 　 　 　 mm × mm 　 　 　 　 画面 处理 时间 　 　 　 　 s 　 　 　 　 至 表面 的 距离 　 　 　 　 ～ mm 　 　 为 测定 焊接 时 电极 和 对接 处 的 相互 位置 ， 采用 了 以 电视 摄像机 为 基础 的 传感器 图 。 电视 摄像机 配有 能 使 视觉 范围 内 的 目标 对比 均匀 化 的 专用 光学 附加 镜 ， 可 同时 在 监视 屏上 观察 到 对接 处 、 电弧 、 焊接 熔池 和 电极 ， 以 测量 逼近 电弧 的 电极 与 对接 处 的 相互 位置 、 对 接缝 宽度 、 电极 在 焊件 上 的 高度 及 边缘 错位 。 电视 摄像机 要 牢牢 固定 在 距 电弧 ～ mm 处 或 焊接机 头上 。 要 注意 保护 ， 使 其 避开 金属 蒸气 和 飞溅 ， 并 避免 传感器 影响 焊接 工艺 过程 。 焊接 时 ， 可 借助 光缆 在 传感器 难以 到达 处 或 直至 离 焊接 高温区 几米 远处 向 电视 摄像机 发送 焊接 区 图像 。 标准 的 视频信号 数字化 后 存入 计算机 。 在 波幅 法 和 梯度 法 的 基础 上 ， 软件 可以 确定 参数 及 对接 处 与 电极 的 位置 。 　 　 视频 传感器 的 技术 特性 ： 　 　 　 　 测量 精度 mm ： 对 接缝 宽度 　 　 　 　 　 　 对 接缝 偏差 　 　 　 　 　 　 　 　 　 　 　 　 　 对 接缝 错位 　 　 　 　 　 　 　 　 　 　 　 　 　 边缘 错位 　 　 　 　 　 　 　 　 　 　 　 　 　 　 测量范围 mm ： 对 接缝 宽度 　 　 ～ 　 　 　 　 对 接缝 偏差 　 　 　 　 　 　 　 　 　 ± 　 　 　 　 对 接缝 错位 　 　 　 　 　 　 　 　 　 ± 　 　 　 　 边缘 错位 　 　 　 　 　 　 　 　 　 　 ± 图 　 焊接 时 测定 电极 和 对接 处 相互 位置 用 的 传感器 Fig 　 Sensorformeasuringofmutualalignmentofelectrodeandbuttjointduringwelding 　 　 为 联接 计算机 、 标准 传感器 和 焊接设备 ， 采用 了 各种 模块 形式 的 目标 接口 装置 У С О 。 它们 可以 装在 计算机 内 ， 也 可以 接到 传感器 上 。 接至 计算机 的 模块 制成 标准 板 形式 并 装到 空位 槽 上 ， 再 与 计算机 的 电源 接通 。 工艺 板 包含 通道 的 模拟 多路 调制器 、 有 放大 编程 系数 的 精密 微分 放大器 、 位 模拟 数字 转换器 、 控制 测量 的 逻辑电路 、 个 位 数字模拟 转换器 和 位 输出 输入 寄存器 Т Т Л 。 有 了 输出 缓冲 模拟信号 就 可以 控制 各种 传动 ， 入口 和 出口 的 数字 线 用作 查询 分立 的 传感器 并 控制 继电器 的 输入 。 　 　 目标 接口 装置 У С О 的 技术 特性 ： 　 　 　 　 输入 模拟 通道 数 　 　 　 　 　 　 　 　 模拟 数字 转换器 位数 　 　 　 　 　 　 个 通道 转换 时间 　 　 　 μ s 　 　 　 　 入口 电压 最大 范围 　 　 　 ～ ＋ V 　 　 　 　 放大系数 值 　 　 　 　 　 　 　 　 　 　 输出 模拟 通道 数 　 　 　 　 　 　 　 　 数字模拟 转换器 位数 　 　 　 　 　 　 А Ц П 转换 时间 　 　 　 　 μ s 　 　 　 　 Ц А П 出口 电压 范围 　 　 ± V 　 　 　 　 分立 线路 Т Т Л 数量 ： 　 　 　 　 　 　 入口 　 　 　 　 　 　 　 　 　 　 　 　 　 出口 　 　 　 　 　 　 　 　 　 为 与 标准 设备 和 传感器 相联接 ， 研制 了 配有 计算机 单晶 INTEL 的 小型 mm × mm 模块 А Ц П 和 Ц А П 。 模块 А Ц П 可以 将种 模拟信号 转换成 精确度 为位 的 数字信号 ， 将 它们 进行 预处理 并 沿 标准 序列 通道 将 数值 传送 到 主 计算机 。 模块 Ц А П 可以 沿 序列 通道 从 计算机 接收数据 并 发出 种 控制 模拟信号 。 种 模块 都 有 双向 位门 。 借助于 这些 模块 ， 可以 将 来自 标准 传感器 的 信息 焊接 电流 、 焊接 速度 、 电弧 电压 、 供丝 速度 、 保护 气体 消耗 、 焊接 熔池 温度 等 以 数字 形式 输入 计算机 。 已 研制 的 模块 能 保证 可视 系统 与 任何 焊接 电源 和 自动 焊机 相联接 。 　 系统软件 　 　 软件 采用 Pascal 编程语言 ， 汇编程序 利用 标准 程序 EXCEL 和 FOXpro 。 所有 关于 过程 运转 的 信息 ， 存入 由 信息 参考 和 记录 部分 组成 的 关系数据库 ， 其中 的 第一 部分 是 EXCEL 格式 的 电子表格 ， 表中 载有 关于 焊接 规范 与 接头 类型 、 材料 、 气体 、 填加 焊丝 关系 的 参考 材料 。 焊前 先 定出 原始数据 ， 所 需要 的 焊接 规范 便 自动 从 数据库 中 选出 。 记录 部分 是 一种 专用 的 数据库 ， 在 运行 状态 下 ， 它 可以 从 频率 不 大于 Hz 的 传感器 上 取出 数据 并 保存 在 用于 各种 情况 、 独立 的 专用 表格 型 文件 中 。 对 三 回路 控制系统 中 的 成形 回路 与 缺陷 回路 而言 ， 这个 文件 是 输入 的 。 在 每 一步 算错 后 ， 由 预测 的 正常 指标 来 补充 。 　 　 软件结构 包含 个 基本 模块 ： 　 　 关系数据库 的 信息 参考 部分 控制 模块 ， 它 可以 在 对话 状态 下 校订 补充 ， 修正 ， 复制 ， 取消 有关 焊接 规范 与 接头 类型 、 焊接 方法 的 参考 数据 。 图 　 按 标准 模块 预测 焊接 质量 Fig 　 Predictingweldingqualityaccordingtothestandardmodule 　 　 控制 焊接 工作 循环 的 模块 。 它 在 焊前 以 程控 手段 定出 焊接 规范 和 质量 控制系统 的 工作 方式 、 传感器 的 灵敏度 和 参数 、 视频 影像 识别 特性 ， 控制 过程 运转 监视 屏上 的 工作 循环 和 映像 。 　 　 焊接 过程 中 的 质量 控制 模块 。 它 从 传感器 获取信息 并 控制 焊接 规范 ， 以 保证 在 有 各种 干扰 时 获得 优质 接头 。 在 运行 状态 下 ， 焊接 区 的 伪 彩色 视频 影像 显示 在 计算机 的 显示屏 上 ， 包括 焊接 电流 和 速度 、 质量 区域 外貌 及 工作 点 的 位置 、 电弧 电压 、 对接 处 断面 、 电极 运动 轨迹 、 间隙 值 、 焊缝 形状 、 影像 识别系统 工作 结果 、 过程 时间 、 工作 循环 及 工作 点 在 其中 的 流动 位置 和 可能 出现 的 缺陷 信息 。 焊接 是 自动 完成 的 ， 但 如 规范 与 标准值 有 较大 偏差 或 出现 不能 容许 的 缺陷 时 ， 操作员 可以 干预 这个 过程 。 　 　 分析 焊接 质量 的 模块 。 借助于 这个 模块 ， 可以 在 监视 屏 、 磁存储器 或 纸带 上 得到 焊接 质量 的 记录 。 有 了 记录 ， 就 获得 了 每 一个 产品 的 质量 证明 ， 并 可以 分析 过程 的 运转 状况 。 　 　 研制 的 软件 可以 按种 规范 实现 焊接 控制 ： 　 　 借助于 显微 光波 干涉仪 ， 可以 按 焊前 测得 的 对接 处 几何 形状 并 利用 预先 训练 过 的 神经网络 模块 模拟 仿真 预测 焊接 质量 。 在 此 场合 ， 焊前 进行 试验 通道 时 ， 对接 处 的 参数 即 记录 于 数据库 的 记录 部分 中 图 。 这些 作为 输入 文件 的 数据 和 来自 数据库 信息 参考 部分 的 规范 基本参数 数据 随后 便 进入 预测 缺陷 回路 的 入口 。 该 回路 中有 预先 训练 过 的 神经网络 模块 。 　 　 在 特征 优质 焊缝 ， 烧 穿 ， 未 焊透 ， 咬边 ， 裂纹 可变 的 模块 出口 上 ， 形成 未来 焊接 接头 的 焊接 质量 点状 记录 ， 记录 点 间断 ～ mm 。 分析 所得 的 数据 ， 即可 作出 在 给定 条件 下 能否 获得 优质 焊接 接头 的 结论 ， 如果 能够 得到 优质 接头 ， 那么 就 可以 在 标准规范 下 完成 焊接 。 在 记录 接头 参数 的 基础 上 ， 轨迹 回路 保证 加热 源 对准 接头 的 中心 。 如果 在 某些 点上 可能 出现 缺陷 ， 可以 利用 成形 回路 在 重复 模拟 仿真 阶段 校正 焊接 基础 规范 ， 并 形成 焊接 质量 新 的 记录 。 分析 记录 以后 ， 即可 作出 决定 ： 或者 进行 校正 规范 的 焊接 ， 或者 因 对接 处 几何 形状 过分 偏离 要求 值 而 需要 校正 焊接 装置 。 　 　 按 系统 的 工作 规范 焊接 。 在 这种 情况 下 ， 按 编制 的 工艺 进行 焊接 。 在 运行 状态 下 ， 过程 参数 、 对接 处 参数 和 焊缝 形状 记录 在 数据库 的 记录 部分 图 ， 这样 可以 获得 每 一个 零件 的 工艺 证明 ， 这 在 生产 重要 产品 时 是 必需 的 。 必要 时 ， 焊后 也 可 据此 分析 产生 缺陷 的 原因 。 图 　 可视 系统 工作 的 信息 状态 Fig 　 Informationstatuswhenvisualsystemisworking 　 　 在 焊接 过程 中 ， 根据 控制系统 回路 中 的 标准 模块 来 控制 焊缝 的 成形 图 。 在 此 方案 中 ， 焊接 过程 中 热源 位置 控制 靠 轨迹 控制 回路 来 实现 。 成形 回路 是 一个 控制 神经网络 模块 ， 需要 预先 进行 训练 ： 输入 参数 取自 数据库 信息 参考 部分 的 原始数据 、 传感器 测量 的 过程 参数 、 对接 处 的 几何 形状 及 电极 与 对接 处 的 相互 位置 ， 而 其 输出 参数 是 焊接 电流 和 速度 。 在 工作 过程 中 ， 应 保证 焊接 电流 和 速度 的 控制 。 在 这种 控制 下 形成 的 焊缝 ， 其 几何 形状 最 接近 于 规定值 。 缺陷 回路 是 用 工作 在 运行 状态 下 的 预测 神经网络 模块 来 完成 的 。 模块 的 输入 数据 是 标准 控制 模块 的 输入 与 输出 数据 ， 而 输出 数据 则 是 焊缝 中 缺陷 的 概率 指标 。 在 焊接 过程 中 ， 操作员 能 得到 可能 出现 缺陷 的 信息 ， 必要 时 可以 采取 停止 运行 过程 的 措施 。 图 　 按 标准 模块 控制 焊接 质量 Fig 　 Controllingweldingqualityaccordingtothestandardmodule 　 　 用 可变 输入 的 神经网络 模块 来 控制 焊接 质量 图 。 在 这种 情况 下 ， 轨迹 回路 将 加热 源 瞄准 对接 处 。 成形 控制 由 神经网络 模块 来 实现 。 在 模块 的 入口 ， 除 规范 和 对接 处 的 参数 外 ， 加上 了 实际 成形 的 焊缝 参数 焊缝 宽度 ， 突起 值 ， 咬边 的 有无 和 大小 。 神经网络 模块 训练 要 考虑 可变 在 过程 中 的 变化 输入 以及 未 检测 到 的 干扰 进行 补偿 ， 以便 拟出 所 要求 的 焊接 电流 和 速度 的 控制 作用 来 补偿 未 检测 到 的 干扰 被 焊 材料 热 物理 参数 ， 传热 条件 ， 填加 焊丝 的 形状 和 化学成分 ， 环境 介质 的 温度 和 湿度 等 的 变化 及 电极 腐蚀 。 出现 缺陷 的 概率 由 预测 神经网络 模块 来 决定 。 在 模块 的 入口 ， 输入 完整 的 过程 运转 信息 和 由 控制 模块 产生 的 成形 控制 作用 。 图 　 按照 有 可变 输入 的 神经网络 模块 控制 焊接 质量 Fig 　 Controllingweldingqualityaccordingtotheneuronnetworkmodulewithvariableinput 　 结束语 　 　 计算机 可视 系统 在 А О З Т 联合体 К О М П О З И Т 已 用作 运载火箭 外壳 的 环缝 和 纵缝 焊接 铝合金 多层 焊 ， 在 “ Н И К И М Т ” 用作 控制 反应堆 零件 的 焊接 高 合金钢 件 ， 对接 与 搭接 接头 ， 在 莫斯科 制管厂 用于 不锈钢管 的 直缝 焊接 。 　 　 系统 适用 于 各种类型 接头 的 弧焊 、 电子束 焊 和 激光 焊接 的 质量 控制技术 作业 。 　 　 综上所述 ， 可以 得出 以下 结论 ： 　 　 控制 焊接 过程 的 计算机 可视 系统 可以 提高 存在 不同 类型 干扰 作用 时 的 焊接 质量 。 　 　 借助于 所 研制 的 传感器 ， 可以 获得 焊前 对接 处 和 运行 状态 下 的 完整 信息 。 　 　 已 研制 的 接口 装置 实际上 可以 使 系统 与 任何 焊接设备 实现 联接 。 软件 在 分析 干扰 矢量 各 分量 数值 的 基础 上 ， 能 选择 最佳 控制 规律 ， 保证 获得 优质 焊缝 。 　 　 系统 可以 全面 评价 焊接 过程 ， 并 能 得到 每个 零件 的 工艺 证明 。 　 　 在 控制 和 预测 焊接 质量 的 系统 中 ， 神经网络 模块 的 应用 是 很 有 前途 的 。 许贵 芝译 自 С в а р о ч н о е 　 П р о и з в о д с т в о ： ～ 　 刘家 富校 责编 　 文 　 洵