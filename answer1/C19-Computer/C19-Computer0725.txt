自动化 学报 ACTAAUTOMATICASINICA 年 第卷 第期 volNo 由 人面 照片 重建 人面 三维 模型 的 探讨 郑 　 飞 　 陈 　 梅 关键词 　 人面 照片 ， 特征 轮廓线 ， 全景图 象 ， 关联 调整 。 RECONSTRUCTINGDFACEMODELFROMFACEPHOTOSZHENGFeiSchoolofElectromechanicalEngineeringXidianUniversityXian 　 CHENMeiSchoolofCommunicationEngineeringXidianUniversityXian 　 Keywords 　 Humanfacephotofeaturecontourlinepanoramicimageassociateadjustment 　 引言 　 　 人面 的 计算机辅助 三维 造型 有着 广泛 的 应用 前景 现有 方法 主要 采用 三角 面片 或 自由 曲面 建立 人面 的 三维 几何 模型 ， 进而 控制 该 模型 的 形状 与 表情 ［ ， ］ 也 有人 采用 图象 变形 的 方法 ， 但 其 三维 效果 有限 ［ ］ 现有 方法 易于 进行 表情 控制 和 基于 物理 的 仿真 但 由于 需要 采用 大量 的 面片 来 逼近 ， 其 造型 速度 较慢 ， 且 显示 效果 的 人工 性 明显 本文 提出 一种 新 方法 ， 即 ： 由 人面 照片 合成 人面 的 全景图 象 ， 再 直接 由 全景图 象 获得 三维 效果 该 方法 相对 简单易行 ， 造型 速度 较 快 ， 显示 效果 也 较 好 　 　 在 具体 形成 全景图 象时 ， 可以 有 两条 途径 ： 其一 是 由 特征 轮廓线 合成 全景图 象 ； 其二 是 由 特征 点 调整 样板 模型 的 全景图 象 ， 进而 形成 造型 对象 的 全景图 象 　 　 　 全景图 象 　 　 近年来 出现 的 三维 数字化仪 不仅 可以 获得 某一 物体 的 全景 颜色 图象 ， 还 可以 获得 该 物体 的 全景 深度 图象 全景图 象 尽管 也 是 二维 描述 的 ， 但 由于 全景 深度 图象 的 存在 ， 使得 所 描述 模特 的 面壳 在 圆柱 坐标系 下 有着 完整 的 三维 信息 ， 因而 可以 直接 从中 获得 三维 效果 本文 也 直接 将 人面 的 全景 深度 图象 和 对应 的 全景 颜色 图象 称为 三维 模型 ， 并 探讨 由 某 一 模特 的 头 面部 照片 来 合成 其 全景 深度 图象 和 全景 颜色 图象 　 　 　 由 特征 轮廓线 合成 全景图 象 　 　 要 由 照片 合成 全景 深度 图象 和 全景 颜色 图象 ， 一般 需要 一张 正面 照片 和 一张 对应 的 正 侧面 照片 它们 所 共同 包含 的 三维 信息 基本上 可以 满足 合成 要求 　 　 为 合成 全景图 象 ， 可定义 三类 轮廓线 ： 主 轮廓线 、 控制 轮廓线 和 副 轮廓线 ， 均 为 纵向 定义 主 轮廓线 三条 ， 决定 模特 头 面部 的 主要 形状 ； 控制 轮廓线 六条 ， 分别 通过 眼 、 鼻 、 嘴上 的 多个 特征 点 ， 决定 这些 主要 器官 的 位置 ； 此外 的 度 范围 内 的 轮廓线 均 为 副 轮廓线 　 　 主 轮廓线 和 控制 轮廓线 合 称为 特征 轮廓线 可 采用 Bezier 曲线 ， 通过 参照 样板 模特 的 相应 特征 轮廓线 的 正交投影 线 ， 用 鼠标 半自动 半 交互 地 在 两张 对应 的 模特 照片 上 拟合 形成 交互 获得 的 控制 轮廓线 必然 存在 偏差 由 它们 所 通过 的 特征 点 在 全景图 象中 的 角度 和 已 获得 的 主 轮廓线 ， 自动 调整 其 在 照片 上 的 投影 ， 可使 该 整条 轮廓线 在 全景图 象中 对应 同一 角度 　 　 当 九条 特征 轮廓线 都 形成 后 ， 就 可 采用 三维 插值 方法 自动 形成 各 副 轮廓线 三维 插值 方法 的 选择 ， 需要 考虑 人面 的 三维 形态 特征 ， 并 保证 轮廓线 所 形成 三维 模型 的 平滑 性 在 求得 各 副 轮廓线 后 ， 就 可 形成 模特 头 面部 的 全景 深度 图象 由 各 三维 轮廓线 在 两张 对应 照片 上 的 投影 ， 可 得到 三维 轮廓线 上 各型 值点 对应 的 颜色 值 ， 从而 合成 对应 的 全景 颜色 图象 图为 模特 A 的 两张 对应 照片 中 特征 轮廓线 的 正交投影 线 ， 以及 合成 的 全景 颜色 图象 　 　 a 正面 轮廓 投影 线 　 b 正 侧面 轮廓 投影 线 c 合成 的 全景 颜色 图象 图 　 模特 A 照片 中 的 轮廓 投影 线 以及 算法 合成 的 全景 颜色 图象 　 　 仅 由 一张 正面 照片 ， 或仅 由 一张 正 侧面 照片 ， 参照 样板 模型 的 特征 轮廓线 ， 也 可 合成 造型 对象 的 全景图 象 ， 并且 也 可 在 一定 范围 内 得到 较 好 的 显示 效果 而 由 两张 对应 照片 合成 的 效果 最好 进一步 的 实验 和 误差 分析 还 需 在 获得 模特 A 的 精确 全景 深度 图象 后 进行 　 　 　 由 特征 点 调整 获得 全景图 象 　 　 也 可以 由 照片 中 的 对应 特征 点 直接 调整 样板 模型 的 全景 深度 图象 和 全景 颜色 图象 ， 合成 造型 对象 的 全景图 象 　 　 在 这种 合成 算法 中 ， 首先 由 样板 模特 的 全景图 象 投影 形成 其 正面 和 正 侧面 上 的 投影图 象 ， 并 建立 这 两幅 图象 的 对应 特征 点库 由 造型 对象 的 两幅 对应 照片 可以 得到 这些 特征 点 的 新 坐标值 ， 进而 可 求得 其 在 全景图 象中 应有 的 位置 值 和 深度 值 由 照片 的 特征 点 的 值 自动 地 关联 调整 样板 模特 的 全景 深度 图象 ， 可 形成 造型 对象 的 全景 深度 图象 ， 最后 由该 全景 深度 图象 中 各 三维 轮廓线 在 造型 对象 的 照片 中 的 投影 ， 可 获得 各 三维 轮廓线 上 各型 值点 的 颜色 值 ， 从而 形成 其 对应 的 全景 颜色 图象 　 　 这种 基于 模型 的 方法 自动化 程度较高 ， 描述 也 较 精确 ， 但 技术难度 较大 经 初步 实验 表明 ， 该 方法 也 是 可行 的 进一步 的 研究 仍 在 进行 中 　 　 　 基于 全景图 象 的 投影 显示 　 　 在 得到 全景图 象后 ， 就 可以 建立 起 三维 模型 传统 的 方法 是 ： 从中 选取 有限 的 采样 点 ， 建立 三维 几何 模型 本文 采用 直接 对 全景图 象 进行 投影 显示 的 方法 ， 这种 方法 基于 图象 平面 的 光线 投射 方法 其 基本 流程 为 ： 建立 物件 空间 的 界 盒 ； 由 视点 V 与界盒 中心 C 确定 投影 平面 ， 即 图象 平面 ； 将界盒 各 顶点 投影 到 图象 平面 ， 确定 出 图象 平面 上 的 投影 范围 ； 在 图象 平面 ， 对 投影 范围 中 的 每 一 位置 点 I ， 反求 其 在 物体 空间 的 坐标 点 P ； 由 视点 V 与 坐标 点 P 确定 投射 光线 在 界 盒内 的 投射 线段 NF ； 对 投射 线段 NF ， 由 近视 点 N 向 远 视点 F 投射 ， 并 在 全景 深度 图象 中 采样 ； 未 触及 模特 面壳 时 继续 投射 ； 触及 模特 面壳 时 中止 投射 ， 根据 被 触及 位置 在 全景 颜色 图象 中 采样 ， 并 将 对应 的 颜色 在 对应 于 图象 平面 的 位置 点上 显示 　 　 　 　 a 视点 一 　 　 b 视点 二 　 　 c 视点 三 　 　 d 视点 四图 　 由 特征 轮廓线 合成 全景图 象 方法 的 造型 图例 　 　 图为 采用 由 特征 轮廓线 合成 全景图 象 的 方法 对 模特 A 造型 的 投影图 例 ； 图为 采用 由 特征 点 调整 合成 全景图 象 的 方法 对 模特 A 造型 的 投影图 例 　 　 　 结论 　 　 本文 中所举 图例 均 在 微机 环境 下 实现 从 造型 结果 看 ， 本 方法 所 需 的 计算机 资源 低 ， 算法 简单 ， 速度 较 快 ， 而且 显示 效果 也 较 好 　 　 在 由 特征 轮廓线 合成 全景图 象 的 方法 中 ， 形成 特征 轮廓线 需要 一定 的 交互 操作 ， 需 进一步提高 形成 特征 轮廓线 的 自动化 程度 在 由 特征 点 调整 合成 全景图 象 的 方法 中 ， 在 给出 各 对应 特征 点后 ， 全景图 象 的 形成 可 自动 完成 ， 但 还 需要 提高 关联 调整 算法 的 有效性 深入 的 研究 正在 进一步 开展 　 　 　 　 　 a 视点 一 　 　 b 视点 二 　 　 c 视点 三 　 　 d 视点 四图 　 由 特征 点 调整 合成 全景图 象 方法 的 造型 图例 　 　 陕西省 自然科学 基金 资助 项目 　 　 郑 　 飞 　 博士 ， 副教授 研究 领域 为 ： CAD ， CG ， 可视化 技术 　 　 陈 　 梅 　 硕士 ， 讲师 研究 领域 为 ： CAD ， 信号处理 ， 可视化 技术 作者 单位 ： 郑 　 飞 西安电子科技大学 电子机械 学院 　 西安 　 陈 　 梅 西安电子科技大学 通信 工程学院 　 西安 　 参考文献 　 HuangTSTangLDFaceModelingandItsApplicationJournalofPatternRecognationandArtificialIntelligence ， ： — 　 LeeYetalRealisticModelingforFacialAnimationACMComputerGraphics ， ： — 　 SeitzSMDyerCRViewMorphingACMComputerGraphics ， ： — 收稿 日期 　 　 收到 修改稿 日期 　