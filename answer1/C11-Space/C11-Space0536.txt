航空 计测 技术 AVIATIONMETROLOGYMEASUREMENTTEHNOLOGY 年 　 第卷 　 第期 　 Vol 　 No 　 冲击 测量 系统 Ⅲ 的 硬 软件 实现 方法 焦仁民 　 问题 的 提出 　 　 使用 JJG — 对 凸轮 式 碰撞 试验台 进行 检定 时 要求 所 使用 的 仪器 有 过渡带 dB ／ oct 的 低通滤波器 ， 对 碰撞 台 产生 的 半 正弦波 的 峰值 、 脉 宽 、 速度 改变 量 进行 测量 时 ， 要求 半 正弦波 处于 仪器 产生 的 公差 带 之内 ， 半 正弦波 脉 宽 最小 为 ms 。 　 系统 总体 　 系统 的 外观 和 结构 　 　 由图 所示 ， 系统 由 冲击 测量仪 及 置于 仪器 外 的 绘图 打印机 电荷 放大器 传感器 组成 。 该 系统 有个 按键 ， 放大器 有个 档位 。 系统 的 结构 框图 如图所示 图 　 系统 外观 示意图 　 操作 　 　 开机 上电 ， 在 汉字 提示 下 输入 参数 ， 每 输入 一个 参数 按 回车键 。 需 输入 预计 峰值 预计 脉 宽 电荷 放大器 输出 档位 传感器 输出 极性 放大 倍数 等 个 参数 。 按 “ 采样 ” 键 ， 即 显示 “ 采样 ” 汉字 ， 仪器 开始 采样 ， 等待 信号 的 到来 。 采样 结束 后 ， 屏幕 上 显示 出 实测 波形 ， 并 在 右上角 显示 波形 的 峰值 、 脉 宽 、 速度 改变 量 。 　 　 随时 可 按 “ 公差 带 ” 键 “ 打印 ” 键 “ 实测 波形 ” 键 “ 置 参数 ” 键 ， “ 采样 ” 键 ， 仪器 则 进入 相应 的 工作 状态 。 　 硬件 实现 方法 　 　 在 IBM PC机 主板 插槽 上 插 有 打印 显示 板 、 按键 板 、 A ／ D 转换 板 、 BIOS 扩展 板 ， 机箱 内 还 装有 电源板 、 模拟 放大 滤波器 板 。 打印 显示 板 。 　 　 对 仪器 的 屏幕显示 、 打印 、 绘图 进行 控制 。 A ／ D 板 。 　 　 对 模拟信号 进行 转换 。 其上 有 ZCPU 一片 ， KROM 、 KRAM ， ADC 型 A ／ D 转换器 一片 。 本板 的 数据总线 与 PC机 主板 的 数据总线 之间 由 LS 分开 ／ 连通 。 ROM 内存 有 约 K 程序 ， ZCPU 在 A ／ D 板上 自成 系统 ， 由 它 控制 A ／ D 转换 过程 。 当 PC机 主板 CPU 使 ZCPU 进入 总线 请求 状态 ， ZCPU 各脚 输出 都 为 高 阻态 时 ， 主板 CPU 从 A ／ D 板 的 RAM 取走 A ／ D 转换 数据 。 　 　 ADC 的 A ／ D 转换 可 在 μ s 内 完成 ， 加 采样 ／ 保持 时间 ， 一次 A ／ D 转换 μ s 可 完成 ， 当 需测 的 冲击波 形 最小 为 ms 时 ， 有个 采样 点来 描绘 这个 波形 。 按键 板 。 　 　 用个 内存地址 AH 、 AH 、 AH 控制 个 按键 ， 个 档位 ， 共个键 档 。 　 　 采用 非 编码 键 可少用 器件 简化 程序 提高 运行 速度 BIOS 扩展 板 。 　 　 由 DCH 开始 ， KROM ， 由 LS 、 片 、 片 LS 组成 ， 如图所示 。 LS 的 作用 在于 增加 地址 线 的 驱动 能力 。 　 　 DCH 地址 处在 扩展 BIOS 的 区域 内 ， 并且 不 与 其它 设备 冲突 。 模拟 放大 滤波 板 。 　 　 低通滤波器 ， 按 需 滤波 的 不同 频率 ， 用 琴键 开关 接通 不同 的 电阻 、 电容 ， 如图所示 。 电源板 。 　 　 为 DC — DCV → ± V 电源模块 。 图 　 图 　 　 软件 实现 方法 与 ROMBIOS 的 接口 。 　 　 按 第 字节 为 H ， 第一 字节 为 AA ， 第二 字节 为 长度 说明 的 办法 ， ROMBIOS 将 控制 交给 扩展 的 BIOS 后 ， 就 不再 退出 ， 而是 在 扩展 的 BIOS 里 循环 运行 。 汉字 。 　 　 点 × 点 字模 ， 每个 字 占 内存 个 字节 ， 集中 存储 。 显示 时 每 二 字节 为 一行 ， 放到 对应 的 列上 ， 组成 汉字 。 数据处理 　 　 按 采样 最初 的 个 点求 平均值 ， 作为 点 。 按 采样 所得 最大值 与 点 之 差 ， 算 出 峰值 。 点起 ， 峰值 的 ％ 处至 ％ 处 ， 求 出 一条 最佳 直线 ， 与 点 图 　 线 相交处 为脉 宽 的 起点 ， 类似 地求 出脉 宽 终点 ， 起点 终点 之间 为脉 宽值 。 用 矩形 积分法 算 出 速度 改变 量 。 显示 。 　 　 没有 采取 中断 方式 ， 彩色 ／ 图形 显示器 占用 I ／ O 地址 为 DOH ～ DFH ， 按 地址 将 显示 控制器 置成 图形 方式 。 　 　 显示器 的 RAM 占用 地址 为 BH ～ BBFFFH ， 按 地址 、 按 字节 的 位 ， 送 需要 显示 内容 ， 某 地址 字节 的 某位 为 ， 则 显示 一个点 。 屏幕显示 每 μ s 为 一帧 ， 一帧 结束 回扫 需 μ s ， 送入 显示器 RAM 的 数据 ， 每隔 μ s 送 μ s ， 分批 送 完 。 　 结论 　 　 冲击 测量 系统 Ⅲ 的 研制 达到 了 JJG — 的 要求 ， 用 通用 板 研制 专用 仪器 ， 可 达到 快速 、 可靠 、 降低成本 的 目的 。 作者 单位 ： 长城 计量 测试 技术 研究所 ， 北京市 ， 参考文献 张载 鸿 BM — PC ／ XT 软硬件 系统分析 与 应用 朱传 乃 郑筑鸣 杨福平 微型 计算机系统 原理 分析 与 维修 中华人民共和国 国家 计量 检定 规程 JJG — 凸轮 式 碰撞 试验台 收稿 日期 ： 收稿