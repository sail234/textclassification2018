导弹 与 航天 运载 技术 MISSILESANDSPACEVEHICLES 年 第期 No 一组 软件 故障 数据 的 分析 史 全林 　 周 源泉 　 　 摘要 　 对 含 突变 点 的 软件 故障 的 分组 数据 集 ， 用 幂律 模型 进行 了 分析 。 关于 分组 数据 提出 了 另 一种 增长 检验 方法 。 在 拟合 优度 欠佳 或 有 突变 点时 ， 提出 了 分组 数据 的 分段 处理 方法 ， 并 指出 ， 在 用 幂律 模型 分析 数据 时 ， 必须 综合 运用 分析方法 与 图解 方法 ， 以便 从 数据 中 提取 出 更 多 的 真实 信息 并 避免 片面性 与 错误 。 　 　 主题词 　 软件 ， 故障 分析 ， 可靠性 分析 。 AnalysisforaGroupofSoftwareFailureDataShiQuanlinChangchunInstofOptics ＆ Mechanics 　 　 StateKeyLaboraloryonHighPowerSemiconducterLasersChangchunZhouYuanquanBeijingInstituteofStructure ＆ EnvironmentalEngineeringBeijing 　 　 Abstract 　 UsingthepowerlawmodelthegroupeddataofasoftwarefailurecontainingbreakpointareanalysedAnewgrowthtestmethodforgroupeddataispresentedWhenthegoodnessoffitisbadorthefailuredatahavebreakpointpiecewiseanalysismethodofgroupeddataisproposedItisindicatedthattheanalysismethodofpowerlawmodelmustbecombinedwithfiguredmethodsoastogathermoretrueinformationfromthefailuredataandavoidbiasesanderrors 　 　 KeyWords 　 SoftwareFaultanalysisReliablityanalysis 　 引 　 言 　 　 Bonnett ＆ Oglesby ［ ］ 提出 了 在 硬件 系统 的 可靠性 增长 数据 中 存在 突变 点 。 Clarke ＆ Cougan ［ ］ 对 某 高级 雷达 处理 系统 的 可靠性 增长 突变 点 问题 ， 提出 了 若干 分析方法 。 在 MILHDBK ［ ］ 中 指出 了 硬件 系统 出现 突变 点 的 原因 及 一种 可行 的 处理 突变 点 的 分析方法 。 　 　 在 文献 中 ， 给出 了 一个 软件 故障 数据 集 。 此 数据 集 也 存在 突变 点 ， 其 原因 在于 在 此 软件 调试 中 ， 前期 发现 软件 故障 的 能力 有 一定 局限 。 这是 一个 分组 数据 集 ， 本文 将 对 它 作 详细分析 ， 其中 将 提出 分组 数据 的 另 一种 增长 检验 方法 ， 还 对 分组 数据 提出 了 分段 处理 方法 ， 并 指出 在 可靠性 增长 分析 中 ， 必须 综合 运用 分析方法 与 图解 方法 ， 以便 从 数据 中 提取 更 多 信息 ， 避免 片面性 与 错误 。 　 对 该软件 故障 数据 单纯 用 分析方法 　 　 在 文献 ［ ］ 中 ， 给出 了 某 软件工程 收集 到 的 故障 数据 ， 现列 于表 。 表 　 某 软件 的 分组 故障 数据 tjnjNjtjnjNj 　 　 表中 nj 是 该软件 在 累积 试验 时间 区间 ， tj ］ 内 发生 的 故障 次数 ， 而 Njnjnjj … dnd 为 观测 区间 总数 ， tj 为 第 j 个 观测 时间 区间 的 终点 。 　 　 下面 按 IEC ［ ］ 提出 的 分析方法 处理表 的 全部 数据 。 这里 d ， 截尾 时间 J 天 ， 总 故障 次数 N 。 　 　 记 pjtjtd ρ jpjpj 　 　 因 ρ jN × ＞ ， 故 诸 观测 区间 均 满足要求 ， 不必 重新 划分 观测 区间 。 　 增长 检验 　 χ 检验 　 　 χ 增长 检验 统计 量 为 对表 的 数据 ， 可算得 ： χ 因 　 χ d α χ ＞ χ 故 无 显著 的 可靠性 增长 。 　 基于 bu 的 增长 检验 　 　 其 前提 是 此 分组 数据 可用 幂律 模型 拟合 见 。 当 形状 参数 b 的 置信水平 为 γ α 的 置信 上限 bu 小于 时 ， 即以 显著性 水平 α 表明 ， 数据 有 显著 的 可靠性 正 增长 ， 而式 中 　 是 b 的 极大 似然 估计 ， 其 表达式 见 ； u γ 是 标准 正态分布 的 γ 分 位数 ； 系数 A 的 表达式 为 在 上式 中 规定 　 　 对表 的 数据 可算得 ， A 。 　 　 对 γ u γ 因 bu ＜ 故以 α 表明 ， 有 十分 显著 的 可靠性 正 增长 。 　 　 这 两种 增长 检验 中 ， 只要 有 一种 有 可靠性 增长 ， 就 应 继续 增长 分析 。 　 幂律 模型 参数 与 瞬时 MTBF 等 的 极大 似然 估计 　 　 形状 参数 b 的 极大 似然 估计 由下式 确定 ： 上式 中 的 plnp 规定 为 ， 并用 保证 收敛 的 Brent 迭代 算法 编程 求解 ， 而 尺度 参数 a 的 极大 似然 估计 　 　 在 时刻 td 处 ， 软件 的 瞬时 MTBF 与 瞬时 故障 强度 的 极大 似然 估计 分别 为 　 　 由表 的 数据 可算得 ： ， td 天 ， td 天 。 　 模型 拟合 优度 检验 　 　 模型 拟合 优度 检验 统计 量 为 式 中 　 　 　 当时 ， 则 认为 故障 数据 可用 幂律 模型 拟合 ， 否则 ， 拒绝 该 模型 。 这里 通常 取 α 。 　 　 由表 数据 可算 得 故 可用 幂律 模型 拟合 表 的 故障 数据 。 　 MtdZtdb 的 置信 下 上限 　 　 置信水平 为 γ 时 ， b 的 置信 上限 bu 已 在 中 论述 ， 而 置信水平 为 γ 时 ， Mtd 的 置信 下限 ML （ td ， Ztd 的 置信 上限 Zutd 分别 为 对表 的 数据 可算得 γ buML （ td ） 天 ， Zu （ td ） 天 。 　 按 文献 ［ ］ 修正 后 结果 的 分析 　 　 文献 ［ ］ 指出 ， 对 前天 的 故障 数据 ， 因 发现 软件 故障 的 能力 受到限制 ， 可用 一个 经验 常数 对 故障 数据 进行 修正 ， 即以 tk 代替 t ， 文献 ［ ］ 取 k 。 这样 ， 有如 表 的 故障 数据 。 表 　 按 文献 ［ ］ 修正 后 的 故障 数据 tjnjNjtjnjNj 　 　 修正 前 ， 此 软件 故障 数据 的 Duane 图见 图 。 图上 用 Nt 表示 区间 ， t ］ 内 的 故障 次数 。 从图 可以 看到 ， 修正 前图 上 的 直线 分为 两段 ， 一段 在 天前 ， 一段 在 天后 ， 并且 它们 的 斜率 也 不 一致 。 修正 后 的 Duane 图见 图 ， 在 图上 ， 比较 接近 一条 直线 。 图 　 某 软件 故障 的 Duane 图图 　 修正 后 某 软件 故障 的 Duane 图 　 　 下面 分析 表 的 数据 。 　 　 首先 ， 因 ρ jN × ＞ 故 不必 对 故障 数据 重新 分组 。 　 　 先 计算 增长 检验 的 χ 统计 量 。 　 　 因 χ ＞ χ ， ， 故有 显著 的 可靠性 增长 。 然后 计算 拟合 优度 检验 统计 量 ， 由于 χ ＜ χ 所以 可用 幂律 模型 拟合 表 的 数据 。 且 有 ： 　 　 　 　 置信水平 γ 时 ， 有 buMLtd 天 ， Zutd 天 。 　 图解法 提供 的 附加 信息 　 　 由 第 、 第节 的 分析 可知 ， 表 、 表 的 全部 数据 可以 分别 地用 一 直线 拟合 。 但是 ， 从图 ～ ， 我们 可以 得到 如下 附加 信息 ： 　 　 a 由图 ～ 可知 ， 最后 天 的 数据 成一 非常 好 的 直线 ； b 由图 及 图知 ， ～ 天 的 数据 成一 非常 好 的 直线 。 c 由图 ， 知 ， 最后 天 的 数据 成一较 好 的 直线 。 它们 的 线性 度 较 用 全部 数据 拟合 的 直线 为 优 。 下面 用 分析法 来 处理 这些 信息 。 图 　 某 软件 的 故障 数据 　 　 　 　 　 图 　 修正 后 某 软件 的 故障 数据 　 天后 故障 数据 的 分析 　 　 对表 的 天后 的 数据 ， 按 文献 ［ ］ 的 想法 ， 以 t 天为 起点 进行 分段 处理 ， 可得 如表 的 故障 数据表 。 表 　 天后 的 故障 数据 tjnjNjtjnjNj 　 　 因 ρ jN × ＞ 故 不必 重组 故障 区间 。 　 　 对表 可算得 ： 　 　 χ ＜ χ d χ 故 无 显著 的 可靠性 增长 。 　 　 对 置信水平 γ 可算得 b 的 置信 上限 bu ＜ 故以 显著性 水平 α 表明 ， 有 十分 显著 的 可靠性 正 增长 。 应 继续 作 可靠性 增长 分析 。 　 　 对表 的 数据 ， 因 　 χ ＜ χ d χ 故 可用 幂律 模型 拟合 表 的 故障 数据 。 　 　 而 td 天 td 天 　 　 对 置信水平 γ 有 MLtd 天 ， Zutd 天 。 　 天后 故障 数据 的 分析 　 　 以 t 天为 起点 作 分段 处理 ， 可得 如表 的 故障 数据表 。 表 　 天后 的 故障 数据 tjnjNj 　 　 因 ρ jN × ＞ 故 不必 重组 故障 区间 。 　 　 由于 χ ＜ χ ， 因此 数据 没有 趋势 。 　 　 因 χ ＜ χ ， 故 可用 幂律 模型 拟合 表 的 数据 。 　 　 对 γ ， 可算得 bu ＞ 即以 显著性 水平 α 表明 ， 故障 服从 poisson 过程 ， 即 相继 的 故障 间隔 相互 独立 地 服从 指数分布 。 　 　 其 可靠性 测度 的 极大 似然 估计 为天 ， 天 。 　 　 置信水平 γ 时 ， 有 MLJ χ N γ 天 ， Zu ［ ML ］ 天 。 　 ～ 天 内 故障 数据 的 分析 　 　 据表 的 前天 的 故障 数据 ， 可算得 ： 　 　 χ ＜ χ ， χ ＜ χ ， γ 的 bu ＞ 。 　 　 因此 ， 该 故障 数据 可用 Poisson 过程 拟合 ， 且 其 MTBF 之 估计 为天 ， 故障 强度 的 估计 为天 。 　 　 γ 的 ML 天 ， Zu 天 。 　 几种 结果 的 比较 　 　 以上 这 几种 情况 下 ， 都 通过 了 拟合 优度 检验 ， 但是 ， 哪 种 情况 拟合 得 更好 呢 我们 建议 采用 下述 统计 量 ： χ χ d ， 作为 比较 拟合 优度 的 标准 ， 表中 列出 各 情况 下 的 结果 。 表 　 各种 情况 分析 汇总表 情况 类型 χ χ d 试验 终止 时 的 tdZutd γ 数据 性质 全部 故障 数据 天天 幂律 过程 修正 后 的 全部 故障 数据 天天 幂律 过程 天后 的 故障 数据 天天 幂律 过程 天后 的 故障 数据 天天 Poisson 过程 　 　 表 数据 表明 ， 天后 的 数据 拟合 优度 最佳 。 这 从 图 ～ 上 均 可 看出 。 另外 ， 对 未 修正 的 种 情况 来说 ， 其 可靠性 测度 十分 接近 ， 但 数据 性质 却 有质 的 变化 。 　 　 另外 ， ～ 天 的 数据 表明 ， χ χ d 说明 拟合 非常 好 。 　 　 综上 可知 ， ～ 天 的 数据 服从 天 的 Poisson 过程 ， ～ 天 数据 服从 天 的 Poisson 过程 。 　 结 　 论 　 　 a 由 本文 可知 ， 单纯 用 分析方法 对 全部 数据 所 评出 的 可靠性 测度 的 误差 虽不大未 修正 的 全部 数据 结果 的 相对误差 为 ， 修正 后 结果 的 相对误差 为 ， 但是 会 丢失 许多 信息 。 为了 从 故障 数据 中 提取 更 多 信息 ， 必须 综合 运用 分析方法 与 图解 方法 。 　 　 b 分组 数据 的 增长 检验 ， 除 χ 检验 外 ， 本文 还 提出 了 基于 b 的 置信 上限 bu 的 增长 检验 方法 ， 并 提出 了 分组 数据 的 分段 处理 方法 。 　 　 c 可用 统计 量 χ χ d 来 比较 多组 数据 拟合 优度 的 良好 程度 。 　 　 d 该软件 故障 在 ～ 天中及 ～ 天中 分别 服从 不同 强度 的 Poisson 过程 。 前 、 后 两段 的 故障 强度 的 极大 似然 估计 分别 为天 与 天 。 这 说明 在 天处 ， 其 故障 强度 有 明显 下降 。 但 在 ～ 天及 ～ 天 这 两段 时间 内 没有 采取 切实 提高 可靠性 的 措施 。 　 　 e 文献 ［ ］ 认为 ， 采取 k 修正 是 十分困难 的 ， 因为 k 不易 调整 。 可 将 早期 软件 故障 数据 从 计算 中 删除 。 从 本文 分析 可知 ， 按 是否 有 突变 点及 有 突变 点时作 分段 处理 ， 将 更为 合理 。 作者 单位 ： 史 全林 　 长春 光机 学院 高功率 半导体 激光 国家 重点 实验室 ， 长春 ， 　 　 　 　 　 周 源泉 　 北京 强度 与 环境 研究所 ， 北京 ， 参考文献 　 　 BonnettRWOglesbyRDPatriotgroundequipmentreliablitygrowthReliabilityGrowthManagementTesting ＆ ModellingseminarproceedingsIESEnvironmentalReliablityProjectGroup ： ～ 　 　 ClarkeJkCouyanWPRPMArecentreallifecasehistoryReliablityGowthManagementTesting ＆ 　 ModellingseminarproceedingsIESEnvironmentalReliablityProjectGroup ～ 　 　 MILHDBKReliablityGrowthMangement 　 　 童洵洲 等 可靠性 和 有效性 评审 程序 手册 北京 ： 宇航 出版社 ， 　 　 IECReliablitygrowth — — statisticaltestandestimationmethods 收稿 日期 ：