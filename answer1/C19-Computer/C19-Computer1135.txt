自动化 学报 ACTAAUTOMATICASINICA 年 　 第卷 　 第期 　 VolNo 用 区域 特征 进行 人面 定位 的 研究 徐 　 宁 　 吴文胜 　 杨光 正 摘 　 要 　 对 人面 定位 中 基于 镶嵌图 的 区域 特征提取 进行 了 进一步 的 探讨 ， 提供 了 一个 利用 区域 特征 进行 人面 自动 定位 的 系统 这个 系统 是 建立 在 用 镶嵌图 抽取 区域 特征 的 基础 上 ， 应用 基于 知识 的 模式识别 方法 构造 的 一个 句法 知识 系统 系统 具有 独立 的 人面 定位 规则 库 ， 取得 了 较 高 的 正确 识别率 和 效率 同时 给出 了 一些 实验 结果 关键词 　 区域 特征 ， 人面 定位 ， 镶嵌图 ， 定位 规则 HUMANFACELOCATIONUSINGAREAFEATURESXUNing 　 WUWensheng 　 YANGGuangzhengDeptofAutomationUniversityofScienceTechnologyofChinaHefeiAnhui 　 Abstract 　 InthispaperafurtherstudyonhumanfacelocationusingareafeatureisreportedWeconstructanautomatichumanfacelocationsystembasedontheareafeaturesextractedfrommosaicimageThissystemisaknowledgebasedpatternrecognitionsystemusingsyntacticmethodAnindependentlocationrulebaseisconstructedHighrecognitionrateandhighefficiencyareachievedSomeexperimentresultsaregivenKeywords 　 Areafeaturehumanfacelocationmosaicimagelocationrules 　 引 　 言 　 　 人面 是 常见 而 复杂 的 模式 ， 其 自动识别 有 广阔 的 应用 前景 近年来 ， 研究 人员 对 人面 识别 做 了 大量 的 工作 ， 但 由于 其 难度 很 高 ， 这些 工作 离 实用 还 相差 甚远 ［ ］ 　 　 一个 完全 自动 的 人面 识别 的 第一步 是 要 在 图片 中 自动 找到 可能 的 人面 位置 只有 在 复杂 背景 中 的 人面 自动 定位 得到 了 解决 ， 才 可能 实现 真正 意义 上 的 人面 自动识别 人面 自动 定位 应 能 解决 ： 找到 人面 的 位置 ； 给出 人面 的 数量 ； 决定 人面 的 大小 由于 人面 定位 的 实质 是 把 人面 区域 同 图像 的 其它 区域 区分 开来 ， 通过 抽取 人面 的 区域 特征 来 区分 人面 与 背景 是 一个 有效 的 办法 　 　 文献 ［ ］ 中 提出 了 用 镶嵌图 抽取 区域 特征 进行 人面 定位 的 方法 本文 介绍 了 作者 对 这个 方法 的 进一步 研究 结果 作者 研究 了 用 镶嵌图 抽取 区域 特征 的 机理 ， 用 五 十分 图 代替 了 过去 的 四 八分 图 ， 采用 了 高效 句法分析 算法 进行 搜索 ， 建立 了 一个 基于 知识 的 复杂 背景图片 人面 定位系统 ， 它 有 独立 的 定位 规则 库 文中 给出 了 实验 结果 　 用 镶嵌图 抽取 区域 特征 　 镶嵌图 的 构成 　 　 镶嵌图 是 将 原始 图像 的 解析度 有 规则 地 降低 得到 的 图像 它 由 细胞 组成 ， 每个 细胞 的 灰度 等于 细胞 内 所有 象素 的 灰度 的 平均值 若 细胞 边长 为 N ， 细胞 内 含有 N × N 个 象素 ， 则 称 该 镶嵌图 为 原始 图像 的 N 级 镶嵌图 　 　 当 应用 于 人面 定位 时 ， 采用 固定 大小 的 正方形 考察 窗口 设 窗口 内 局部 镶嵌图 的 边长 为 M 个 细胞 ， 则 称此 局部 镶嵌图 为 M 分图 ， 它 包含 M × M 个 细胞 　 　 用 不同 级别 的 镶嵌图 对 人面 图片 进行 考察 后 发现 ， 当 人面 在 镶嵌图 中 粗略地 显现出来 时 ， 它 大约 占有 × 个 细胞 因此 ， 可以 对 样本 集中 的 已知 人面 构造 具有 × 个 细胞 的 局部 的 镶嵌图 ， 即 五分 图 ， 在 此基础 上 建立 初步 的 搜索 规则 当 镶嵌图 中 人面 明显 地 表现 出来 时 ， 人面 大约 占有 × 个 细胞 为此 ， 可以 在 对 样本 人面 构造 十分 图 的 基础 上 建立 较 精细 的 人面 搜索 用 的 规则 集 　 镶嵌图 的 性质 　 　 镶嵌图 的 低 解析度 特性 　 　 镶嵌图 抽取 的 信息量 比 原始 图像 少得 多 ， 有利于 区域 特征 的 抽取 ， 并且 可以 减少 计算 量 ， 加快 计算速度 　 　 局部 镶嵌图 规则 的 尺寸 不变性 　 　 若 对 两个 尺寸 大小 不同 的 同一 人面 分别 做 五分 图 和 十分 图 ， 它们 的 五分 图 数据 和 十分 图 数据 大体上 是 相同 的 因此 规则 可以 不依 人面 的 大小 而 改变 亦 即 局部 镶嵌图 规则 具有 尺寸 不变性 　 　 局部 镶嵌图 规则 对于 坐标 变换 的 稳定性 　 　 镶嵌图 抽取 的 区域 特征 ， 对于 窗口 的 有限 平移 不太 敏感 例如 ， 把 一个 N 级 五分 图向 右 平移 一个 像素 ， 则 其 每个 细胞 当中 的 NN 个 像素 并未 改变 ， 若 N ， 即 的 像素 灰度 并未 改变 平移 前后 的 细胞 像素 灰度 值差 相对来说 是 不 大 的 因此 一定 范围 内 平移 后 的 镶嵌图 也 能 使用 同样 的 定位 规则 来 决定 人面 从而 可以 适当 加大 步长 以 加快 搜索 的 速度 　 　 另外 ， 由于 抽取 的 区域 特征 对于 小 范围 内 的 旋转变换 和 仿射变换 不 敏感 ， 因此 局部 镶嵌图 在 定位 人面 时 允许 人面 有 一定 限度 的 偏斜 、 倾侧 和 俯仰 　 　 局部 镶嵌图 对 噪声 的 不 敏感性 　 　 局部 镶嵌图 的 每 一个 细胞 的 值 是 细胞 内 所有 像素 的 平均值 ， 相当于 一个 平滑 ， 因此 可以 在 一定 范围 内 降低 噪声 对 定位 的 影响 甚至 可以 把 某些 类 眼镜 看成 是 噪声 ， 也 用 五 十分 图 的 人面 定位 规则 进行 正确 定位 　 定位 规则 的 建立 以及 人面 的 搜索 过程 　 　 人面 定位 的 规则 可 归纳 为 ： 真正 的 人面 应该 满足 的 规则 ； 真正 的 人面 不 应该 满足 的 规则 定位 结果 可能 产生 两类 错误 ： 在 图像 上 存在 人面 的 地方 没有 作出 “ 存在 人面 ” 的 决策 ； 在 图像 上 不 存在 人面 的 地方 作出 “ 存在 人面 ” 的 决策 第一类 错误 将 造成 人面 的 遗漏 ， 这 在 以后 的 阶段 中是 无法挽救 的 第二类 错误 会 使 结果 中 增加 一些 虚假 人面 ， 这 类 错误 可以 在 后续 阶段 中 予以 纠正 由于 本 系统 是 多级 的 ， 在 建立 定位 规则 时 ， 希望 尽量少 发生 第一类 错误 ， 而 允许 一定 数量 的 第二类 错误 的 存在 　 　 按照 以上 原则 ， 通过 对 样本 图像 进行 反复 实验 ， 得出 了 一套 较为 适用 的 以 五分 图 和 十分 图为 基础 的 人面 定位 规则 　 　 本 系统 用 镶嵌图 进行 人面 定位 的 过程 分为 两个 阶段 第一阶段 利用 五分 图 规则 在 输入 图像 上作 全局 搜索 ， 找出 候选人 面 然后 用 这些 候选人 面 作为 第二阶段 的 输入 ， 利用 十分 图 的 规则 匹配 ， 得出 定位 结果 　 　 作者 在 一个 很 宽 的 范围 之内 N 分别 进行 五分 图 规则 的 搜索 解决 了 在 一般 情况 下 人面 的 数量 、 大小 和 位置 都 未知 的 人面 自动 定位问题 　 对 以往 工作 的 几点 改进 　 　 较之 文献 ［ ］ 作者 对 人面 定位 方法 作 了 以下 改进 　 用 五 十分 图 代替 四 八分 图 　 　 五 十分 图 被 用来 取代 四 八分 图以 抽取 人面 定位 的 规则 理由 是 ： 　 　 由于 人面 是 一个 复杂 的 模式 ， 用 四分 图 不 一定 能 抽取 出 足够 的 区域 特征 而用 五分 图则 增加 了 信息量 ， 并且 能够 把 眼区 、 鼻区 、 嘴区 大致 区分 开 ， 这 有利于 定位 规则 的 建立 　 　 对于 人面 模式 ， 若 分为 四列 ， 则 多数 情况 下会 把 鼻区 生硬 地分 在 两列 ， 而 采用 五分 图 ， 鼻区 就 大致 位于 中间 一列 这样 能 比较 好 地 抽取 有用 的 特征 和 建立 规则 而 在 十分 图中 ， 鼻区 位于 中间 两列 ， 也 容易 提取 特征 　 基于 知识 模式识别 方法 的 应用 和 算法 的 选取 　 　 对于 复杂 的 模式识别 问题 ， 为了 提高 识别 能力 ， 常常 需要 用到 专家 的 知识 和 经验 ， 因而 作者 采用 了 基于 知识 的 模式识别 方法 众所周知 ， 句法 模式识别 系统 具有 专家系统 的 基本 性质 ［ ］ ， 它们 之间 对应 关系 如下 ： 　 　 可见 ， 句法 模式识别 的 产生 式 可以 有效 地 表达 知识 在 这个 问题 上 ， 文献 ［ ］ 对 过去 国外 的 看法 做 了 纠正 ， 提出 了 行之有效 的 知识 表达方法 上下文 无关 文法 具有 较强 的 知识 表达能力 ， 并 存在 不少 的 句法分析 算法 ， Earley 算法 是 其中 一种 高效 算法 ［ ］ 作者 采用 了 在 Earley 算法 基础 上 改进 的 符合 深度 优先 搜索 习惯 的 ED 算法 ［ ］ ， 它 具有 On 的 空间 复杂度 和 On 的 时间 复杂度 　 　 复杂 背景 中 的 人面 定位问题 是 一个 难度很大 的 模式识别 问题 ， 作者 在 ED 算法 的 基础 上 构造 句法 知识 系统 ， 利用 区域 特征 来 解决 人面 定位 的 问题 ， 取得 了 较 好 的 结果 　 独立 的 规则 库 的 建立 　 　 本 系统 规则 库 在 系统 处于 非 运行 状态 时 ， 是 以 文本 方式 存放 的 这种 结构 的 好处 在于 它 使 规则 库 的 建立 和 维护 十分 方便 ， 同时 在 很大 程度 上 保证 了 句法 知识 系统 各 部分 的 相对 独立性 ， 它 可以 使 系统 几乎 不 受 规则 库 的 约束 通过 更改 规则 库 即可 使本 系统 用于 解决 其他 的 模式识别 问题 从而 使得 系统 具有 一定 的 通用性 　 实验 结果 　 　 作者 用张 图片 作为 训练 集 ， 另外 张 图片 作为 考试 集 图片 中 人面 的 位置 和 大小 是 随机 的 ， 每张 图片 中 一般 包含 一张 或 两张 人面 　 　 本 系统 人面 定位 成功率 为 ， 其中 正面 人面 成功率 为 ， 一定 范围 内 的 侧面 ， 倾斜 ， 俯仰 的 人面 成功率 为 第二类 错误 出现 率为 ， 其中 两个 或 两个 以上 的 第二类 错误 的 出现 率为 ， 最多时 出现 个 第二类 错误 　 结 　 论 　 　 区域 特征 在 人面 定位 中有 重要 作用 利用 镶嵌图 建立 的 规则 可以 提供 一个 搜索 复杂 背景图片 中 人面 位置 、 数量 和 大小 的 有效 方法 它 为 建立 完全 自动 的 人面 识别系统 准备 了 条件 　 　 利用 五 十分 图 取代 四 八分 图 进行 第一 和 第二阶段 的 人面 定位 是 一项 有效 的 改进 　 　 基于 知识 的 句法 模式识别 方法 的 应用 把 规则 和 算法 独立 开来 ， 使得 规则 的 改进 和 维护 变得 非常容易 将 它 与 人面 定位 相结合 ， 使 人面 定位系统 效率 大大提高 ， 并 为 以后 的 改进 提供方便 国家自然科学基金 资助 项目 作者简介 ： 徐 　 宁 　 年生 年 在 中国 科学技术 大学 自动化系 获得 学士学位 同年 免试 进入 中国科大 自动化系 攻读 硕士学位 目前 研究 领域 为 模式识别 、 图像处理 、 神经网络 　 　 　 　 　 吴文胜 　 年生 年 在 中国 科学技术 大学 自动化系 获得 硕士学位 现在 深圳 华为技术有限公司 工作 目前 研究 领域 为 计算机网络 、 通信 技术 作者 单位 ： 中国 科学技术 大学 自动化系 　 合肥 　 参考文献 　 ChellappaRWilsonCLSiroheySHumanandmachinerecognitionoffacesasurveyInProceedingsoftheIEEE 　 YangGZHuangTSHumanfacedetectioninacomplexbackgroundPatternRecognition 　 YangGuangzhengOntheknowledgebasedpatternrecognitionusingsyntacticapproachPatternRecognition 　 EarleyJAnefficientcontextfreeparsingalgorithmCommunACM 　 杨光 正 一个 基于 句法 方法 的 搜索 策略 模式识别 与 人工智能 学术会议 论文集 ： ， 收稿 日期 ： 修稿 日期 ：