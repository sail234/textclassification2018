计算机 工程 ComputerEngineering 年 　 第卷 　 第期 　 Vol 　 No 　 中英文 WWW 搜索引擎 的 信息处理 蒋澄 马范援 蒋思杰 摘要 描述 了 WWW 搜索引擎 住处 处理 的 相关 问题 ， 尤其 对 中文 WWW 搜索引擎 住 处理 的 关键技术 进行 了 讨论 ， 并 在 此基础 上 提出 了 一个 中英文 WWW 搜索引擎 的 实现 方案 ， 着重 描述 了 其 信息处理 方法 。 关键词 WWW 搜索引擎 索引 数据库 信息检索 文档 相关性 TheStructureandImplementationofChineseEnglishSearchEngineJiangChengMaFanyuanJiangSijie （ ShanghaiJiaotongUniversitySBShanghai ） Abstract ： ThispaperPresentssomerelativeproblemsoninformationprocessingoftheWWWsearchengine ， esoeciallythekeytechnoloiesoninformationprocessingofChineseWWWsearchengineAprototypeofachineseEnglishWWWsearchengineisimplementedbasedonthePreviousanalysisanditsinformationprocessingmethodsaredescribedKeywordsWWWSearchengineIndexdatabaseInformationretrievalRelevanceofdocument 　 　 国外 已经 有 很多 著名 的 搜索引擎 ， 如 AltaVista 、 Yahoo 、 InfoSeek 、 Lycos 等 ， 目前 国内 网上 信息 绝大部分 为 中文 中文 检索 需求 很大 非常 需要 支持 中文 的 搜索引擎 。 　 WWW 搜索引擎 的 结构 　 　 一般来讲 ， WWW 搜索引擎 可 分为 以下 几个 部分 ： 　 　 WWW 信息 的 采集 　 通常 搜索引擎 会 生成 多个 WWW 机器人 Robot ， 自动 地 根据 初始 搜索 列表 和 一定 的 搜索 策略 去 WWW 站点 搜集 文档 通常 为 HTML 文档 。 　 　 WWW 信息 的 分析 　 对 由 Robot 搜集 的 文档 一般 在 搜索引擎 本地 进行 分析 ， 提取 出 表达 文档 的 关键词 、 摘要 等 信息 及 文档 中 的 构成 WWW 结构 的 超链 HyperLink 。 　 　 WWW 信息 的 存储 　 把 文档 的 分析 结果 按照 一定 结构 存储 在 搜索引擎 本地 数据库 服务器 上 ， 同时 建立 适应 查询 的 高效 的 索引 。 　 　 WWW 信息 的 检索 　 一般 搜索引擎 提供 基于 WWW 浏览器 的 查询 请求 输入 界面 ， 它 根据 用户 提交 的 查询 请求 在 本地 数据库 中 检索 出 符合 用户 查询 的 记录 并 通过 WWW 浏览器 返回 给 用户 。 　 WWW 搜索引擎 的 信息处理 　 　 分词 技术 　 对 中文信息 的 访问 ， 不可避免 地会 遇到 分词 ， 这 也 是 中文 WWW 搜索引擎 要 解决 的 主要 问题 。 现有 的 汉语 分词 算法 有 很多 ， 如 基于 词库 的 最大 匹配 法 、 逆向 最大 匹配 法 、 最佳 匹配 法 、 高频 优先 分 词法 ； 基于 语法 和 规则 的 分 词法 ； 基于 频度 和 统计 的 分 词法 ； 基于 神经网络 的 分 词法 和 专家系统 分 词法 等 。 这些 算法 适用 于 不同 要求 的 场合 ， 但 又 存在 各自 缺陷 ， 在 具体 应用 时 可 考虑 几种 算法 相结合 的 方式 来 弥补 单纯 使用 一种 分 词法 所 带来 的 不足 。 分词 技术 中 的 基于 词库 的 算法 目前 使用 较广 也 较为 成熟 。 这 类 算法 分词 的 正确性 很大 程度 上 取决于 所建 的 词库 。 一个 词库 应 具备 完备 性 和 完全性 两 方面 。 词库 的 完备 性 ， 简单 来说 就是 对 任意 一个 字串 ， 总能 按 词库 找到 对 它 进行 切分 的 方法 。 词库 的 完全性 ， 意味着 词库 应 包含 所有 的 词 。 通常 先 构造 一个 最小 完备 词库 ， 然后 在 其 基础 上 进行 扩展 ， 建立 一个 较 完全 词库 。 　 　 Web 与 数据库 的 集成 　 搜索引擎 是 面向 WWW 提供 信息 查询 服务 的 ， 而 它 的 数据 又 存储 在 站点 的 数据库 服务器 上 ， 必须 通过 Web 与 数据库 的 集成 才能 实现 搜索引擎 强大 的 搜索 功能 。 目前 的 Web 与 数据库 的 集成 技术 有 CGI 技术 ， 专用 的 Web 服务器 API ， 以及 新 出现 的 基于 Java 语言 的 JDBC 技术 。 传统 的 CGI 技术 是 在 Web 服务器端 编写 应用程序 ， 对 数据库 的 查询 及 查询 结果 的 生成 均 由此 应用程序 完成 。 相应 的 编程 工作量 大 ， 每次 运行 时 都 独立 地 生成 一个 进程 ， 对系统 性能 有 较 高 要求 。 有些 Web 服务器 厂商 提供 了 专用 的 API 来 开发 与 Web 服务器 紧密结合 在 一起 的 后 端 程序 ， 不需 另外 生成 一个 进程 ， 程序运行 效率高 。 不过 Web 服务器 与 后 端 程序 处于 同一 进程 内 ， 一旦 后 端 程序 发生 错误 ， 整个 Web 服务器 就要 崩溃 。 JDBC 是 随着 Java 的 日益 普及 ， 针对 Java 访问 数据库 而 提出 的 一套 支持 基本 SQL 功能 的 通用 低层 API ， 易于 开发 独立 于 数据库 的 应用程序 。 　 　 数据 的 存储 　 搜索引擎 数据库 的 数据 存储量 大 ， 数据 更新快 ， 对 查询 速度 要求 高 。 搜索引擎 数据库 又 不同于 一般 数据库 ， 其 数据类型 相对 单一 ， 多为 文本 信息 。 数据 操作 简单 ， 没有 特别 复杂 的 逻辑关系 ， 事务处理 简单 。 数据 多 集中 在 后台 处理 ， 前台 交互 少 。 基于 上述 特点 ， 搜索引擎 数据库 的 重点 应 放在 一个 高效 快速 的 索引 结构 上 。 采用 倒 排列 表与 相应 的 Hash 函数 ， 建立 一个 高效 快速 的 索引 数据库 ， 比较 符合 搜索引擎 特有 的 按 关键词 查询 的 数据 存储 要求 。 　 　 文档 相关性 　 一个 好 的 搜索引擎 不仅 能 按照 用户 查询 要求 快速 准确 地 把 结果 返回 给 用户 ， 而且 还 能 去伪存真 ， 把 貌似 符合 查询 要求 ， 实际 离 用户 查询 要求 相去甚远 的 信息 过滤 掉 。 进行 文档 相关性 评价 ， 并 最终 按 与 用户 查询 相关 程度 来 筛选 出 查询 结果 是 搜索引擎 的 重要一环 。 通常 的 文档 相关性 评价 采用 基于 向量 空间 模型 的 TFIDF 算法 。 这种 算法 只 考虑 了 文档 本身 内容 ， 把 文档 看作 是 一种 静态 、 孤立 的 对象 来 评价 其 相关性 。 但是 搜索引擎 作为 WWW 上 的 一个 查询 工具 ， 其所 处理 的 文档 已 不再 是 静态 和 孤立 的 。 WWW 本身 可 看 作为 随 时间 变化 其 结构 也 发生变化 的 动态 对象 。 WWW 实际上 可 描述 成 时间 和 URL 的 表达式 。 文档 中 所 含有 的 表征 了 文档 在 WWW 中 的 结构 的 超链 在 评价 文档 相关性 时 也 应 作为 一个 评价 标准 。 把 文档 放在 WWW 上 作为 其中 一部分 考虑 时 ， 其 信息 可 表示 成 如下 形式 ： 　 　 INFORMATIONDocTEXTINFOMATIONDocHYPERINFORMATIONDoc 　 　 通常 所 采用 的 评价 标准 即 是 表达式 中 的 TEXTINFORMATION ， 这里 的 HYPERINFORMATION 实际上 建立 在 TEXTINFORMATION 基础 之上 ， 毕竟 单纯 的 一个 超链 本身 并 不 代表 任何 含义 ， 它 所 指向 的 文档 才 是 超链 的 信息源 。 HYPERINFORMATION 隐含 了 TEXTINFORMATION ， 只有 当超链 被 激活 时即 当 用户 点中 了 文档 中 的 URL ， 取回 了 所 需 的 文档 ， HYPERINFORMATION 才 真正 体现 出来 。 假如 已知 所有 文档 的 TEXTINFORMATION ， 那么 就 可以 给 超链 赋以 一定 的 权值 ， 求出 HYPERINFORMATION 。 事实上 当 我们 在 浏览 一篇 文档 时 ， 由于 不能 对 文档 中 含有 的 所有 超链 在 同一 时刻 去 激活 它们 ， 于是 主观 上 就 给 它们 赋 了 一定 的 权值 ， 一般 总是 先 激活 的 相应 假想 权值 大 一些 。 当 搜索引擎 进行 文档 相关性 评价 时 ， 对 文档 中超链 的 赋值 完全 可以 依赖 TEXTINFORMATION 评价 作出 正确 的 选择 。 　 　 HYPERINFORMATION 的 评价 可以 作为 TEXTINFORMATION 评价 的 后续 手段 来 精炼 文档 的 相关性 评价 ， 这样 可以 灵活 地 对 搜索引擎 的 效率 和 准确性 进行 控制 。 　 一个 中英文 WWW 搜索引擎 的 信息处理 　 　 基于 上述 分析 ， 下面 给出 一个 中英文 搜索引擎 的 实现 方案 ， 具体 结构 参见 图 。 图 　 中英文 搜索引擎 的 结构 　 　 收集 、 搜索 控制 　 通过 机器人 对 WWW 服务器 的 端口 发送 遵循 HTTP 协议 格式 的 指令 申请 主要 为 GET 、 HEAD ， 正常 情况 下能 返回 HTML 文档 或 相应 信息 。 　 　 机器人 在 网上 搜索 时 ， 常会 给 WWW 服务器 带来 很大 负担 ， 同时 也 会 因 盲目 地 在 WWW 上 漫游 给 网络 带来 额外 负载 。 搜索 控制 模块 就是 控制 机器人 的 搜索 范围 和 搜索 策略 。 考虑 到 实际 运行 环境 本 系统 主要 在 国内 漫游 ， 因而 对 WWW 服务器 的 域 进行 控制 ， 对 不同 的 域 给 以 不同 的 权值 ， 引导 机器人 有 目的地 访问 相关 站点 。 同时 避免 对 同一 URL 的 重复 访问 ， 并 严格 遵循 RobotExclusion 标准 ， 不去 访问 WWW 服务器 不 希望 机器人 去 访问 的 信息 。 　 　 文档 分析 　 对 搜集 来 的 文档 进行 分析 ， 在 中文 环境 下 首先 就要 解决 分词 。 可以 把 基于 词库 的 最大 匹配 法 和 基于 频度 与 统计 的 无 词库 分 词法 结合 起来 ， 既保证 效率 ， 又 不 遗漏 专有名词 。 同时 采用 正向 与 逆向 最大 匹配 法 ， 如果 结果 相同 就 认为 正确 ， 不同 部分 按 可 同时 包含 两 部分 的 最小 长度 处理 。 对 专有名词 用 基于 频度 与 统计 的 分 词法 提取 。 　 　 在 关键词 提取 时 充分利用 标记 元素 。 HTML 文档 中 的 题目 、 各级 标题 、 粗体 字 、 斜体字 及 加强 的 内容 都 用作 关键词 提取 。 为 加快 文档 分析 速度 和 减少 数据库 容量 ， 只 对 有 特殊 标记 的 内容 进行 关键词 和 摘要 提取 ， 不 作 全文索引 。 同时 维护 一个 专业词库 ， 把 在 词库 有 的 词 加大 它 的 权值 ， 以便 能 更 准确 地 反映 文档 的 特征 ， 词库 本身 可用 手工 和 学习 的 方法 来 进行 扩充 。 　 　 检索 、 过滤 　 用户 提交 查询 请求 后 ， 由 CGI 程序 进行 参数 解析 并 完成 数据 查询 ， 再 通过 Web 服务器 把 最终 结果 返回 给 用户 。 建立 索引 数据库 可以 考虑 利用 现成 的 数据库 ， 或 采用 专门 设计 的 数据库 。 　 　 过滤 实际上 是 按照 相关性 得分 大小 挑选出 得分 高 的 文档 。 根据 上文 的 分析 ， 文档 相关性 由 两 部分 组成 。 基于 向量 空间 模型 的 TFIDF 算法 来 计算 文档 的 TEXTINFORMATION 。 　 　 其中 termj 是 查询 Q 中 的 关键词 ， Otermj 是 termj 在 文档 D 中 的 出现 次数 ， N ： 文档 总数 ， n ： 含有 termj 的 文档 总数 。 HYPERINFORMATIOND 　 　 Ehyper 是 文档 所 含 有效 超链 的 权值 函数 ， Nhyper 是 文档 所 含 无效 超链 的 权值 函数 ， 所谓 的 有效 超链 即 超链 所指 的 文档 被 命中 ， 而 无效 超链 所指 的 文档 既 没有 被 命中 同时 又 存在 搜索引擎 数据库 之中 。 因而 mn ∑ Link ∑ SuspLink ， 公式 右边 前者 为 文档 所含 超链 总数 ， 后者 为 文档 中 无法 取 到 相应 文档 的 超链 总数 。 TEXTINFOR 即为 超链 所指 的 文档 的 TEXTINFORMATION 。 　 　 下面 给出 一个 实例 图 。 　 　 例子 中 列出 了 文档 D 、 D 、 D 、 D 、 D 、 D 相互 引用 关系 及 各自 的 TEXTINFORMATION 以 数字 表示 ， 其中 WWWWW 。 NW 表示 无效 超链 的 权值 。 图 　 一个 实例 　 　 INFORMATIONDQWWWWWNW 　 　 针对 目前 所谓 的 SEPSEARCHENGINEPERSUASION 现象 有些 Web 站点 为了 把 广告 页 列 在 搜索引擎 的 前面 ， 故意 把 文档 的 相关性 提高 ， 这里 可以 把 文档 中 的 超链 区分 为 指向 本 站点 和 指向 外 站点 ， 对于 前者 就 可以 通过 降低 它 的 权值 甚至 忽略 它 的 存在 ， 来 避免 陷入 Web 站点 设下 的 陷阱 。 　 结束语 　 　 本文 是 结合 上海 教育 科研 网 的 中英文 WWW 搜索引擎 站点 的 建设 写 的 。 在建 中 的 上海 教育 科研 网 搜索引擎 站点 主要 面向 国内外 的 教育 科研 ， 提供 教研 信息 的 检索 。 作者简介 ： 蒋澄 　 男 ， 岁 ， 研究生 ， 主研 方向 为 计算机网络 和 数据库 作者 单位 ： 上海交通大学 SB 上海 参考文献 　 　 BernersLeeTHypertextTransferProtocolInternetWorkingDraft ， 　 　 BernersLeeT ， ConnollyDHypertextMarkupLanguageInternetWorkingDraft ， 　 　 黄 昌宁 ， 夏莹 语言 信息处理 专论 北京 ： 清华大学出版社 ， 收稿 日期 ：