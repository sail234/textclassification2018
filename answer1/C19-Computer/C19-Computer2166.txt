计算机 应用 研究 APPLICATIONRESERCHOFCOMPUTERSVol 　 No 　 P ， 面向对象 建模 在 地表 岩移 管理信息系统 中 的 设计 与 实现 易彤 　 栾元重 　 邓敏 摘要 根据 对 面向对象分析 、 设计 与 建模 及 可 复用 构件 理论 的 研究 ， 作者 通过 对 矿山 地表 移动 和 变形 的 数据分析 ， 结合 软件开发 的 实践经验 ， 采用 当前 面向对象 领域 最为 流行 的 统一 建模语言 进行 系统 建模 ， 开发 了 一套 集岩移 数据管理 、 计算 、 打印 及 图形 显示 等 功能 于 一体 的 系统软件 ， 这 对 提高 矿山 地表 岩移 监测 自动化 具有 较大 的 促进作用 。 关键词 面向对象 岩层 移动 管理信息系统 UML 引言 　 　 由于 地下开采 、 上部 荷重 和 地质 条件 等 众多 因素 的 影响 ， 使得 地表 及 岩层 产生 移动 和 变形 ， 从而 对 生活 环境 、 耕地 和 建筑物 的 安全 产生 不同 程度 的 影响 。 以往 对 地表 及 岩层 的 移动 和 变形 进行 分析 时 采用 手工 的 计算 和 绘图 方式 ， 因 其 数据量 较大 、 工作效率 较 低 ， 难以 满足 工程 技术人员 快速 、 直观 地 进行 数据分析 的 要求 。 为此 ， 作者 采用 当前 面向对象 领域 最为 流行 的 统一 建模语言 UnifiedModelingLanguage ， 简称 UML 进行 系统 建模 ， 并 在 此 模型 基础 上 开发 了 一个集 岩移 数据管理 、 变形 计算 、 打印 及 图形 显示 等 功能 于 一体 的 系统软件 摰 乇 硌 乙乒芾 硇 畔 ⑾ 低 硵 简称 GMIS 。 GMIS 的 系统 功能 简介 　 　 本 系统软件 以 中文 Windows 为 开发 平台 ， 在 原 矿山 地表 岩移 管理信息系统 简称 SMIS 的 基础 上 ， 采用 VisualC 进行 重新 开发 。 与 SMIS 相比 ， GMIS 的 功能 更为 强大 ， 而且 系统结构 更为 合理 ， 是 一套 能 对 地表 变形 和 监测 进行 决策 的 系统软件 ， 其 系统 功能 结构 如图所示 。 图 　 GMIS 系统 功能 结构 　 　 系统 从 功能 结构 上 可 分为 九大 模块 ， 现 简要 叙述 如下 。 　 　 数据管理 由于 数据 信息 资源 的 利用 和 管理 是 一项 非常 重要 的 工作 ， 尤其 是 它 的 安全 可靠性 。 因此 ， 在 进入 本 模块 操作 之前 ， 提醒 用户 输入 姓名 、 操作 口令 和 权限 级别 。 它 的 功能 是 用于 矿山 地表 观测站 观测 数据 如 ： 高程 、 坐标 数据 的 录入 、 修改 、 浏览 及 检索 。 其中 在 数据录入 子 模块 中 提供 了 三种 数据 进库 方式 ， 如 将 全站仪 中 存储 的 数据 通过 通讯 接口 进入 系统 起始 数据库 等 。 　 　 平差 计算 由于 仪器 和 人为 观测 等 因素 的 影响 ， 使得 野外 测量 数据 必然 含有 误差 ， 从而 难以 满足 导线 网 和 水准 网 的 约束条件 。 因此 ， 在 利用 这些 数据 进行 地表 变形 值 计算 之前 需要 进行 数据处理 。 为此 ， 本 模块 设立 了 闭 附合 导线 及 导线 网 和 水准 网平差 计算 两个 子 模块 。 　 　 变形 值 计算 它 主要 用来 计算 地表 变形 数据 ， 如 垂直 变形 、 水平 变形 以及 下沉 速度 。 这些 计算 数据 信息 是 进行 地表 移动 与 变形 分析 的 主要 依据 ； 同时 ， 也 用于 计算 岩移 参数 和 图形 绘制 。 由于 岩移 监测数据 的 观测 期数 不 确定 ， 即库 结构 的 动态性 ， 而 计算 数据 又 是 根据 起始 数据 并 借助 不同 的 岩移 沉陷 数学模型 得到 ， 为此 ， 本 模块 实现 了 对 两个 或 多个 动态 数据库 的 操作 。 　 　 岩移求 参在 综合 分析 实测 资料 时 ， 应 分别 求算 沿 走向 和 倾向 的 概率 积分法 参数 ， 以便 进行 岩移 预计 。 根据 当前 常用 的 岩移 参数 求算 方法 ， 本 模块 划分 为 岩性对比 法求 参 和 实测 数据 法求 参 。 　 　 变形 预计 在 经过 上述 计算 过程 之后 ， 则 可 得到 监测 区域 内 各 观测点 的 平差 数据 和 各种 变形 数据 ， 但 从 这些 离散 数据 中 仍 难以 分析 采矿 过程 中 地表 变形 与 移动 的 规律 以及 预计 等 。 因此 ， 需要 对 地表 形态 变化 进行 拟合 分析 。 本 模块 提供 了 如下 六种 分析模型 ， 分别 为 随机 介质 模型 、 负 指数 模型 、 样条 函数 模型 、 时序 分析模型 、 灰色 动态 模型 和 神经网络 模型 。 　 　 图形 绘制 本 模块 是 通过 调用 各种 变形 计算 数据文件 实现 的 。 用于 绘制 各种 不同 的 变形 曲线图 ， 等值线图 及 立体图 ， 从而 帮助 用户 直观 地 分析 和 得到 地表 移动 与 变形 信息 。 　 　 数据 打印 主要 用于 原始数据 、 平差 计算 数据 、 变形 数据 以及 综合 数据 的 打印 。 由于 每种 数据 可能 有 很多 期数 ， 并且 期数 不 确定 。 因此 ， 系统 在 进行 各种 数据 打印 之前 ， 提供 了 数据 打印 的 自定义 。 即 用户 可以 根据 其 实际 需要 设置 要 打印 数据 的 范围 和 期数 ， 打印 时 系统 会 根据 用户 的 设置 进行 自动 处理 并 按 每页 六期 数据 进行 横向 式 分页 打印输出 。 如 不 进行 设置 ， 系统 将 按 默认 方式 将 所 需 打印 的 数据 从 首期 数据 开始 ， 以 每页 六期 进行 横向 式 分页 打印 。 　 　 系统维护 为 便于 该 系统 的 管理 和 操作 ， 设计 了 系统维护 模块 ， 包括 操作员 管理 、 口令 修改 、 重新 登录 、 权限 级别 设置 、 系统日志 及 系统 初始化 六个 子 模块 。 　 　 系统 帮助 本 系统 提供 了 丰富 、 详实 的 帮助 信息 ， 操作员 在 操作过程 中 ， 如 遇到 任何 问题 ， 按 【 F 】 键 ， 系统 会 自动 依据 当前 环境 来 显示 相应 的 帮助 信息 。 GMIS 的 系统 模型 结构图 　 GMIS 系统 类 结构图 　 　 在 本 系统软件 的 开发 过程 中 ， 作者 采用 了 当前 面向对象 领域 最 流行 的 UML 及 构件技术 进行 系统结构 建模 。 作为 一种 定义 良好 、 易于 表达 、 功能强大 且 普遍 适用 的 标准 建模语言 ， UML 融入 了 软件工程 领域 的 新 思想 、 新 方法 和 新 技术 。 它 主要 是 以 面向对象 图 的 方式 来 描述 任何 类型 的 系统 ， 并且 支持 从 需求 分析 开始 的 软件开发 的 全过程 ， 因而 具有 很 广泛 的 应用领域 ， 也 具有 重大 的 经济 价值 和 国防 价值 。 同时 ， 在 对 GMIS 进行 需求 分析 、 设计 和 具体 应用 开发 的 过程 中 ， 作者 发现 可 充分 应用 可 复用 构件 的 技术 对系统 进行 进一步 的 优化 。 为此 ， 通过 研究 ， 作者 认为 一个 完整 的 MIS ， 除 具备 相应 的 信息处理 功能 ， 大都 具有 一些 共同 的 基本功能 。 根据 软件 复用 理论 和 构件 理论 ， 可 将 这些 共同 的 基本 功能设计 成 一个 通用 构件 ， 并 可 将 其 组合 到 其它 MIS 中 。 通过 对 MIS 的 研究 和 分析 ， 作者 认为 这一 通用 构件 应 具有 操作员 管理 、 口令 修改 、 系统日志 、 权限 级别 设置 、 程序 错误 记录 等 功能 。 在 理论 研究 的 基础 上 ， 作者 结合 以往 MIS 开发 的 经验 ， 设计 并 实现 了 这 一 通用 构件 Generalcomponent ， 并 通过 在 GMIS 开发 中 对 这 一 构件 的 复用 ， 消除 了 在 开发 中 存在 的 许多 重复劳动 ， 避免 了 重新 开发 可能 引入 的 错误 ， 提高 了 本 系统 的 可靠性 ， 并 缩短 了 其 开发周期 。 本 系统 类 结构图 如图所示 。 限于 篇幅 ， 本文 不再 对 其 具体 库 结构 和 细节 功能 的 实现 作 进一步 的 介绍 。 GMIS 系统 的 应用 　 　 在 完成 上述 GMIS 系统 开发 的 基础 上 ， 作者 结合 所 承担 的 新汶 矿务局 地表 岩移 观测 项目 ， 将 此 系统 具体 应用 于 翟镇 矿区 。 在 此 ， 不再 介绍 监测 区域 岩移 观测站 整体 布设 情况 。 矿区 首采面 观测站 设立 了 沿 走向 和 倾向 的 两条 相互 垂直 的 观测线 ， 共 设置 了 个 观测点 ， 自年 月 至 年 月 已 进行 了 期 变形 观测 。 　 　 下面 是 GMIS 系统 在 翟镇 矿区 岩移 地表 观测站 的 一个 具体 应用 实例 。 其中 ， 图 a 表示 首采面 全 盆地 下沉 等值线图 ； 图 b 表示 走向 观测线 水平 移动 速度 曲线图 ； 图 c 表示 监测 区域 整体 沉降 分布 立体图 。 图 （ a ） 　 首采面 全 盆地 下沉 等值线图 图 b 　 走向 观测线 水平 移动 速度 曲线图 图 c 　 监测 区域 整体 沉降 分布 立体图 结束语 　 　 在 GMIS 的 研制开发 过程 中 ， 作者 充分考虑 了 地表 岩移 观测 的 内容 、 方法 及 特点 ， 采用 了 UML 技术 进行 系统 建模 ， 并 通过 可 复用 构件技术 在 系统 开发 中 的 应用 ， 消除 了 在 开发 中 存在 的 许多 重复劳动 ， 缩短 了 　 　 开发周期 。 在 实际 应用 中 ， 系统 运行 稳定 可靠 ， 提高 了 地表 岩移 信息管理 的 工作效率 和 质量 ， 实现 了 地表 岩移 观测 数据 的 计算机 现代化 管理 ， 并 已 取得 了 良好 的 经济效益 和 社会效益 。 国家自然科学基金 资助 项目编号 ： 易彤 （ 宜春 医学 高专 江西 宜春 ） 　 栾元重 （ 山东 矿业 学院 泰安 ） 　 邓敏 （ 山东 矿业 学院 泰安 ） 参考文献 ， 许日滨 刘征 孙 英华 面向对象 的 编程 向导 VisualC 人民邮电出版社 ， DesignPatternsElementsofReusableObjectOrientedSoftware ， IvarJacobsonSoftwareReuseACMpress ， UMLSpecificationdraftVAlphaROMG ， 陈余华方 美琪 信息系统 工程 的 面向对象 的 方法 清华大学出版社 ， 英国 煤炭 局编 地表 沉陷 工程师 手册 中译本 煤炭工业 出版社 ， 煤炭 科学院 北京 开采 所 编著 地表 移动 与 覆岩 破坏 规律 及其 应用 煤炭工业 出版社 收稿 日期 ： 年月日