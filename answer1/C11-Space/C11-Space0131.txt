宇航学 报 JOURNALOFASTRONAUTICS 年 第卷 第期 NoVol 科技期刊 基于 故障 树 模型 的 航天器 故障诊断 研究 纪常伟 北京工业大学 热能 系 北京 荣 吉利 北京理工大学 应用力学 系 北京 黄 文虎 哈尔滨工业大学 信箱 哈尔滨 　 　 摘 　 要 　 本文 建立 了 基于 故障 树 模型 的 航天器 故障诊断 框架 提出 了 航天器 故障诊断 的 知识 组织 和 表示 方法 及 相应 的 推理 控制策略 并 通过 对 某 卫星 能源 系统故障 实验台 的 故障诊断 验证 了 方法 的 正确性 。 　 　 主题词 　 航天器 　 故障诊断 　 故障 树 　 知识 表示 　 推理 策略 STUDYONFAULTDIAGNOSISBASEDONFAULTTREEMODELFORSPACECRAFTJiChangweiBeijingPolytechnicUniversityBeijingRongJiliBeijingUniversityofTechnologyBeijingHuangWenhuHarbinInstituteofTechnologyHarbin 　 　 Abstract 　 Thepaperconstructsthefaultdiagnosisbodyforspacecraftpresentsknowledgeorganizationandrepresentationmethodsandtherelevantreasoningandcontrolstrategyforspacecraftfaultdiagnosisanddemonstratesitsvaliditybydiagnosingafaulttestbedforpowersystemofasatellite 　 　 Keywords 　 Spacecraft 　 Faultdiagnosis 　 Faulttree 　 Knowledgerepresentation 　 Reasoningstrategy 　 引言 　 　 航天器 作为 一个 复杂 的 大 系统 其 系统 级 和 分系统 级间 紧密 耦合 同时 存在 着 结构 和 功能 上 的 多层次性 及 构形 和 参数 的 时 变性 导致 其 诊断 的 复杂 和 困难 其 诊断 的 经验 知识 较 少 故障 树 将 是 其 主要 的 诊断 知识 来源 故障 树 有关 信息 的 利用 解决 了 航天器 故障诊断 知识 获取 的 瓶颈 问题 。 把 航天器 的 故障诊断 知识 分成 系统 级 诊断 知识 、 分系统 级 诊断 知识 、 部件 级 诊断 知识 、 零件 级 诊断 知识 和 元件 级 诊断 知识 系统 级 诊断 知识 对应 系统 级 故障 树 分系统 级 诊断 知识 对应 分系统 级 故障 树 部件 级 诊断 知识 对应 部件 级 故障 树 零件 级 诊断 知识 对应 零件 级 故障 树 。 系统 级 故障 树上 的 结点 为 分系统 级 的 故障 模式 零件 级 故障 树上 的 结点 为 元件 级 的 故障 模式 。 本文 提出 一种 面向对象 的 基于 故障 树 的 框架 、 规则 和 模型 的 混合 知识 表示 和 基于 框架 的 分布式 知识 组织 方法 建立 四类 框架 系统 级 框架 、 分系统 级 框架 、 部件 级 框架 和 零件 级 框架 。 这种 知识 表示 和 知识 组织 形式 可 适应 不同 层次 的 诊断 要求 。 　 航天器 故障诊断 的 知识 表示 和 组织 　 　 知识 组织 基于 框架 的 分布式 知识 组织 。 　 　 知识 表示 面向对象 的 基于 故障 树 的 框架 、 规则 和 模型 的 混合 知识 表示 。 　 　 框架 作为 知识 的 组织 形式系统 级 诊断 知识 封装 在 系统 级 框架 中 分系统 级 诊断 知识 封装 在 分系统 级 框架 中 部件 级 诊断 知识 封装 在 部件 级 框架 中 零件 级 诊断 知识 封装 在 零件 级 框架 中 。 规则 和 模型 作为 知识 的 表示 形式 基于 故障 树 模型 的 报警 知识 、 诊断 知识 和 对策 知识 用 产生 式 规则 表示 模型 知识 用 数学 或 逻辑 表达式 表示 。 所谓 面向对象 就是 把 故障 树 看成 一个 对象 有关 该 故障 树 的 所有 诊断 信息 都 封装 在 一个 框架 中 框架 中 的 各个 槽 分别 对 应该 故障 树 的 报警 信息 、 诊断 信息 和 对策 信息 。 这种 框架 具有 良好 的 扩展性 如果 存在 多种 报警 方式 规则 、 模型 、 案例 等 、 多种 诊断 信息 经验 、 故障 树 、 模型 、 多种 对策 方法 那么 就 在 框架 中 加入 或 删除 一些 槽 即可 。 下面 以 航天器 为例 给出 这种 知识 表示 和 组织 形式 图 。 　 　 图 　 航天器 故障诊断 的 知识 组织 和 表示 系统 级 框架 航天器 故障 A 　 　 分系统 级 框架 能源 故障 控制系统 故障 … … BB … Bn 　 　 部件 级 框架 分流器 故障 中 控器 故障 … … CC … Cj 　 　 零件 级 框架 不 分流 恒 分流 不 正常 分流 … … DDD 　 　 槽 报警 规则 库 框架 某 故障 树 对应 的 所有 传感器 测点 信息 、 阈值 与 该 故障 树 结点 构成 报警 规则 库以 IFTHEN 形式 表示 。 　 　 槽 诊断 规则 库 框架 根据 某 故障 树父 、 子 结点 间 的 逻辑关系 及 约束 权值 提取 成 产生 式 规则 建立 诊断 规则 库以 IFTHEN 形式 表示 。 　 　 槽 模型库 框架 某 故障 树 所有 模型 构成 模型库 以 数学 或 逻辑 表达式 表示 。 　 　 槽 对策 规则 库 框架 某 故障 树 所有 底 事件 的 对策 建议 构成 对策 库以 IFTHEN 形式 表示 。 　 基于 故障 树 模型 的 航天器 故障诊断 的 推理 及 控制策略 　 控制策略 　 　 基于 优先级 约束 权值 和 元级 报警 的 深度 优先 回溯 控制 。 　 　 首先 根据 传感器 的 实测 数据 启动 系统 级 框架 进行 元级 诊断 推理 根据 报警 和 分系统 优先级 依次 启动 相关 各 分系统 框架 被 启动 的 分系统 框架 进行 元级 推理 根据 报警 和 部件 优先级 依次 启动 相关 各 部件 级 框架 被 启动 的 部件 级 框架 进行 元级 推理 根据 报警 和 零件 优先级 依次 启动 相关 各 零件 级 框架 。 系统 级 框架 的 任务 就是 把 故障 定位 到 分系统 分系统 级 框架 的 任务 就是 把 故障 定位 到 部件 部件 级 框架 的 任务 就是 把 故障 定位 零件 零件 级 框架 的 任务 就是 把 故障 定位 到 元件 。 如果 是 系统 级 诊断 由于 诊断 只 在 系统 级 框架 内 进行 诊断 的 效率高 且 速度 快 最终 把 故障 定位 到 分系统 并 给出 切换 及 重组 的 对策 建议 。 如果 要求 诊断 到 冗余 级 由于 诊断 在 系统 级 框架 和 分系统 级 框架 内 进行 诊断 的 效率 较 高且 速度 较 快 最终 把 故障 定位 到 部件 或 零件 并 给出 切换 备份 的 对策 建议 。 如果 要求 诊断 到 元件 级 由于 诊断 在 系统 级 框架 、 分系统 级 框架 、 部件 级 框架 和 零件 级 框架 内 进行 诊断 的 效率 低且 速度慢 最终 把 故障 定位 到 元件 并 给出 故障 排除 的 对策 建议 。 　 推理 策略 　 　 基于 报警 的 遍历 搜索 。 　 　 如果 某级 框架 被元级 推理 所 启动 那么 该级 框架 就 依次 启动 其 报警 规则 库 框架 、 诊断 规则 库 框架 、 模型库 框架 和 对策 规则 库 框架 。 报警 规则 库 框架 的 启动 给出 诊断 规则 库 框架 启动 所 需 的 故障 树上 结点 的 报警 信息 因为 每 一条 诊断 规则 的 前提 或 结论 都 对应 着 故障 树上 的 一个 或 多个 结点 。 诊断 规则 库 框架 的 启动 产生 诊断 结果 然后 启动 对策 规则 库 框架 给出 故障 排除 的 对策 建议 。 如果 诊断 规则 库 框架 的 启动 无法 给出 确切 诊断 结果 则 启动 模型库 框架 产生 诊断 结果 再启动 对策 规则 库 框架 给出 故障 排除 的 对策 建议 。 利用 测点 异常 经 报警 推理 产生 故障 树上 的 结点 异常 以 异常 结点 事件 作为 基于 故障 树 推理 的 起始 点 利用 正常 结点 事件 进行 假设 排除 来 确定 故障 源如 不能 得出 确切 诊断 结果 则 进行 基于 模型 的 推理 和 仿真 直至 确定 最后 的 故障 源 。 　 　 图示 首先 系统 级 框架 接收 航天器 传感器 的 所有 数据 并 依据 关键 阈值 进行 元级 推理 以 决定 激活 哪个 分系统 框架 如 能源 系统 输出 电压 过低 V ＜ ～ V 则 激活 能源 分系统 框架 。 由 能源 分系统 所有 传感器 信息 并 依据 关键 阈值 进行 元级 推理 以 决定 激活 哪些 部件 级 框架 如 分流器 分流 电阻 上 的 电流 I 则 激活 分流器 部件 框架 又 由 I 激活 不 分流 零件 级 框架 而 故障 源 的 定位 是 在 零件 级 框架 内 进行 的 。 首先 启动 D 的 报警 规则 库 框架 利用 D 故障 树上 的 结点 与 传感器 实测值 间 的 关系 在 该库 中 搜索 匹配 得到 若干 正常 结点 事件 和 异常 结点 事件 然后 启动 D 的 诊断 规则 库 框架 按照 最近 搜索 原则 在 库 中 搜索 前提 为 某 异常 结点 事件 的 规则 如 这样 的 规则 有 多个 则 依次 匹配 规则 匹配 产生 新 的 事实 再 激活 下 一条 前提 为 该 事实 的 规则 如此 进行 下去 直 到底 事件 为止 利用 故障 树上 的 异常 结点 事件 进行 反向 搜索 利用 其 正常 结点 事件 进行 假设 排除 直至 确定 最后 的 故障 源 。 如 测点 不足 则 给出 一个 按 约束 权值 大小 排列 的 可能 故障 源 PFS 表 。 如果 存在 可能 的 故障 源则 启动 D 模型库 框架 进行 基于 模型 的 推理 从而 给出 最终 的 诊断 结果 。 然后 启动 D 的 对策 规则 库 框架 给出 故障 排除 的 对策 建议 。 　 诊断 实例 　 某 卫星 能源 系统故障 试验台 结构 简图 图 　 某 卫星 能源 系统故障 试验台 结构 简图 　 分流器 模拟 电路 故障诊断 　 分流器 故障模拟 电路 　 　 其中 SS … S 为 传感器 测点 IV 为 电流 电压 变换器 。 图 　 分流器 故障模拟 电路 　 分流器 故障 状态 描述 　 　 正常 状态 V α I 即 IV 输出 与 分 流量 成正比 α 为 常数 　 　 故障 状态 a 不 分流 Ib 恒 分流 Ic 常数 c 异常 分流 V ≠ α I α 为 常数 　 分流器 模拟 电路 故障 树 　 　 选定 分流器 的 三种 故障 状态 为 故障 树 的 顶 事件 即 不 分流 为 顶 事件 的 故障 树 、 恒 分流 为 顶 事件 的 故障 树 、 异常 分流 为 顶 事件 的 故障 树 。 下面 以 不 分流 为 例画 出顶 事件 为 不 分流 的 故障 树图 AA … A 表示 故障 树上 的 各 结点 事件 。 图 　 不 分流 为 顶 事件 的 故障 树 　 分流器 不 分流 故障 的 诊断 过程 　 　 由图 根据 传感器 的 实测 数据 依次 启动 框架 BC 通过 搜索 C 的 槽 值 由 I 启动 框架 D 。 对 D 的 槽 值 进行 搜索 顺序 启动 D 的 报警 规则 库 、 诊断 规则 库 、 模型库 及 对策 规则 库 。 由 实测 数据 启动 D 的 报警 规则 库 框架 产生 异常 结点 事件 DAA 和 正常 结点 事件 AAA 。 如 无 异常 结点 事件 产生 则 诊断 结束 并 显示 系统 工作 正常 如 有 异常 结点 事件 产生 则 根据 这些 已知 的 结点 事件 启动 D 的 诊断 规则 库 框架 给出 必然 的 故障 源 CFSA 和 可能 的 故障 源 PFSAA 。 其中 AAA 等 括号 中 的 数据 分别 代表 结点 事件 AAA 发生 的 概率 。 由于 A 是 必然 的 故障 源 启动 对策 规则 库 框架 产生 对策 Action 。 由于 AA 是 可能 的 故障 源故 还 需 启动 模型库 框架 来 最终 确定 其 状态 如果 I β II ＜ β I 其中 β 、 β 为 三级管 T 、 T 的 放大 倍数 所以 结点 事件 A 正常 A 异常 。 因为 A 异常 故 启动 对策 规则 库 框架 产生 对策 Action 。 因此 最终 的 故障 源为 AA 即 运算 放大器 故障 和 三级管 T 开路 图 。 航天器 的 元件 级 故障 源 定位 是 在 零件 级 框架 内 进行 的 依次 启动 其 报警 规则 库 框架 、 诊断 规则 库 框架 及 模型库 框架 。 图 　 分流器 故障诊断 过程 　 结束语 　 　 本文 研究 了 基于 故障 树 模型 的 航天器 故障诊断 问题 针对 航天器 结构 、 功能 分布 的 特点 提出 了 其 智能 诊断 的 知识 表示 和 组织 方法 及 相应 的 控制策略 和 推理 策略 。 　 　 基于 框架 的 知识 组织 和 面向对象 的 知识 表示 满足 了 航天器 分布式 诊断 的 要求 　 　 每种 知识 封装 在 一个 框架 中且 各 框架 相对 独立 提高 了 诊断 效率 　 　 模型库 的 建立 有利于 提高 诊断 的 准确度 　 　 面向 框架 的 设计 使得 知识库 维护 容易 且 扩展性 好 参考文献 　 JohanDekleerandBrianWilliamsCDiagnosingMultipleFaultsArtificialIntelligence 　 RaymondReiterATheoryofDiagnosisfromFirstPrinciplesArtificialIntelligence 　 RandallDavisDiagnosticReasoningBasedonStructuresandBehaviorArtificialIntelligence 　 NarayananNHandViswanadhamNAMethodologyforknowledgeAcquisitionandReasoninginFailureAnalysisofSystemsIEEETransSystemsManandCyberneticsVolSMCMarApr 　 SPadalaretalGraphBasedRealTimeFaultDiagnosticsN 　 DavidLLversonADiagnosisSystemUsingObjectOrientedFaultsModelsN