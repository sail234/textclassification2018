计算机 应用 研究 APPLICATIONRESERCHOFCOMPUTERSVol 　 No 　 P 群件 安全 结构 分析 与 设计 陈传波 　 金旭军 　 刘广宇 摘要 越来越 多 的 企业 正在 创建 包容 企业 各 部门 及 协作单位 的 群件 应用 系统 ， 群件 平台 既 要求 有 坚固 的 安全措施 以 保护 关键 的 商业 数据 ， 又 要求 安全 手段 具有 足够 的 灵活性 。 从 不同 层次 分析 群件 的 安全性 ， 并 提出 一个 群件 应用 系统 的 安全 设计 模型 。 关键词 群件 数据 加密 身份验证 　 　 群件 具有 分布 性 和 网络 集成性 的 特点 ， 可以 同时 在 不同 地点 、 不同 类型 的 计算机 上 实现 数据 资源共享 ， 支持 组织 成员 协同 完成 共同任务 。 要 确保 组织 的 网络 、 Web 站点 、 应用程序 和 服务器 达到 最大 程度 的 安全 保障 ， 在 规划 和 设计 系统 时 必须 周全 考虑 整个 系统 的 安全性 ， 本文 就是 试图 从 整体 上 探讨 和 分析 群件 系统 的 安全性 。 　 群件 安全 分析 　 　 群件 安全性 覆盖 许多 层次 ， 大到 Internet 和 网络 安全性 ， 小到 数据库 文档 中域 的 安全性 ， 都 要 进行 完善 的 安全策略 规划 。 　 安全 控制策略 　 　 通常 有 两种 安全策略 ： 　 　 。 没有 被 列为 允许 访问 的 服务 都 是 被 禁止 的 保守 法 　 　 。 没有 被 列为 禁止 访问 的 服务 都 是 被 允许 的 乐观 法 　 　 这 两种 策略 目前 多 用于 网络安全 管理 ， 其实 在 整个 系统 中 都 可以 依照 这 两种 策略 进行 规划 ， 衡量 增加 安全性 、 易 访问 性 以及 易使用 性 之间 的 取舍 。 在 组织 内部 成员 的 网络 访问控制 可 采用 乐观 法 ， 对外部 人员 和 Internet 用户 的 访问 采用 保守 法 ； 对 内部 安全 要求 高 的 资源管理 采取 保守 法 ， 而 对 普通 资源 的 管理 采用 乐观 法 。 　 数据库 安全性 　 　 数据库 安全性 主要 包括 数据 的 完整性 、 保密性 和 可用性 ， 有时 保密性 和 准确性 在 某种程度 上 成反比 。 对 数据库 的 管理 通常 采用 用户 认证 、 访问控制 以及 审计 追踪 等 手段 ， 拒绝 非法操作 ， 加强 对 数据库 日志 的 审计 ， 及时 剔除 非法 用户 。 　 　 非法 用户 有时 会 绕过 DBMS 直接 操作 数据 ， 要 防止 这种 操作 可以 在 操作系统 级 进行 合理配置 ， 同时 可以 加密 数据库 。 　 网络 安全性 　 　 网络安全 是 网络系统 维护 和 安全检查 的 重要 工作 ， 建立 在 防火墙 技术 、 用户 认证 技术 和 密码 技术 等 基础 之上 ， 需要 从 网络 漏洞 检查 、 网络资源 利用 和 网络 传输 内容 控制 等 多个 方面 着手 。 既 要 保证 内部 网络通信 的 保密性 ， 又 要 保证 Internet 网络 的 安全性 ， 防止网络 窃听 和 篡改 数据 。 　 　 在 Internet 上 有 一种 较 常见 的 网络攻击 法 桰 P 欺骗 ， 入侵 主机 假冒 一个 本地 系统 的 IP地址 ， 并 欺骗 其它 主机 不 要求 提示 身份验证 。 要 防止 IP 欺骗 ， 就要 避免 任何 基于 身份验证 的 IP地址 ， 每次 都 要求 提供 口令 ， 并 实现 机遇 身份验证 的 加密 。 　 WWW 安全 管理 　 　 WWW 的 安全 指 数据 保密 和 防止 非法操作 ， 除了 要 正确 配置 WWW 服务器 和 进行 数据 加密 外 ， 还 必须 分析 HTTP 、 JavaApplet 和 CGI 语言 潜在 的 安全 问题 。 　 　 HTTP 协议 允许 远程 用户 对 远程 服务器 请求 通信 及 远程 执行命令 ， 这会 危及 Web 服务器 和 客户 ， 解决办法 是 对 用户 进行 身份验证 。 而且 ， Web 服务器 会 记录 下 各种 用户 的 大量 请求 及 数据 信息 ， HTTP 可能 对 这些 信息 的 检索 不 加 任何 限制 ， 从而 泄露 用户 信息 ， 必须 对 服务器 日志 文件 加以 限制 。 　 　 不少 非法 用户 通过 篡改 CGI 程序 的 环境变量 来 攻击 Web 站点 ， 这 要求 在 编写 CGI 程序 时 避免 向 外部 程序 传递 未经 检查 的 用户 变量 ， 还 必须 用 完整 的 绝对路径 来 调用 程序 。 编写 CGI 程序 时 一定 要 对 输入 参数 进行 检查 ， 避免出现 漏洞 ， 在 限制 对 一个 脚本 的 访问 时 ， 要 把 限制 放在 脚本 以及 所有 调用 它 的 HTML 文件 中 。 　 　 JavaApplet 在 连接 的 浏览器 端 执行 ， 把 安全 风险 直接 从 服务器 移到 了 客户端 ， 必须 限制 JavaApplet 的 权限 。 通常 不 允许 JavaApplet 执行 任意 的 系统命令 、 调用 系统 库 或 打开 系统 设备 驱动器 ， 只 允许 JavaApplet 同 它 被 下载 的 服务器 建立 连接 ， 不 允许 JavaApplet 同时 读写 网络 和 读写 本地 磁盘 ， 以 防止 JavaApplet 偷看 用户 的 私有 文档 并 将 其 传回 服务器 。 　 邮件系统 安全 　 　 邮件系统 是 群件 的 最 基本 和 最 核心 的 部分 ， 邮件 在 网络 上 传输 ， 邮件 的 保密性 成为 首要 的 问题 ， 目前 流行 的 做法 是 用 PGP 算法 加密 邮件 。 PGP 将 RSA 和 传统 的 加密 结合 起来 ， 使用 公共 密钥 加密 邮件 ， 达到 高 保密性 和 高效率 性 的 目的 。 而且 ， PGP 的 邮件 文摘 算法 可 产生 具有 法律 作用 的 数字签名 ， 保证 邮件 来源 的 正确性 。 　 　 同时 ， 因群件 邮件系统 的 功能强大 ， 邮件 不但 能传送 传统 报文 ， 且 能传送 MIME 报文 ， 这样 可能 导致 病毒 随 网络 传播 的 恶性循环 ， 为此 必须 在 客户机 和 服务器 上 都 对 邮件 进行 检查 ， 及时 剔除 感染 病毒 的 文件 。 　 身份验证 和 数据 加密 　 　 身份验证 可以 定义 为 ： 为了 使 某些 授予 许可 权限 的 权威机构 满意 而 提供 要求 的 身份 的 过程 。 用户 可以 按照 “ 提问 ／ 回答 ” 的 方式 ， 提交 用户名 和 口令 ， 口令 以 密文 形式 在 网络 上 传输 ， 在 给 出院 正确 的 用户名 和 口令 后 ， 用户 就 有权 访问 系统资源 了 。 验证 也 可以 根据 用户 的 物理 特征 、 ID 和 智能卡 等 ， 以 增强 验证 的 可靠性 。 服务器之间 的 通信 也 要求 进行 完整 的 身份验证 ， 不管 是 用户 身份验证 还是 服务器 身份验证 ， 都 要求 在 系统 注册 时为 所有 用户 和 服务器 建立 帐号 ， 并且 可以 对 注册 信息 实行 集中式 管理 。 　 　 数据 加密 包括 数据库 加密 和 数据传输 加密 。 若 加密 整个 数据库 ， 那么 未 授权 用户 就 无法 改变 数据库 或 拷贝 数据库 ， 有些 数据库 还 提供 表单 和 字 段级 加密 ， 以 增加 加密 的 灵活性 。 数据传输 加密 多 采用 安全套 接层 SSL ， SSL 通过 Socket 层 对 客户服务器 访问 的 事务处理 提供 安全 保护 ， 可以 进行 数据 加密 、 服务器 验证 、 信息 完整性 校验 和 客户 TCPIP 连接 验证 。 SSL 用 公共 密钥 加密 ， 在 客户 和 服务器 间 交换 一个 进程 密钥 ， 这个 密钥 用来 加密 HTTP 传输 过程 。 由于 美国 加密 软件 出口 法律 的 限制 ， 我国 使用 的 密钥 只有 位长 ， 而位 密钥 有 可能 被 粗鲁 强迫 型 攻击 破解 ， 用 SSL 加密 的 数据 就 有 泄露秘密 的 危险 。 　 群件 应用 系统 的 规划 和 设计 　 　 清江 水电 开发 有限责任 公司 是 一个 流域性 开发 建设 公司 ， 以 宜昌 基地 为 中心 ， 下辖 隔河岩 电厂 、 高坝洲 电厂 和 水布垭 电厂 ， 现将 各 单位 的 局域网络 连接起来 组成 QDC 广域 网络系统 ， 网络拓扑 如图所示 。 图 　 QDC 网络拓扑 图 　 　 公司 内部 各个 局域网络 通过 PSTN 和 DDN 互连 ， 武汉 投资 公司 和 Internet 用户 经 防火墙 进入 内部 网络 。 由于 LotusNotes 强大 的 通信 和 协同工作 功能 ， 根据 公司 的 特点 ， 特 选用 LotusNotes 构建 应用 系统 。 DominoNotes 组合 是 目前 公认 为 安全性 最高 的 安全 模型 ， 在 规划 Notes 系统 时 ， 在 不同 组织 级别 和 不同 层面 上 进行 安全 设计 。 　 服务器 安全 管理 　 　 在 服务器端 采用 如图所示 计算 模式 。 图 　 QDC 服务器 计算机 模式 　 　 按照 这种 模式 ， 可以 开发新 的 应用 系统 与 Notes 无缝 连接 ， 也 可以 借助 第三方 工具 开发 ， 还 可以 对 RDMS 进行 信息 访问 。 用户 可以 通过 Notes 客户机 访问 服务器 ， 也 可以 用 浏览器 进行 访问 。 　 　 同 网络结构 相对 应 ， 把 Notes 规划 为个 服务器 群 ， 采用 中心 辐射 拓扑 ， 以 宜昌 基地 服务器 作为 中心 服务器 ， 依据 建立 的 时间表 按 顺序 连接 至 辐射 服务器 ， 执行 复制 操作 。 但 某个 服务器 失效 时 ， Notes 就 把 对 失效 服务器 的 请求 转移 到 其它 服务器 的 一个 复本 上 ， 并 保证 这个 复本 保留 了 当前 的 所有 改动 。 　 　 服务器端 采用 AIX 操作系统 ， 严格 安排 文件 许可权 ， 有 帐号 的 用户 可以 用 password 命令 修改 口令 ， 但 不能 直接 修改 etcpassword 的 口令 部分 ， 除 root 外 ， 不 给 其他 任何人 写 分区 的 权限 。 　 数据库安全 管理 　 　 采用 分布式 数据库 技术 ， 宜昌 基地 网络 、 隔河岩 网络 、 高坝洲 网络 和 水布垭 网络 的 数据 ， 及时 复制到 其它 服务器 上 。 　 　 数据库 控制 列表 中 给出 了 用户 、 服务器 和 不同 群组 ， 每个 存取控制 列表 都 有 用户 类型 和 存取 级别 ， 每个 存取 级别 都 自动 具有 低级 别的 全部 执行 权限 ， 而且 可以 设定 具有 同一 存取 级别 的 用户 执行 权限 ， 并且 将 用户 同 具体 的 角色 结合 起来 ， 形成 多级 权限 控制 。 　 　 在 数据库 设计 时 ， 将 导航 器 、 视图 、 表单 和 功能 条同 具体 的 角色 联系 起来 ， 若 没有 拥有 相关 的 角色 ， 即使 是 数据库管理员 也 不能 执行 任何 操作 。 由于 DominoWeb 服务器 对 文档 的 域 加密 失效 ， 在 设计 时 就 放弃 对域 的 加密 控制 。 　 网络安全 管理 　 　 采用 Netview 网络 管理系统 ， 进行 集中式 的 网络管理 。 管理员 在 网络 上 的 任 一台 SNA 终端 上 可以 管理 和 控制 整个 机构 的 网络 ， 通过 故障 检测 、 修复 和 控制 流量 使 系统 效率 达到 最高 。 　 　 在 Internet 接 入口 设立 防火墙 ， 将 被 保护 网络 内部结构 屏蔽 起来 ， 同时 进行 数据流 监控 、 过滤 、 记录 和 报告 等 功能 。 Domino 以 TCP 套 接字 注册 ， 在 防火墙 中 开放 Domino ， 把 Domino 的 安全检查 和 防火墙 的 控制 功能 结合 起来 ， 通过 在 防火墙 中 提出 不必要 的 服务 和 协议 来 拒绝 潜在 的 访问 点 ， 确保 网络资源 的 安全 。 　 身份验证 　 　 用户 和 服务器 在 注册 期间 ， 都 将 得到 Notes 标识符 文件 ， 要 存取 一个 数据库 ， 用户 或 服务器 必须 提交 自己 的 Notes 标识符 ， 并 必须 通过 检查 。 验证 字 有 一个 有效期 ， 过 了 有效期 就 必须 重新 验证 。 　 　 标识符 文件 包括 用于 验证 和 数字签名 的 私有 密钥 ， 以及 一系列 有助于 验证 标识符 的 验证 字 。 文件名 采用 层次结构 命名 ， 层次结构 名称 有助于 区分 用户 和 服务器 ， 通过 存取 和 验证 增强 控制 。 　 防病毒 管理 　 　 系统 采取 CS 模式 的 病毒 防护 方案 ， 实现 对系统 的 集中管理 ， 并 把 防病毒 工作 按照 不同 部门 或 地域 分组 设置 反病毒 管理工作 。 实时 和 定时 扫描 应用 系统 ， 在 每个 进入 点 抵御 病毒 和 恶意 小 程序 的 入侵 。 在 Notes 客户机 的 ECL 中 ， 限制 程序 的 访问 和 执行 权限 ， 防止 在 数据库 中 的 或 通过 邮件 收到 的 程序 未经 授权 执行 。 　 WWW 安全 管理 　 　 在 公用 通信录 中 创建 个人 文档 以 识别 单独 的 Internet 用户 ， 分别 设置 用户 对 Web 站点 的 存取 权限 ， 也 可以 在 Domino 上 设定 Internet 用户 的 最大 访问 权限 。 Internet 用户 访问 受限 操作 时 ， Domino 服务器 和 浏览器 间 就 采用 “ 提问 ／ 回答 ” 方式 进行 验证 。 　 　 Domino 支持 安全套 接层 SSLV 加密 ， 允许 HTTP 事务 中 的 加密 通讯 ， 可以 进行 验证 授权 CA 操作 。 对 所有 因特网 可 访问 到 的 服务器 实行 信道 加密 ， 这样 就 把 服务器 和 与 之 通信 的 客户机 间 传送 的 所有 数据包 加密 ， 用户 在 通过 Internet 传送 信息 时 就 不 需要 担心 信息 的 安全性 。 　 结束语 　 　 本文 从 整体 上 分析 了 群件 系统 的 安全性 ， 包括 数据库安全 、 网络安全 、 WWW 安全 、 邮件系统 安全 、 身份验证 和 数据 加密 ， 并 在 此基础 上 提出 一个 具体 群件 应用 系统 的 安全 框架 。 陈传波 （ 华中理工大学 计算机 学院 武汉 ） 　 金旭军 （ 华中理工大学 计算机 学院 武汉 ） 　 刘广宇 （ 湖北 清江 公司 信息中心 宜昌 ） 参考文献 IBMLotusNotesReleaseVersionOnlineHelpInternetIntranet 网络安全 结构设计 AOFreierPKarltonTheSSLprotocolVersionHttphomenetscapecomengsssstochtm 收稿 日期 ： 年月日