计算机 应用 研究 APPLICATIONRESEARCHOFCOMPUTERS 　 Vol 　 No 　 P 基于 Internet 技术 的 证券 委托 交易系统 张建军 　 杨 德华 　 罗涛 摘要 结合 上海 国泰 证券公司 网上 证券 委托 交易系统 的 开发 ， 采用 面向对象 的 分析方法 和 Intranet 体系结构 ， 详细 论述 了 利用 Java 语言 开发 基于 Internet 应用 系统 的 技术 和 实际操作 等 问题 ， 并 着眼于 电子商务 在 Internet 上 的 应用 ， 探讨 了 我国 企业 在 此 领域 发展 的 前景 。 关键词 InternetJava 语言 JavaAppletJavaServlet 面向对象 客户机 服务器 超文本 语言 引言 Internet 的 发展 　 　 互联网 Internet 可说是 二十 世纪末 最 热门 且 影响 最 深远 的 信息技术 。 由于 网络 的 蓬勃发展 与 迅速 成长 及其 没有 边界 的 特性 ， 再 加上 计算机 在 世界 范围 内 的 迅速 普及 ， 造就 了 网络 成为 现代 最大 的 信息 传播 及 行销 媒体 。 可以 预见 ， Internet 势必 将 发展 成为 二十一 世纪 最大 的 商场 。 　 　 当今 ， Internet 技术 的 飞速发展 已经 带动 了 许多 行业 的 进一步 发展 ， 随着 新 技术 的 应用 ， 新 的 观念 和 思维 也 逐渐 开始 进入 人们 的 生活 。 在 我国 ， 特别 是 最近 几年 以来 ， Internet 技术 已 迅速 渗透到 社会 各个领域 。 与 国外 相比 ， 虽然 我国 的 互联网 发展 现状 还 比较落后 ， 但 越来越 多 的 人 已经 开始 认识 到 Internet 的 重要性 ， 并且 希望 能够 在 工作 和 学习 中 加以 应用 。 　 　 最新 Internet 上 的 应用 趋势 是 电子商务 EC ： ElectronicCommerce 的 发展 ， 电子商务 也 就是指 利用 Internet 进行 的 商务活动 。 它 主要 包括 利用 电子数据交换 EDI 、 电子邮件 EMAIL 、 电子 资金 转帐 EFT 及 Internet 的 主要 技术 在 个人 、 企业 和 国家 间 进行 无纸化 的 业务 信息 的 交换 。 目前 ， 电子商务 在 欧美各国 正在 得到 广泛 的 应用 ， 在 我国 还 处于 起步 阶段 ， 但 国家 和 各级 政府 已经 开始 采取措施 ， 加大力度 来 进行 这一 技术 的 研究 和 推广 工作 。 项目 介绍 　 　 上海 国泰 证券公司 的 基于 Internet 技术 的 证券 委托 交易系统 以下 简称 委托 交易系统 属于 电子商务 在 金融证券 领域 内 的 应用 ， 它 的 开发 采用 了 目前 先进 的 Web 技术 和 Java 技术 。 通过 这一 系统 ， 用户 足不出户 就 能够 通过 Internet 进行 证券交易 ， 方便快捷 地 发出 委托 信息 ， 并且 迅速 得知 成交 情况 ， 大大 方便 了 客户 并 节省 了 时间 。 　 　 此 系统 的 开发 着眼于 国内外 客户 ， 系统 备有 中英文 两个 版本 ， 并 考虑 了 国内外 用户 的 应用 差别 ， 系统 的 用户界面 是 通过 浏览器 如 Netscape ， InternetExplorer 等 来 实现 的 ， 界面 简单明了 ， 易于 操作 ， 能 较 好 地 满足用户 的 需要 。 文章 结构 　 　 本文 以下 重点 探讨 此 委托 交易系统 的 技术 与 开发 问题 。 准备 分 三个 部分 来 详加 阐述 ： 　 　 系统 模型 技术 　 　 系统 功能 划分 　 　 系统实施 方案 系统 模型 技术 面向对象 的 分析方法 和 对象 建模 技术 　 　 本 系统 的 系统分析 采用 的 是 面向对象 的 分析方法 和 对象 建模 技术 。 　 　 面向对象分析 方法 OOA 是 建立 在 事物 可以 用 对象 来 表示 的 基础 上 的 。 在 系统分析 和 设计 时 围绕 客观 世界 的 对象 或 用户 对 客观 世界 的 映象 来 组织 。 由于 将 数据 和 对 数据 的 行为 操作 结合 起来 作为 一个 集成 的 对象 来 对待 ， 系统 的 修改 只 需 改变 和 增删 一些 对象 或 操作 就 可以 了 。 因此 分析 、 设计 的 系统 更 容易 理解 。 这些 优点 都 是 面向 过程 分析方法 所 不 具备 的 ， 并 适应 现代 软件工程 的 特点 。 　 　 对象 建模 技术 ObjectModelingTechnique ， OMT 作为 一种 重要 的 面向对象 软件 方法学 ， 已经 成为 面向对象 技术 的 主要 流派 之一 ， 它 支持软件 生命周期 的 各个 阶段 ， 能 实现 系统 的 集成 开发 。 OMT 是 一种 围绕 真实世界 的 概念 来 组织 模型 的 软件开发 方法 ， 它 使用 三种 模型 来 描述 系统 ： 静态 对象 模型 ， 动态 模型 和 功能 模型 。 静态 对象 模型 描述 了 系统 中 对象 的 静态 结构 以及 对象 间 的 联系 ， 用 静态 对象 模型 图来 描述 。 动态 模型 描述 了 与 时间 和 操作 次序 有关 的 系统 特征 。 动态 模型 由多张 状态图 组成 ， 各个 类 的 状态图 通过 共享 事件 组成 系统 的 动态 模型 。 功能 模型 描述 系统 内 数据 值 的 变化 ， 它 由 数据流 图 组成 。 流图 说明 数据流 是 如何 从 外部 输入 ， 经过 操作 和 内部 存储 而 到 外部 输出 的 。 　 　 相对 于 传统 的 软件工程 方法学 ， OMT 的 开发 重心 移到 了 分析阶段 ， 使得 分析 的 结果 更为 可靠 。 OMT 在 整个 开发 过程 中 使用 统一 的 软件 概念 对象 ， 所有 其它 概念 都 是 围绕 对象 组成 的 ， 在 分析阶段 开发 的 对象 模型 也 适用 于 设计 和 实现 阶段 。 系统 模型 的 建立 　 　 在 此 系统 模型 的 建立 时 ， 应用 OMT 方法 的 过程 为 ： 首先 构造 系统 的 静态 对象 模型 ， 然后 依次 对 其中 的 各种 对象 以及 各种 界面 对象 建立 起 动态 模型 以及 系统 的 功能 模型 。 静态 对象 模型 如图所示 不 包括 界面 对象 。 图 　 系统 的 静态 对象 模型 其中 ， 上市公司 包括 证券公司 。 　 　 整个 模型 可 分为 两 大部分 ， 即 委托 交易 部分 和 股市 分析 部分 ， 两者之间 通过 撝 と 瘮 对象 相 联系 。 委托 交易 部分 主要 包括 证券 委托 交易 及 相关 单据 处理 。 股市 分析 部分 则 侧重 行情 信息 及 有关 证券 分析 报告 。 　 　 系统 的 典型 工作 方式 是 ： 界面 对象 接收 用户 的 要求 ， 并 向 有关 对象 发送 以及 接收 有关 对象 发来 的 消息 及 数据 ， 而 这些 消息 和 数据 通过 Internet 传送 到 用户 浏览器 界面 。 系统 功能 划分 　 　 根据 用户 的 实际 需要 ， 本 委托 交易系统 的 功能 结构 主要 可以 分为 以下 四 部分 见图 。 图 　 功能 图 　 　 客户 开户 ： 需要 输入 有关 个人资料 ， 经 核实 后 可以 给予 帐户 授权 ， 包括 帐号 、 用户名 和 密码 。 　 　 委托 交易 ： 交易 时先要 进行 身份验证 ， 然后 开始 买 、 卖 或 撤单 操作 ， 用户 从 上海 或 深圳股市 中 选择 股票代码 及 名称 ， 填写 完 买卖 价格 及 交易 数量 ， 然后 提交 即可 。 　 　 实时 查询 ： 查询 各类 信息 。 通过 交割单 和 成交 明细 ， 用户 能够 知道 所 发 委托 单 是否 成交 ， 而且 可以 查询 资金 帐户 上 的 资金 剩余 和 股东 帐户 上 的 股票 余额 。 　 　 行情 显示 ： 实时 显示 沪深股市 行情 信息 。 　 　 此 系统 的 用户界面 部分 通过 工作站 端的 浏览器 实现 ， 相关 的 还有 服务器端 的 后台 数据 变换 部分 。 后者 用 Java 的 Application 技术 编写 ， 直接 运行 在 服务器 上 ， 不需 浏览器 支持 。 限于 篇幅 ， 其 内容 就 不 深入 介绍 了 。 系统实施 方案 Java 技术 　 　 在 此 委托 交易系统 的 实施 中 ， 主要 采用 Java 技术 来 进行 开发 。 Java 语言 的 出现 虽然 不久 ， 但 其 发展 速度 却是 惊人 的 。 它 的 出现 ， 使 开发 具有 可移植性 的 网络软件 的 工作 变得 更为 简便 和 有效 。 Java 是 首先 由 Sun 公司 开发 出来 的 一种 编程语言 ， 从 广义 上 来讲 ， 它 不仅 指 语言 本身 ， 还 包括 一个 Web 计算 模式 下 的 开发 和 运行 环境 。 　 　 Java 的 优点 在于 它 实现 了 与 体系结构 的 无关 性 可 在 不同 的 硬件 体系结构 和 操作系统 上 运行 ， 并且 可以 和 多种 编程语言 接口 实现 应用 交互 。 Java 是 开发 安全可靠 、 分布式 、 基于 网络 的 、 客户端 应用 的 程序 的 有力 工具 ， 它 采用 了 多种 机制 来 保证 其 可移植性 ， 不仅 开发 的 原代码 ， 连 原代码 编译 后 的 二进制码 也 可移植 。 Java 编译器 对 原代码 编译 ， 生成 的 字节 码 基于 一种 抽象 的 解释 桱 ava 虚拟机 JVM 。 JVM 加载 Java 字节 码 ， 并 根据 它 的 指令 操纵 系统 工作 。 JVM 实际 是 一个 可 运行 Java 字节 码 的 虚拟 操作 平台 。 JavaApplet 程序 在 浏览器 中 很 容易 与 超文本 语言 HTML 有机 地 结合 在 一起 ， 大大 增强 了 它 在 Internet 上 应用 的 有效性 。 用 Java 开发 既 简单 方便 ， 代码 小巧 ， 又 可靠 安全 且 高效 ， 已 成为 目前 Internet 编程 的 强有力 工具 。 　 　 Java 的 开发工具 我们 采用 的 是 Sun 公司 的 JDK 版 ， Microsoft 公司 的 VisualJ 和 SymantecCafe 版本 。 此外 还 采用 了 很多 工具 ， 如 IBM 的 VisualAgeforJava ， Borland 的 JBuilder 等等 。 Applet 与 Servlet 　 　 本 委托 交易系统 的 程序实现 ， 主要 由 两 部分 构成 ： 一部分 是 用 JavaApplet 技术开发 的 应用程序 ， 委托 交易 部分 是 用 其来 实现 的 ； 另 一部分 是 由 JavaServlet 来 完成 的 ， 主要 包括 数据库 查询 程序 。 两种 手段 虽然 都 是 由 Java 语言 来 编写 ， 但 在 具体 实现 上 又 有 许多 不同 。 　 　 Applet 技术 目前 应用 较 广泛 的 是 与 HTML 文档 相结合 ， 编写 动态 网页 及 用户 友好 的 界面 ， 以及 存取 数据库 中 的 数据 。 它 的 编写 较为 自由 ， 适合 于 实现 较为 复杂 的 功能 。 Applet 编译 后 生成 的 Class 文件 直接 嵌入 到 HTML 文件 中 ， 在 浏览器 中 运行 。 　 　 JavaServlet 主要 应用 在 系统 的 信息 查询 和 客户 注册 上 。 为什么 不 都 用 Applet 来 开发 呢 ？ 这 主要 考虑 到 Servlet 运行 于 服务器端 ， 不需 用户端 环境 支持 ， 运行 效率高 ， 响应 快 。 另外 由于 浏览器 中 Applet 的 安全 机制 使得 用 Applet 实现 打印 功能 较为 困难 ， 而 Servlet 实现 打印 则 十分 容易 。 　 　 Servlet 的 编写 需要 JSDK ， 本 系统 采用 了 Sun 公司 的 JSDK 版 。 　 　 Servlet 也 有 自己 的 缺点 ， 它 运行 于 服务器端 ， 其 前端 界面 大多 用 HTML 的 Form 形式 来 实现 与 用户 的 对话 。 而 HTML 界面 编写 起来 不够 灵活 ， 实现 的 功能 也 相对 简单 ， 比较 适合 用 在 单纯 的 “ 问答式 ” 提交 的 界面 上 ， 对于 较 复杂 的 GUI 功能 往往 难以实现 ， 因此 只用 它 来 实现 一些 特定 的 功能 。 　 　 JavaApplet 和 Servlet 程序 在 执行 时 ， 要 与 服务器 上 的 数据库 进行 连接 ， 本 系统 采用 JDBC 接口 来 完成 。 JDBC 是 连接 Java 程序 和 数据库 的 桥梁 。 Applet 在 连接 时 ， 通过 JDBCTypeDriver 驱动程序 进行 ； Servlet 因在 服务器端 ， 使用 的 是 JDBCType 驱动程序 。 Web 技术 　 　 国泰 委托 交易系统 属于 三层 结构 的 Web 计算 模型 ， 它 不同于 传统 的 CS 计算 结构 。 传统 CS 结构 下 ， 应用 系统 被 分为 前端 客户机 和 后 端 服务器 两 部分 。 它们 通过 消息传递 机制 进行 对话 ， 由 客户端 发出请求 给 服务器 ， 服务器进行 相应 处理 后经 传递 机制 送回 客户端 。 客户端 集中 了 应用 系统 主要 的 GUI 程序 。 而 最新 Web 模型 的 发展 是 三层 结构 ， 是 基于 InternetIntranet 的 模型 。 　 　 三层 结构 的 Web 计算 模型 把 传统 CS 模型 的 服务器端 进一步 深化 ， 分解成 一个 应用服务器 Web 服务器 和 一个 或 多个 数据库 服务器 ， 从而 成为 三层 或 多层 模型 。 它 简化 CS 中 的 客户端 ， 只 需装 上 操作系统 、 网络协议 软件 及 浏览器 即可 也 称为 瘦 客户机 ， 而 服务器端 则 集中 了 所有 的 应用软件 的 服务 、 开发 、 维护 等 工作 。 随着 Web 技术 ， 分布式 对象 计算技术 等 的 发展 ， CS 发展 的 趋势 是 多级 Server 模式 ， Server 通过 网络连接 在 一起 ， 完成 大量 应用 计算 。 Java 提供 了 标准化 的 ， 跨 CS 的 计算 平台 。 　 　 采用 Web 模式 ， 所有 的 应用程序 存放 在 服务器 上 ， 而 客户机 运行 的 则 是 嵌 在 Web 页 中用 Java 写 的 Applet 应用程序 。 现在 Internet 上 的 WWW 应用 不仅 将 各种 对象 文本 、 图象 、 视频 、 声音 以 多媒体 形式 供 用户 浏览 ， 并 能 和 其它 网络服务 紧密结合 在 一起 。 随着 Java 、 JavaScript 、 ActiveX 等 新 技术 的 出现 ， 具有 了 更 强 的 交互性 。 其它 技术 与 问题 　 　 在 本 委托 交易系统 的 具体 开发 实施 中 ， 为了 使 系统 能够 有 良好 的 开发 和 运行 环境 以及 满足用户 需求 ， 还 采用 了 如下 技术 。 　 　 系统 的 数据库 采用 的 是 IBM 的 DB 版本 ， 这是 一个 比较 成熟 的 具有 面向对象 特征 的 大型 关系 型 数据库 ， 对 多媒体 数据 以及 面向对象 特征 的 支持 较强 。 开发 前台 采用 Win 系统 ， 后台 服务器 用 的 是 OSWarpServer 操作系统 ， 此 系统 在 效率 和 稳定性 上 都 有 其 独特 优势 。 所有 的 Java 程序 与 网页 都 放在 服务器 上 ， 服务器端 运行 的 Web 服务 软件 是 LotusGoWebServer 。 　 　 此 系统对 安全性 和 速度 的 要求 较 高 。 因为 网上 证券交易 牵扯 到 大量 的 资金 转移 ， 因此 是否 安全 成为 评价 系统 优劣 的 关键性 问题 。 为了 使 客户 和 证券公司 能 放心 地 使用 ， 采取 了 必要 的 措施 对系统 的 安全性 加以 保证 。 如 登录 时需 帐号 和 密码 ； 采用 代理 Proxy 服务器 与 防火墙 Firewall 软件 ； 浏览器 与 Web 服务器之间 采用 SSL 加密协议 传输数据 ； 服务器 取消 Telnet 程序 等 。 系统 利用 GoWebServer 中 的 安全 传输 SSL 功能 ， 在 服务器 上 建立 CA ， 并 将 有关 页面 采用 HTTPS 安全 协议 传输 。 至于 速度 问题 ， 用户 关心 的 主要 是 行情 显示 速度 ， 可 采用 数据压缩 传输 、 比较 传输 等 手段 来 解决 。 　 　 在 系统 开发 中 ， 不可避免 地 也 出现 了 一些 问题 。 如 开始 没有 考虑 到 浏览器 对 Java 编译 环境 JDK 版本 的 支持 程度 ， 浏览器 对 Applet 中 的 汉字 支持 存在 缺陷 等 ， 实际 工作 中 对 这些 问题 花费 了 很多 精力 才 加以解决 。 结论 　 　 国泰公司 网上 委托 交易系统 的 设计 和 实现 采用 了 当今 计算机领域 先进 的 技术 ， 能 有效 地 完成 所 需 的 各项 功能 任务 。 目前 ， 使用 Java 技术开发 基于 Internet 的 客户 系统 ， 在 理论 和 实践 上 都 是 可行 的 。 除了 系统 所用 的 Java 技术 和 Web 技术 之外 ， 采用 其它 技术 来 构建 此类 系统 还 存在 一定 困难 。 　 　 系统 首先 具有 可行性 。 通过 科学 认真 地 开发 和 实施 ， 证明 该 系统 从 分析 设计 到 具体 应用 ， 都 能 较 好 地 实现 用户 设想 。 系统 采用 先进 的 开发技术 ， 利用 世界 上 最 丰富 的 信息 资源网 ， 提供 意识 超前 的 服务 ， 使 证券交易 不仅仅 局限 在 证交所 里 进行 ， 扩大 了 业务范围 ， 达到 了 实用性 和 先进性 的 统一 。 　 　 系统 具有 高效率 。 信息 传输 快捷 方便 ， 用户 足不出户 就 可 进行 证券交易 ， 节省 了 人力物力 ， 资源 得到 有效 利用 ， 大大提高 了 服务 效率 。 　 　 系统 的 安全性 也 得到 较 充分 保障 。 用户 可以 放心 地 使用 而 不必 担心 自己 的 资料 得以 泄漏 或 被盗 用 。 　 　 此类 系统 的 开发 以前 没有 多少 先例 ， 可 供 借鉴 的 经验 很少 ， 所用 的 技术 又 较 新 ， 需要 花 大量 的 时间 来 掌握 。 虽然 有着 这些 不利因素 ， 但 我们 有 理由 相信 ， 这一 基于 Internet 技术 的 证券 委托 交易系统 一定 能够 顺利 地 得以 应用 ， 收到 应有 的 效益 ， 并且 希望 能够 带动 相关 行业 的 进一步 快速 发展 ！ 张建军 （ 同济大学 经济 管理 学院 上海 ） 杨 德华 （ 同济大学 经济 管理 学院 上海 ） 罗涛 （ 同济大学 经济 管理 学院 上海 ） 参考文献 ， 刘敬军 张 申生 综合 面向对象 和 面向 过程 的 对象 过程 方法 计算机 工程 卷期 ～ ， 田志刚 基于 回调 技术 的 客户机 服务器 JAVA 编程 微 计算机 应用 卷期 ～ ， 邵晓凌 张然 OMT 设计 的 Java 实现 计算机科学 ， 王 鲁滨孙 宝文 Intranet 和 Extranet 的 兴起 与 企业 信息系统 的 变革 管理信息系统 ， 周卫华 朱珠 ClientServer 下 信息系统 的 对象 体系结构 计算机 工程 卷期 ～ 收稿 日期 ： 年月日