自动化 学报 ACTAAUTOMATICASINICA 年 第卷 第期 VolNo 一种 控制 机械手 的 自 调节 模糊 逻辑 控制器 谭群华 　 李伟 　 王永强 　 孙增圻 摘 　 要 　 介绍 了 一种 机械手 的 模糊 逻辑 控制 的 新 方法 它 能 根据 系统 的 前期 响应 自动 修改 误差 变化率 的 隶属 函数 来 获得理想 的 控制 特性 在 研究 隶属 函数 对 控制 特性 影响 的 基础 上 ， 首先 确定 一 族 参数 化 的 隶属 函数 然后 ， 用 NelderMead 单纯形 算法 优化 模糊 逻辑 控制器 最后 ， 用该 模糊 控制器 控制 一个 具有 非线性 动力学 特征 的 两 自由度 机械手 ， 验证 了 所 提 方案 的 有效性 和 鲁棒性 关键词 　 模糊控制 ， 机器人学 ， 优化 技术 ， 非线性 控制 ASELFTUNINGFUZZYCONTROLLERFORMANIPULATORSTANQUNHUALIWEIWANGYONGQIANGSUNZENGQIDeptofComputerScienceTechnologyTsinghuaUnivBeijingAbstract 　 ThispaperpresentsanewapproachtoautomatictuningoffuzzylogiccontrollerformanipulatorswhichmodifiestheshapeofmembershipfunctionsautomaticallyaccordingtopreviousresponsestoachieveadesiredcontrolperformanceOnthebasisofdefiningasetofcubicsplinesasmembershipfunctionsregardingchangeinerrorjttheoptimalmembershipfunctionsarefoundbytheNelderandMeadssimplexalgorithmTheproposedcontrolschemeconsistsofatraditionalfuzzylogiccontrollerandaconventionalderivativecontrollerInordertodemonstratetheeffectivenessandtherobustnessofthecontrolschemewereportanumberofsimulationresultsofatwolinkmanipulatorinthepresenceofloadandfrictionchangesKeywords 　 Fuzzylogiccontrolroboticsoptimumtechniquenonlinearcontrol 　 引言 　 　 在 过去 的 二十年 中 ， 模糊 逻辑 控制器 已经 成功 地 应用 于 许多 具有 非线性 动力学 方程 或 具有 未知 结构 的 系统 ， 因为 这种 控制器 能 利用 模糊 集合 与 模糊 规则 将 人 的 经验 和 知识 集成 到 控制器 中 然而 ， 模糊 逻辑 控制器 具有 难以 优化 的 缺陷 　 　 优化 模糊 逻辑 控制器 的 方法 之一 ， 是 根据 系统 的 前期 响应 用 自 组织 算法 自动 修改 规则 ， 以 达到 理想 的 控制 效果 ［ ］ 事实上 修改 规则 库是 基于 一个 定义 的 性能指标 来 优化 一个多 参数 的 决策表 因此 ， 要 在 较 短 采样 时间 内 完成 规则 库 的 优化 是 一项 艰苦 的 工作 　 　 在 图 所示 的 控制结构 基础 上 提出 了 一种 能 自动 调节 模糊 控制器 的 新 方法 来 控制 机械手 其 主要 思想 是 自动 修改 隶属 函数 的 形状 而 不是 规则 库 为此 ， 首先 定义 一 族 误差 变化率 t 的 隶属 函数 ， 然后 根据 系统 的 前期 响应 ， 利用 NelderMead 单纯形 算法 进行 优化 该 方法 比 传统 的 自 组织 方法 较为 有效 ， 因为 它 把 优化 决策表 转变 为 寻找 决定 某些 特定 隶属 函数 形状 的 参数 矢量 此外 ， 利用 两个 或 三个 参数 来 调节 模糊 控制器 也 容易 被 控制 工程师 完成 图 　 模糊 控制器 的 结构 框图 　 模糊 逻辑 控制 方案 　 　 在 文 ［ ］ 中 提出 的 控制结构 是 由 一个 传统 的 模糊 控制器 和 一个 微分 控制器 组成 图 模糊 控制器 的 输入 信号 是 机械手 角 关节 j 的 理想 值 和 实际 值 的 误差 ejt θ refj θ jt ， 以及 它 的 变化率 jt ； 输出 信号 ujt 由 MinMax 推理 算法 和 模糊 规则 库来 决定 ， 如表 所示 模糊 控制器 的 模糊化 是 依靠 隶属 函数 将 真实 物理量 转变成 模糊 量 ； 清晰化 是 由 质心 法来 完成 利用 这个 控制 方案 ， 提供 给 机械手 角 关节 的 控制 力矩 τ jt 是 表 　 模糊控制 规则 库 eNBNSZOPSPBNBPBPBPBPSZONSPBPBPSNONSZOPBPSZONSNBPSPSZONSNBNBPBZONSNBNBNB 最终 的 控制 量 τ jt 由 三 部分 组成 ： 　 模糊 控制器 的 输出 信号 ujt 的 比例 放大 ， 它 的 主要 作用 是 当 误差 ejt 很大 时 用来 加速 系统 的 响应 ； 模糊 控制器 的 输出 信号 ujt 的 积分 操作 ， 主要 用于 当 θ jt 接近 θ refj 时 ， 减少 响应 的 静态 误差 ； 速度 反馈 信号 jt 的 微分 操作 ， 它 有利于 系统 的 稳定 控制器 参数 KpjKIj 和 KDj 可 由 ZieglerNichols 方法 来定 　 隶属 函数 的 选取 　 　 一般说来 ， 在 模糊控制 中 常常 使用 三角形 或 指数 形 的 隶属 函数 改变 这些 隶属 函数 的 形状 将 影响 控制 性能 为了 获得 好 的 控制 特性 ， 在 文 ［ ］ 中 我们 对 误差 变化率 jt 的 隶属 函数 进行 了 修改 ， 因为 这 类 隶属 函数 代表 了 速度 反馈 修改 的 方法 是 ： 在 原始 定义 的 误差 变化率 jt 的 三角形 隶属 函数 基础 上 增加 插值 点 ， 从而 减少 被 修改 的 隶属 函数 的 个数 文 ［ ］ 中 的 研究 表明 相应 于 理想 控制 特性 的 隶属 函数 既 不 属于 三角形 函数 也 不 属于 指数函数 ， 所以 在 本文 中 jt 的 隶属 函数 被 定义 为 三次 样条 插值 函数 ， 如图 b 所示 这些 隶属 函数 的 形状 可以 通过 移动 它们 的 “ 动点 ” 来 改变 而 这些 “ 动点 ” 沿着 图中 给定 的 虚线 移动 ， 是 用 改变 它们 的 参数 来 实现 的 参数 kbks 和 kz 被 记为 矢量 kkzkskb ， 并且 分别 用来 调节 隶属 函数 μ NB μ PB μ NS μ PS 以及 μ ZO ， 如图 ac 所示 参数 矢量 k 能够 在域 内 ［ ］ × ［ ］ × ［ ］ 变化 相反 ， 相对 于 et 和 ujt 的 隶属 函数 被选为 三角形 函数 并且 在 系统 的 运行 过程 中 不变 ， 它们 分别 如图 a 和 图 c 所示 图 　 语言 变量 的 隶属 函数 图 　 三次 样条 插值 隶属 函数 　 优化 算法 　 　 在 所 提出 的 方法 中 ， 理想 控制 特性 的 隶属 函数 是 根据 系统 的 前期 响应 ， 通过 搜索 参数 矢量 最佳 点 Kkzkskb 获得 的 误差 平方 积分 准则 　 　 　 被 用来 描述 响应 因为 对应 于 误差 变化率 jt 隶属 函数 的 参数 矢量 kkzkskb ， 对系统 的 响应 特性 有着 极大 的 影响 ， Jfkzkskb 或 Jfk 是 参数 矢量 kkzkskb 的 函数 为了 获得理想 的 控制 特性 ， 我们 必需 通过 搜索 相应 的 矢量 kkzkskb 来 计算 最小值 fk 因为 许多 系统 难以获得 其 精确 的 动力学 方程 ， 所以 很难 得到 Jfk 的 解析 式 因为 NelderMead 单纯形 算法 适用 于 求解 那些 缺乏 解析 模型 的 优化 问题 ， 所以 它 被 用来 优化 隶属 函数 根据 我们 的 经验 ， 隶属 函数 μ ZO 对系统 的 控制 特性 影响 较弱 ， 所以 参数 kz 在 系统 运行 过程 假设 为 常数 利用 NelderMead 单纯形 算法 计算 最小值 fk 简述 如下 ［ ］ ： 　 　 从 三个 点 开始 kckskbkckskbkckskb 并且 计算 JfkJfk 和 Jfk 　 　 找出 最大值 Jh 中间 值 Jg 和 最小值 J 以及 相应 的 点 khkg 和 k 　 　 找出 kg 和 k 的 中点 ： kfkgk 并且 计算 Jffkf 　 　 在 kf 的 方向 反射 kh 计算 k Ｊ 和 Jrfkr 　 　 如果 JrJg 用 kc β kh β kf 计算 kc 和 Jcfkc ， 进行 压缩 ， 这里 β ＜ β ＜ 是 压缩系数 如果 Jr ＜ Jg ， 从 kc β kr β kf 计算 kc 和 Jcfkc 　 　 如果 Jc ＜ Jh 用 kc 代替 kh ， 检查 收敛性 ， 如果 不 收敛 返回 到 第二步 如果 JcJh ， 走向 下 一步 　 　 khkhkhk 和 kgkgkgk 减小 单纯形 的 尺寸 ， 并且 计算 Jh 和 Jg ， 检查 收敛性 如果 不 收敛 返回 到 第二步 　 机械手 的 控制 　 　 为了 验证 所提 方法 的 有效性 和 鲁棒性 ， 我们 用 它 来 控制 一个 具有 非线性 动力学 特征 的 两 自由度 机械手 ， 该 机械手 的 动力学 方程 和 参数 可 在 文 ［ ］ 中 得到 控制器 参数 的 调节 过程 如下 ： 首先 ， 用 ZieglerNichols 技术 来 确定 控制器 的 参数 KPj ， KIj 和 KDj ， 使 机械手 获得 一个 可 接受 的 控制 响应 ； 然后 在 此基础 上 ， 利用 NelderMead 优化 算法 调节 模糊 控制器 ， 使 机械手 获得 一个 理想 的 控制 响应 　 　 图 ab 表明 机械手 在 有 负载 和 摩擦力 下 ， 模糊 控制器 和 PID 控制器 的 响应 情况 它们 的 参数 是 在 无 负载 和 摩擦力 的 情况 下 调节 出来 的 最佳 控制参数 显然 ， 在 有 负载 和 摩擦力 时 由 PID 控制 所 得到 的 响应 特性 变坏 原因 是 在 无 负载 和 摩擦力 时所 确定 的 PID 控制参数 不 适合 控制 有 负载 和 摩擦力 的 不确定性 变化 的 系统 然而 ， 利用 所 提出 的 模糊 控制器 ， 在 有 负载 和 摩擦力 时 机械手 的 控制 特性 仍然 很 好 图 b 　 　 　 a 关节 PID 控制 　 　 　 　 　 　 　 b 关节 模糊控制 图 　 PID 控制 结果 与 模糊控制 结果 　 　 本文 方法 适用 于 具有 非线性 动力学 方程 及其 解析 模型 不 精确 的 系统 资金 项目 ： “ 国家自然科学基金 ” 和 “ 国家教委 优秀教师 基金 ” 资助 项目 作者 单位 ： 清华大学 计算机科学 与 技术 系 　 北京 　 参考文献 　 　 ProcykTJMamdaniEHAlinguisticselforganizingprocesscontrollerAutomatica ∶ 　 　 ScharfEMMandicNJTheapplicationofafuzzycontrollertothecontrolofamultidegreefreedomrobotarmIndustrialApplicationofFuzzyControl 　 　 WakilehBAMGillKFRobotcontrolusingselforganizingfuzzylogicComputersinIndustry ∶ 　 LiWAnewselforganizingfuzzycontrollerTherdInternationalWorkshoponAdvancedMotiionControlattheUniversityofCaliforniaatBerkeley 　 　 LiWSunZQJanoschaHAnapproachtoautomatictuningofafuzzylogiccontrollerformanipulatorsProcofIEEERSJInternationalConferenceOnIntelligentRobotsandSystems 　 　 LiWOptimazitionofafuzzylogiccontrollerusingneuralnetworkIEEEWorldCongressOnComputationalIntelligenceProcofFUZZIEEE ， ∶ 　 　 LiWetalFuzzycontrolofroboticmanipulatorsinthepresenceofjointfrictionandloadschangesTheASMEInternationalComputersinEngineeringConferenceSanDiegoUSA 　 　 LiWWuZWAselforganizingfuzzycontrollerusingneuralnetworksTheASMEInternationalComputersinEngineeringConference ∶ 收稿 日期 　