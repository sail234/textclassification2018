计算机 工程 COMPUTERENGINEERING 年 第卷 第期 VolNo 数字 交叉 连接 设备 的 网络 管理系统 向海 明熊 齐邦 摘要 简述 了 数字 交叉 设备 （ DXC ） 的 基本概念 ， 详细描述 了 用于 管理 一个 DXC 的 住处 模型 ， 介绍 了 DXC 的 网络管理 等级 ， 并且 提出 了 一个 根据 住处 模型 而 建立 的 DXC 的 网络 管理系统 。 关键词 数字 交叉 连接 设备 网络管理 监控器 NetworkManagementSystemofDXCXiangHaimingXiongQibang （ ComputerDepartmentofShanghaiTiedaoUniversityShanghai ） AbstractThearticlebriflystatesthebasalconceptofDXC ， andparicularlydescribedinformationmodelformanagingaDXC ， andintroducesthenetworkmanagementgradesofDXC ， andadvancesnetworkmanagementsystemwhichisbuiltaccordingtotheinformationmodelKeywordsDXC ； Networkmanagement ； MonitorDXC 简介 　 　 随着 电信网 的 发展 ， 传输 系统 的 种类 越来越 多 ， 容量 越来越 大 ， 网络 也 越来越 复杂 。 按照 传统 ， 将 不同 种类 和 容量 的 传输 系统 在 人工 数字 配线架 上 互连 的 方式 不仅 效率 低 、 可靠性 差 ， 而且 无法 适应 传输网 网络 配置 和 管理 的 动态变化 的 要求 ， 因而 出现 了 相当于 自动 数字 配线架 的 DXC 设备 当然 其 功能 已远 不 限于 此 。 这是 一种 具有 个 或 多个 准 同步 数字 体系 G 信号 端口 ， 并 至少 可以 对 任何 端口 信号 速率 和 或 其子 速率 信号 与 其它 端口 信号 速率 和 或 其子 速率 信号 间 进行 可控 连接 和 再 连接 的 设备 。 　 　 一个 传统 的 DXC 可以 用 图来 表示 ， 其 接入 端口 即 输入输出 端口 与 传输 系统 相连 。 DXC 的 核心 部分 是 交叉 连接功能 ， 参与 交叉 连接 的 速率 一般 等于 或 低于 接入 速率 。 交叉 连接 速率 与 接入 速率 之间 的 转换 需要 由 复用 和解 复用 功能 来 完成 。 首先 ， 每个 输入 信号 被解 复用 成 m 个 并行 的 交叉 连接 信号 。 然后 ， 内部 的 交叉 连接 网 采用 时隙 交换 技术 TSI ， 按照 预先 存放 的 交叉 连接 图 或 动态 计算 的 交叉 连接 图对 这些 交叉 连接 通道 进行 重新安排 ， 最后 再 利用 复用 功能 将 这些 重新安排 后 的 信号 复用 成 高速 信号 输出 。 整个 交叉 连接 过程 由 连 至 DXC 的 本地 操作系统 或 连 至 电信 管理 网 TMN 的 支持 设备 进行 控制 和 维护 。 图 DXC 的 简化 结构 DXC 建模 　 　 下面 将 详细描述 用于 管理 一个 DXC 的 信息 模型 。 它 是 根据 一些 标准 提供 的 结构 进行 分类 的 。 这些 标准 依赖于 信息 　 　 模型 类组 的 概念 ， 类组 就是 把 一套 完备 的 对象 类 ， 相关 的 包 、 属性 、 动作 、 标识 、 参数 、 名字 绑定 和 抽象 语法 概念 组合 起来 去 描述 一个 给定 的 功能区 。 本文 所 论述 的 类 组有 ： 设备 类组 、 交叉 连接 类组 、 性能 类组 、 供给 对象 类组 。 设备 类组 　 　 这 种类 组是 由 包含 和 模块化 与 DXC 和 设备 管理 相关 的 功能 的 对象 类 组成 。 在 这个 范畴 中 ， 设备 由 机架 、 网卡 和 所有 那些 物理 单元 表示 ， 它们 构成 了 DXC ， 并且 可 由 远端 OS 进行 配置 、 监控 等等 。 这个 类组 包含 以下 对象 类 ： 　 　 DXCequipment 这个 对象 类比 其它 对象 类 更加 重要 ， 而且 与 DXC 更 有 关系 。 它 是 由 ETSI 定义 的 ， 在 对象 类 equipment 基础 上 表示 和 管理 DXC 设备 的 特殊 功能 。 这个 对象 类 的 实例 和 包括 可 替换 单元 的 通信 物理 源 相关 。 但是 ， 它们 能 在 其 代表 的 物理 源 没有 被 安装 时 创建 。 这个 功能 对于 配置管理 的 目的 和 许可 是 很 有用 的 ， 例如 ， 管理系统 建立 断线 的 特殊 DXC 配置 ， 把 它 存储 在 文件 中 ， 下载 这个 文件 到 DXC 中 、 当 各自 的 单元 被 接通 时 将 它们 投入 服务 。 为了 这个 目的 ， equipmentExpected 属性 包含 一个 与 在 由 设备 对象 实例 表示 的 特殊 槽 位 中 可能 被 接通 的 所有 那些 单元 卡 通信 的 值 。 下面 提到 了 个 属性 ： 　 　 affectedByObjectList 这个 属性 指向 所有 那些 源 ， 包括 物理 的 和 逻辑 的 ， 像 中断点 就 可能 被 支持 它们 的 对象 实例 的 状态 改变 所 影响 。 equipmentExpected 这个 属性 包含 适合 于 由 对象 类 所 代表 的 特殊 槽 位 的 设备 像 网卡 的 值 。 equipmentActual 这个 属性 代表 了 确实 插 在 由 对象 类 所 代表 的 槽 位 中 的 网卡 。 但 不 适合 那个 槽 位 的 网卡 插 在 那个 槽 位时 也就是说 ， 当 equipmentActual 的 值 不 匹配 equipmentExpected 的 值时 ， 将 发出 告警 并 通知 管理者 。 　 　 DXCEquipment 对象 类 的 行为 在 这里 没有 详述 ， 留给 使用者 空间 去 判断 可能 危害 管理 接口 的 互操作性 的 事件 。 这些 例子 描述 如下 ： 　 　 哪 一个 系统 正在 控制 创建 DXCEquipment 实例 是 NE 还是 OS ？ 　 　 什么 时候 DXCEquipment 实例 被 创建 ？ 　 　 当 一个 实例 被 创建 时 ， 哪个 值 分配 给 状态 属性 ？ 　 　 包含 所有 下列 属性 的 状态 转换 表 的 定义 ： operationalState 、 availabilityStatus 、 equipmentExpected 和 equipmentActual 。 　 　 表示 DXCEquipment 对象 类 的 其它 属性 用于 表示 设备 的 位置 例如 在 NE 中 、 操作者 给出 的 详细 值 、 版本号 等等 。 交叉 连接 类组 　 　 这个 类组 是 由 ITU 模块化 的 ， 它 允许 管理者 在 各种 设备 中 监控 交叉 连接功能 特性 。 由于 它 没有 描述 特殊 DXC 功能 ， 下面 仅 提供 由 ITU 定义 的 交叉 连接 类组 的 概况 。 这个 类组 是 由 以下 对象 类 组成 的 ： 　 　 Fabric 这个 对象 类 代表 两个 功能 ： 分配 TTPsTrailTerminationPoint 跟踪 中断点 到 TTPs 组 GTPs 的 能力 和 在 中断点 间 建立 交叉 连接 的 能力 。 　 　 CrossConnection 这个 对象 类 代表 了 在 连接 两个 像 中断点 一样 的 两个 实体 之间 的 分配关系 。 　 　 GroupofTerminationPointsGTPs 于 特殊 管理 目的 ， 这个 对象 代表 了 单个 单元 的 中断点 组 。 　 　 PoolofterminationpointsTpPool － 这个 对象 代表 TTPs 或 GTPs 的 协会 。 性能 类组 　 　 电信 网络 的 重要 管理 功能 之一 是 性能 监控 ， 也就是说 ， 在 网络 或 DXC 中 在 给定 集合 的 监控点 上 管理 性能 事件 。 一旦 性能 数据 被 收集 ， 它们 就 会 以 QoS 的 告警 形式 报告 给 相关 的 管理系统 。 　 　 为了 DXC 性能 监控 目的 ， 必须 注意 几个 监控点 ： 　 　 ① 更新 部分 中断点 ， ② 电 的 和 光 的 物理 接口 中断点 ， ③ 复用 部分 中断点 ， ④ 保护 交换 ， ⑤ 路径 中断 ， ⑥ 复用 部分 适配器 。 　 　 对于 每 一种 监控点 ， 两个 对象 类 需要 定义 。 它们 起源于 管理 对象 currentDataITU 的 Q 建议 。 　 　 DXCCurrentData － 出于 DXC 性能 管理 目的 ， 这个 对象 类 被 定义 包含 一般 特性 ， 而且 每个 被 监控点 需要 定义 子类 。 被 管理 的 性能 监控 事件 的 实例 是 差错 秒 ESs ， 严重 差错 秒 SESs 等等 。 granularityPeriod 属性 用于 表示 性能 数据 采集 频率 例如 ， 每分钟 或 小时 。 如果 在 一个 粒度 时期 的 结束 时 ， 通过 一个 给定 的 门限 ， 这个 对象 类 就 会 发出 一个 通知 而且 门限 通过 告警 就 会 暗中 被 清除 。 当 这个 对象 类 的 实例 代表 一天 的 数据 采集 时期 时 ， 它们 也 会 报告 难以获得 时期 的 开始 和 结束 。 其他 子类 例如 更新 部分 当前 数据 门限 复位 rsCurrentDataTR 仅 有 一个 粒度 时期 而且 在 一个 粒度 时期 的 结束 时 执行 外 在 的 门限 告警 清除 。 　 　 对于 每 一个 被 监控点 ， 一个 更深 的 对象 类 被 定义 ， 它 起源于 ITU 的 Q 建议 ， 叫 historyData 。 它 在 每 一个 粒度 时期 结束 时 存储 被 观察 的 性能 事件 。 因此 历史 信息 能 被 采集 ， 既 作为 historyData 实例 的 部分 ， 又 作为 包含 在 一个 日志 中 的 eventRecord 子类 。 供给 对象 类组 　 　 这个 类组 由 ETSI 定义 。 它 包含 两个 对象 类 ， 即 ： ① 电源 供给 这个 对象 类 描述 DXC 提供 电源 给 它 内部 元素 的 功能 。 powerSource 属性 描述 当前 被 NE 所用 的 电源 供给 器 例如 ， 电池 ， 然而 poweredEquipmentPtrList 指向 所有 那些 靠 资源 供给 电源 、 靠 对象 类 描述 的 NE 资源 。 ② 时间 同步器 这个 对象 类 模拟 同步 发生 资源 的 选择 和 NE 中 的 分配 。 这个 对象 被 设计 成 管理者 能 选择 内部 振荡器 和 外部 资源 之间 的 时间 资源 即 从属 的 或 外部 的 振荡器 。 网络管理 典型 网络管理 等级 　 　 如图所示 ， 一个 典型 的 DXC 网络管理 等级 有层 ， 从上到下 依次 为 网络 管理层 又称 网络 控制 层 ， 简称 NCL ， 单元 管理层 EM 和 网络单元 层 NE 。 图 网络管理 等级 　 　 网络 管理层 DXC 的 网络 管理层 负责 对 所 辖 网络 进行 集中式 或 分布式 控制 管理 ， 例如 电源 供给 、 网络 监视 和 网络分析 统计 等 功能 可以 实现 集中控制 ， 而 维护 、 告警 处理 和 保护 等 功能 则 可以 分配 给 地区性 管理中心 来 控制 。 通常 ， 网络 管理层 具备 DXC 所 要求 的 主要 应用 管理 功能 ， 即 具有 中央 管理 、 监视 、 控制 和 恢复 包含 ET 传输 线路 和 DS 线路 的 数字 网络 的 功能 。 　 　 单元 管理层 考虑 到 对 不同 网络单元 有 不同 的 管理 需要 ， 希望 管理 功能 能 从 个别 类型 的 网络单元 中 独立 出来 从而 形成 单元 管理层 。 DXC 的 单元 管理层 直接 控制 设备 ， 其 管理控制 功能 由 网络 管理层 分配 ， 诸如 状态 显示 、 告警 过滤 和 时隙 交接 等 。 主要 目标 是 减少 直接 流 进 网络 管理系统 的 信息流 ， 防止 过载 ， 同时 尽量 加快 网络 响应速度 。 　 　 网络单元 网络单元 本身 一般 也 具有 一些 管理 功能 。 特别 是 在 分布式 管理系统 中 ， 网络 管理系统 可能 把 很多 管理 功能 经 软件 下载 给 DXC ， 使 DXC 具有 很强 的 管理 功能 。 此时 ， 网络 对 各种 发生 事件 的 反应 十分迅速 ， 特别 是 用于 保护 目的 的 路由 恢复 可以 实时 完成 ， 使 时隙 交接 不 受 影响 。 DXC 的 网络 管理系统 网络管理 平台 的 选择 　 　 原来 的 DXC 的 网络 管理系统 大多 基于 工作站 ， 造价 比较 高 ， 使用 的 UNIX 操作系统 很 不易 学 ， 而且 是 全英文 界面 ， 不易 读懂 ， 操作 起来 很 复杂 ， 让 人 感觉 很 不 友好 ， 最大 的 缺点 是 软件 所用 的 数据库 和 DXC 自身 的 数据库 不 统一 ， 不 开放 ， 不能 修改 。 　 　 基于 上述 缺点 ， 本 软件 采用 的 是 普通 的 PC机 ， 造价 便宜 ， 所用 Windows 和 WindowsNT ， 界面 友好 ， 硬件 配置 不 需要 太高 ， 而且 采用 全中文 图形化 界面 ， 容易 读懂 ， 容易 操作 ， 所用 的 数据库 全面 开放 ， 可以 修改 到 和 DXC 内部 数据库 相 统一 。 开发 环境 　 　 本 软件 是 在 通用 的 Pentium 计算机 上 开发 及 运行 的 ， 客户端 软件 是 用 PowerBuilder 开发工具 开发 的 ， 它 采用 标准 数据库 接口 SQL 语言 ， 使用 ODBC 通过 网络 使用 TCPIP 协议 对 MicrosoftSQL 数据库 进行 读写操作 。 服务器软件 是 用 VisualC 开发工具 开发 的 ， 它 通过 X 网卡 同 网络 上 的 数字 交叉 连接 设备 DXC 进行 连接 ， 可以 发送 命令 给 远端 设备 ， 也 可以 从 远端 设备 处 接收 返回 的 信息 。 并且 也 可以 对 MicrosoftSQL 数据库 进行 读写操作 。 在 特殊 情况 下 能够 单独 通过 拨号 方式 同 设备 连接 进行 临时 管理 。 　 　 用户 可以 通过 客户端 软件 经过 网络 将 指令 写入 服务器 上 的 数据库 ， 服务器 上 的 服务器软件 检测 到 数据库 被 修改 ， 读出 该 指令 ， 通过 X 网卡 将 指令 发给 远 端的 DXC ， 远端 DXC 接收 到 指令 ， 返回 信息 给 X 网卡 ， 服务器软件 从 X 网卡 的 缓冲区 中 收到 指令 的 应答 ， 将 它 写入 数据库 ， 用户 就 可以 通过 客户端 软件 从 服务器 上 的 数据库 中读 到 该 指令 的 应答 信息 。 　 　 由于 VisualC 本身 就是 一个 面向对象 的 语言 ， 所以 本 软件 根据 前面 提到 的 信息 模型 ， 创建 了 设备 类组 ， 交叉 连接 类组 、 性能 类组 、 供给 对象 类组 和 功能 区域 类组 ， 并 将 每 一个 类组 中 的 对象 类 加以 完善 。 例如 在 功能 区域 类组 中 就 定义 了 一个 告警 显示 对象 类 ， 这个 对象 类中 的 各个 函数 用来 处理 不同 的 告警 显示 。 而且 在 对 数据库 进行 操作 中 ， 都 是 定义 一个 对象 类来 指向 一个 数据库 ， 这个 对象 类中 的 不同 函数 可以 对 数据库 进行 增 、 删 、 改 、 查 等 多种 操作 。 用户 接口 　 　 本 软件 的 用户 接口 采用 级联 的 菜单 方式 ， 用 鼠标 或 键盘 进行 选择 ， 重叠 窗口 方式 允许 屏幕 上 同时 显示 多种 表格 形式 和 网络图 。 用户 通过 普通 的 PC机 就 可以 接入 和 管理 这些 网络 数据 和 状态 ， 显示屏 上 的 网络图 由 节点 DXC 或 复用器 等 和 节点 间 链路 组成 。 此外 ， 用户 还 可以 利用 该软件 提供 的 虚拟 工作 接口 终端 特性 同时 接入 多个 网络单元 ， 询问 节点 状态 信息 和 直接 发送 DXC 的 命令 。 管理 功能 　 　 本 软件 不仅 具有 终端 所 具有 的 一切 功能 ， 而且 完成 了 对 数字 交叉 连接 设备 的 实时 告警 和 状态 的 图形化 显示 ， 时隙 连接 建立 情况 的 显示 ， 历史记录 的 查询 ， 两兆 的 操作 ， 交叉 连接 的 操作 ， 还 增加 了 安全 管理 、 用户 管理 、 数据库 管理 、 拓扑 管理 和 故障 管理 。 　 　 告警 的 显示 包括 常规 告警 和 详细 告警 。 常规 告警 包括 严重 告警 、 主要 告警 、 次要 告警 和 主控 器 告警 。 详细 告警 包括 同步 告警 、 交接 单元 告警 、 单元 告警 、 模块 告警 和 两兆 告警 。 不同 的 颜色 代表 不同 的 告警 ： 黄色 代表 该 设备 处于 小 告警 状态 ， 红色 代表 该 设备 处于 告警 状态 。 　 　 状态 的 显示 包括 主控 器 状态 、 同步 状态 、 交接 单元 状态 ， 单元 状态 、 模块 状态 和 两兆 状态 。 不同 的 颜色 代表 不同 的 状态 ： 灰色 代表 该 设备 处于 未 配置 状态 ， 白色 代表 该 设备 处于 退出 服务 状态 ， 绿色 代表 该 设备 处于 正常 工作 状态 。 　 　 时隙 连接 建立 情况 的 显示 中 的 时隙 个数 可以 达到 个 单元 的 个 模块 的 个 两兆 的 个 时隙 共个 时隙 。 显示 包括 该 时隙 是否 被 占用 、 与 哪 一个 时隙 连接 、 连接 的 类型 等等 。 　 　 历史记录 的 查询 可以 使 用户 详细 地 知道 哪一天 在 哪 一个 DXC 上 有 哪 一个 用户 曾经 登录 ， 发 过 什么 指令 ， 收到 过 什么 返回 信息 等等 。 　 　 两兆 的 操作 包括 两兆 的 建立 、 投入 、 退出 和 拆除 ， 可以 实现 一个 和 多个 的 两兆 操作 ， 并 可以 指定 两兆 的 类型 ， 显示 当前 两兆 的 状态 ， 添加 可 选 参数 等等 。 而且 能够 达到 操作 智能 ， 如未 建立 则 不能 投入 ， 未 投入 不能 退出 ， 未 退出 不能 拆除 等等 。 　 　 交叉 连接 的 操作 同样 包括 交叉 连接 的 建立 、 投入 、 退出 和 拆除 ， 可以 设置 交叉 类型 双向 、 单向 和 广播 、 带宽 DS ， E 和 N 层 DS 、 分支 路 最 多 可达个 和 多种 可 选 参数 等等 ， 并 同时 具备 操作 智能 。 　 　 安全 管理 涉及 注册 、 口令 和 安全等级 等 。 关键 是 要 防止 未经许可 的 与 DXC 的 通信 ， 并 允许 安全 地 接入 DXC 的 数据库 。 用户 管理 有 两个 等级 ： 普通用户 和 超级 用户 。 超级 用户 可以 增加 用户 、 删除 用户 、 修改 用户 的 口令 和 权限 ， 使得 不同 用户 所 得到 的 界面 和 具有 的 功能 是 不同 的 。 数据库 管理 是 指 超级 用户 可以 修改 各别 数据库 中 的 某些 值 ， 这是 为了 避免 用户 用 菜单 发 指令 与 用 终端 发 指令 和 不同 用户 发 指令 所 造成 的 数据库 的 不 一致 。 而且 还 支持 数据库 以 表格 的 形式 输出 。 　 　 拓扑 管理 是 指 能够 显示 网络 中 多个 DXC 的 拓扑 结构 ， 可以 创建 非 DXC 的 其他 设备 ， 以 保证 拓扑 结构 的 完整性 。 并且 能够 修改 和 删除 网络拓扑 图 的 逻辑 节点 、 线路 、 通道 和 支路 等 。 用户 可以 按 一个 一个 节点 的 手工 方式 或 只 指出 通道 起始 节点 和 终端 节点 的 自动 方式 在 自己 的 网络 中 产生 通道 。 　 　 故障 管理 是 指 能够 处理 和 控制 DXC 中 出现 的 大量 事件 并 进而 帮助 用户 在 严重 网络故障 条件 下 选择 替代 路由 。 并且 能够 完成 自动 设备 告警 及 显示 功能 ， 可抑制 不需 显示 的 告警 ， 实现 人工智能 故障诊断 及 中文 显示 功能 和 路由 保护 功能 。 结束语 　 　 虽然 该软件 目前 仅 适用 于 DXC 及其 类似 的 网元 ， 但是 我们 所用 的 面向对象 的 技术 同样 适用 于 TMN 中 的 其他 网元 ， 所以 在 不久 的 将来 ， 我们 的 网管软件 将 能 管理 TMN 中 所有 的 网元 ， 成为 TMN 的 网络 管理系统 。 作者简介 ： 向海 明男 ， 岁 ， 研究生 ， 主要 研究 计算机网络 作者 单位 ： 上海 铁道 大学 计算机系 上海 参考文献 ITURecommendationMGenericNetworkInformationModelITURecommendationQStage ， StageandStageDescriptionfortheQInterfacePerformanceManagementITURecommendationMDigitalPathSectionandTransmissionSystemFaultDetectionandLocalisationProcedures 收稿 日期 ：