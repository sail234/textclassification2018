航空 动力学 报 JOURNALOFAEROSPACEPOWER 年 第期 No 科技期刊 计算机辅助 三维 复杂 管路 敷设 研究 樊 　 江 　 　 马 　 枚 北京航空航天大学 【 摘要 】 　 本文 以 航空 发动机 中 的 复杂 三维 管路 系统 为例 研究 和 建立 了 计算机辅助 基于 模型 的 管路 设计 系统 。 系统 以 自定义 的 管路 对象 为 基础 ， 通过 常用 的 四种 布管 逻辑 实现 了 在 发动机 单一 形状 机匣 和 不同 形状 机匣 上 的 管路 敷设 。 同时 还 提供 管路 属性 和 形状 的 编辑 以及 对 相应 管接头 的 智能化 响应 、 干涉 检查和 间隙 检查 等 。 此 管路 系统 也 适用 于 汽车 、 石油 、 化工 等 领域 的 管路 布置 。 　 主题词 ： 　 航空 发动机 　 计算机辅助 设计 　 管路 敷设 　 分类号 ： 　 TB 　 V 　 引 　 言 　 　 发动机 管路 敷设 是 一个 十分复杂 、 费时 、 涉及面 广 的 任务 。 目前 国外 一般 在 工作站 上 利用 发动机 管路 的 计算机辅助 敷设 系统 ， 但 这种 系统 比较 昂贵 。 国内 这方面 的 研究 还 刚刚 起步 。 随着 微机 运算 速度 的 大幅度提高 ， 存储容量 的 加大 ， 以及 微机 上 三维 设计 软件平台 的 日益完善 ， 在 微机 上 实现 计算机辅助 管路 敷设 逐渐 成为 可能 。 本文 在 微机 上 ， 利用 三维 机械设计 软件 MechanicalDesktopMDT 为 平台 ， 运用 面向对象 的 技术 初步 建立 了 基于 模型 的 计算机辅助 三维 复杂 管路 系统 的 敷设 。 　 基于 产品 模型 的 系统 　 　 基于 产品 模型 的 系统 与 传统 的 基于 图纸 的 系统 之间 最大 的 区别 在于 基于 图纸 的 计算机系统 只 表达 了 产品 的 几何 拓扑 关系 ， 它们 只是 一些 直线 、 圆弧 的 集合体 ； 基于 模型 的 系统 中 的 产品 除了 包含 几何 拓扑 关系 外 还 包含 了 设计 指标 、 相关 计划 、 成本 信息 、 修改 请求 甚至于 装配 顺序 和 维护 顺序 等 。 因此 模型 更 完整 地 表达 了 产品 ， 甚至 包含 比 实际 的 产品 更 丰富 的 信息 。 在 一般 的 CAD 通用 平台 中 提供 的 基本 图 元 只是 包含 几何 信息 的 直线 、 圆弧 等 。 要 实现 基于 模型 的 系统 ， 就 需要 利用 这些 基本 图 元 作为 载体 ， 加上 产品 的 各种 非 图形 信息 ， 封装 成 用户 视图 中 的 专业 的 设计 模型 。 有 了 这种 专业 的 设计 模型 ， 在 设计 过程 中 就 可以 进行 面向 设计 对象 的 智能化 设计 。 比如 ， 连接 两个 管接头 的 一条 管路 在 管接头 的 位置 发生变化 后 自动 地 根据 一定 的 条件 重新 连接 到 管接头 上 。 专业 设计 模型 中 包含 的 非 图形 信息 能为 整个 设计 过程 如 强度 分析 、 数控 加工 、 完成 生产 文档 等 提供 必要 的 数据 。 　 管路 对象 的 建立 　 　 采用 面向对象 的 技术 在 MDT 平台 上 实现 基于 模型 的 三维 管路 的 敷设 ， 首要 的 一点 是 通过 分析 实际 管路 的 特性 ， 在 计算机 中 建立 管路 的 对象 ， 使 之 拥有 管路 的 种种 属性 ， 并 提供 对 管路 的 操作 。 使用者 则 通过 对 管路 的 操作 来 完成 管路 的 敷设 。 在 使用者 面前 的 只是 与 实际 管路 相同 的 虚拟 管路 。 使用者 不必 了解 管路 内部 的 结构 ， 只 需 采用 自己 熟悉 的 工作 方式 来 工作 。 而且 图形 对象 中 存储 非 图形 信息 ， 可以 提供 给 后续 的 设计 过程 如 管路 重量 计算 、 强度 分析 以及 数控 弯管 等 。 　 　 通用 的 CAD 平台 一般 都 没有 提供 管路 对象 。 我们 需要 在 其 提供 的 基本 图元 的 基础 上 建立 专业 的 管路 对象 ， 并 使 之 既 能象 基本 图 元 一样 使用 平台 所 提供 的 操作 ， 又 能 具有 管路 独有 的 操作 。 发动机 外部 的 管路 除了 几何 形状 ， 还有 管径 、 材料 、 最小 弯曲 半径 、 壁厚 、 引出 端 等 重要 的 属性 。 在 计算机 中 通过 表达 这些 属性 ， 并 将 它们 封装 在 类 中 ， 再 定义 对 管路 的 各种 操作 就 可以 描述 管路 对象 。 　 　 管路 基本 的 也 是 最 重要 的 属性 是 几何 形状 。 发动机 外部 管路 的 中心线 是 空间 的 三维 曲线 ， 因此 采用 NURBS 曲线 能 很 好 地 表达 。 NURBS 用 控制 多边形 定义 曲线 ， 通过 修改 控制 多边形 的 顶点 和 调整 权 因子 可以 方便 地 修改 曲线 。 同时 B 样条 基 函数 具有 计算 稳定 和 快速 的 特点 。 采用 NURBS 表示 管 中心线 后 ， 就 可用 沿 管路 中心线 扫掠 而成 的 圆管 曲面 表示 管路 的 形状 。 在 导管 类中 同时 还 封装 了 如下 的 数据 ： 图 　 三维 参数 化 管路 模型 管 本身 的 属性 ： 　 　 管 外径 m ＿ outr 　 　 壁厚 m ＿ thickness 　 　 材料 m ＿ material 　 　 引出 端 长度 　 　 m ＿ startlinelength ， 　 　 m ＿ endlinelength 连接 的 属性 ： 　 　 两端 连接 物体 的 Handle 　 　 m ＿ startconobj 　 　 m ＿ endconobj ； 显示 的 属性 ： 　 　 显示方式 m ＿ display ； 　 　 管 外 曲面 m ＿ surf ； 　 　 还 定义 了 对 管路 的 操作 ： 编辑 管路 所有 的 物理 属性 ， 管路 的 合并 ， 管路 的 夹点 拖动 ， 删除 、 复制 、 管路 文件 的 输入输出 等 （ 如图 ） 。 　 布管 方式 的 表达 　 　 管路 敷设 系统 最 根本 要 解决 的 问题 是 管路 的 布置 。 管路 对象 提供 了 布管 的 操作 对象 ， 但 在 各 附件 都 存在 的 情况 下 进行 合理 的 自动 布管 还是 相当 困难 的 。 因此 ， 为了 简化 问题 ， 我们 通过 总结 现代 发动机 外部 管路 系统 管路 的 形状 ， 总结 出 在 发动机 管路 敷设 时 通常 采用 的 四种 逻辑 。 　 　 直线 连接 ： 这种 布管 方式 主要 针对 管径 较 粗 的 导管 。 管径 较 粗 的 导管 是 发动机 敷设 管路 中 优先 考虑 敷设 的 管路 ， 这种 导管 两端 接头 的 距离 比较 近 ， 导管 由于 加工 工艺 的 考虑 不能 弯曲 ， 只能 采用 直线 的 方式 连接 。 　 　 最短 路径 ： 这种 布管 方式 是 外部 管路 中 最 基本 的 布管 方式 ， 也 是 应用 于 管径 较 粗 的 导管 。 发动机 外部 管路 规则 要求 发动机 的 管路 应 尽量 地短 ， 这样 能 减轻 重量 ， 减少 流体 损失 。 考虑 到 发动机 机匣 是 圆柱 或 圆锥 ， 最短 路径 应是 贴着 壁面 的 一条 曲线 或 直线 。 图 　 轴向 周向 布管 的 形式 轴向 周向 布管 ： 发动机 上 大多数 的 管路 都 按 这种 方式 进行 布管 。 因为 这种 布管 方式 容易 绕过 障碍物 而且 可以 比较 规则 地 布置 管路 。 对 接头 的 位置 考虑 了 如下 的 几种 情况 （ 如图 ） ： 　 　 ① 两 接头 在 轴向 位置 相同 ： 则 中心线 在 两 接头处 都 先 在 周向 贴着 壁面 弯曲 ， 然后 再 在 轴向 以 直线 相连 。 　 　 ② 两 接头 周向 位置 相同 ： 管路 从 两 接头 在 轴向 直线 连 出 ， 再 在 周向 紧贴 壁面 弯曲 。 　 　 ③ 两 接头 轴向 、 周向 位置 都 不同 ： 若 起始 接头 的 外 法线 方向 为 轴向 ， 则 中心线 先周 向 布管 ， 再 在 轴 向上 与 另 一 接头 相连 。 若 起始 接头 的 外 法线 方向 为 周向 ， 则 中心线 先 轴向 布管 ， 再 在 周 向上 与 另 一 接头 相连 。 　 　 手工 连接 ： 这种 布管 方式 针对 不能 为 以上 三种 方式 所 概括 的 管路 。 手工 连接 的 方式 即 是 由 手工 给出 中心线 的 拟合 点 ， 生成 中心线 曲线 。 这种 方式 随着 鼠标 的 移动 ， 动态 地 给出 当前 曲线 的 形状 ， 以便 于 用户 察看 和 随时 调整 曲线 的 形状 。 　 跨 不同 形状 机匣 的 管路 敷设 　 　 前面 所 讲 的 布管 方式 ， 实际上 是 在 几何 形状 为 单一 的 圆柱面 或 圆锥 面 的 机匣 上 进行 的 。 在 发动机 外部 管路 的 敷设 中 ， 常常 会 遇见 一条 导管 跨越 不同 几何 形状 的 机匣 ， 如 一段 圆柱面 后接 一段 圆锥 面 。 在 这种 情况 下 系统 采用 了 分段 敷设 管路 然后 连接 的 方式 。 即 在 各 单一 的 机匣 端 上 敷设 好 管路 ， 然后 将 各段 管路 连接起来 形成 一条 跨段 的 导管 。 这样 在 单一 的 机匣 上 敷设 管图 　 跨 不同 形状 机匣 的 管路 敷设 路时 ， 导管 连接 的 就 不 只是 管接头 ， 还 可能 是 机匣 的 端面 或 管路 的 端面 。 如果 将 导管 和 机匣 端面 都 看作 管路 的 一种 接头 ， 则 分段 敷设 管路 的 问题 就 转化 成为 导管 起始 端 和 终止 端的 接头 形式 的 问题 。 如图 ， 将 跨段 的 导管 分为 三段 在 单一 机匣 上 的 导管 ： 导管 、 导管 和 导管 。 如 按 导管 ＞ 导管 ＞ 导管 的 顺序 布管 则 在 敷设 导管 时 ， 导管 的 接头 形式 为 管接头 和 机匣 端面 ； 敷设 导管 时 ， 导管 的 两端 接头 为 导管 端面 和 机匣 端面 ， 同时 导管 和 导管 连接成 一条 导管 ； 敷设 导管 时 ， 导管 的 两端 接头 为 导管 端面 和 管接头 ， 三段 导管 最终 连接成 一条 导管 （ 图和图 仍 MDT ． 平台 所绘 ， 也 反映 该 绘图 软件 的 缺陷 ） 。 　 系统 功能 与 结构 　 　 系统 的 结构 如图所示 。 系统 的 基础 是 包含 管路 各 属性 和 行为 的 三维 参数 化 管路 对象 。 图 　 基于 模型 的 三维 管路 敷设 系统结构 此 对象 可以 通过 继承 得到 有 特殊要求 的 管路 ， 如 必须 考虑 热膨胀 的 热端 管路 。 以 四种 布管 逻辑 操作 各种 管路 对象 ， 并 调用 管路 元件库 进行 单段 机匣 的 管路 敷设 。 对 敷设 的 管路 可 进行 干涉 和 间隙 检查 。 完成 单段 机匣 的 管路 敷设 后 ， 合并 带有 端面 和 管路 接头 形式 的 导管 可 完成 跨段 管路 的 敷设 。 由于 完成 敷设 的 管路 是 自定义 的 对象 ， 所以 在 其 内部 包含 了 进行 工程 分析 的 数据 ， 可以 输出 到 CAE 软件 上 进行 强度 、 振动 分析 。 　 　 敷设 完成 的 管路 可 进行 编辑 ， 修改 管路 的 形状 和 各种 属性 。 管路 对象 一旦 连接 到 管接头 就 可以 与 管接头 建立 一定 的 约束 关系 。 当 管接头 位置 发生 改变 ， 与 之 相连 的 管路 对象 将 自动 感知 到 其 位置 的 变化 ， 并 修改 形状 继续 保持 与 管接头 相连接 。 图 　 管路 敷设 实例 通过 在 MDT 平台 上 模拟 敷设 管路 （ 如图 ） ， 验证 了 通过 这种 方式 进行 管路 敷设 是 可行 的 。 经过 进一步 的 完善 ， 这种 敷设 管路 系统 可 达到 工程 实用 ， 并 可 扩展 到 其他 行业 的 管路 敷设 。 　 结 　 论 　 　 本文 运用 了 面向对象 的 设计 方法 在 微机 上 首次 实现 了 发动机 基于 模型 的 三维 管路 计算机 预 敷设 ， 验证 了 基于 微机 的 面向对象 的 三维 管路 敷设 系统 的 可能性 。 　 　 为 以此 为 基础 发展 出 基于 微机 的 完整 的 专业 三维 管路 预 敷设 打下 良好 的 技术 基础 ， 提供 了 广阔 的 拓展 前景 。 此 基于 模型 的 计算机辅助 管路 敷设 系统 也 适用 于 汽车 、 石油 、 化工 等 行业 的 管路 设计 。 参 　 考 　 文 　 献 　 JamesCBHenryAJElectronicEngineMockupShortensDesignTimeAEROSPACEAMERICA 　 适南 ， 李士 才 ． AutoCADR 与 对象 技术 ． AutodeskinChina 　 樊江 ． 三维 管路 敷设 软件 研制 及 管路 元件库 的 建立 ： ［ 学位 论文 ］ ． 北京航空航天大学 ， （ 责任编辑 　 王震 华 ） 年 月 收稿 ； 年 月 收到 修改稿 。 本文 系 国家自然科学基金 资助 项目 ， 编号 ： 　 男 　 岁 　 硕士 　 北京航空航天大学 教研室 　