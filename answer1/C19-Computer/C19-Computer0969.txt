自动化 学报 ACTAAUTOMATICASINICA 年 　 第卷 　 第期 　 Vol 　 No 　 基于 模型 的 三维 物体 识别 林应强 　 吴 立德 　 　 摘 　 要 　 实现 了 一个 完整 的 基于 模型 的 三维 物体 识别系统 ， 它 可 识别 灰度 图象 中 包含 的 物体 ， 如对 遮挡 加以 限制 ， 还 可 识别 被 遮挡 的 物体 该 系统 能 实现 物体 的 自动 建模 ， 也 可先 定性 识别 某一 物体 的 立体图 对以 获取 高层 知识 ， 然后 在 高层 知识 的 指导 下 准确 地 匹配 立体图 对 中 相对 应 的 特征 此外 ， 还 提出 了 利用 最能 表示 物体 特征 的 表面 特征 面来 识别 物体 的 方法 ， 以 提高 系统 抗 噪声 的 能力 大量 实验 证明 ， 该 系统 具有 相当 的 稳健性 　 关键词 　 三维 物体 识别 ， 关系 属性 图 ， 特征 面 ， 特征 面 匹配 ， 立体 对应 MODELBASEDDOBJECTRECOGNITIONLINYINGQIANG 　 WULIDEComputerScienceDepartmentFudanUnivShanghai 　 Abstract 　 AmodelbasedDobjectrecognitionsystemisrealizedThesystemcanextracttherelationalfacegraphoftheobjectintheorigionalimagethenbymatchingtherelationalfacegraphwiththeoneinthemodlebasethesystemcanrecognizewhatkindofobjectisintheimageIfthestereoimagesofonescenearegiventhesystemcanaccuratelyestablishthecorrespondencebetweenthetwoimagesusinghigherlevelknowledgeaboutthesceneInadditionthecharacteristicmatchingmethodhasbeenproposedThemainideaofthismethodistorecognizetheobjectbyusingthefaceswhichcanbestrepresentthecharacteristicsoftheobjectTherobustnessofthesystemhasbeenprovenbyexperimentsKeywords 　 DobjectrecognitionrelationalfacegraphcharacteristicfacecharacterisitcfacematchingDcorrespondence 　 引言 　 　 三维 物体 识别 是 计算机 视觉 的 重要 组成部分 ， 它 的 任务 是 识别 出 图象 中有 什么 类型 的 物体 ， 并 给出 物体 在 图象 所 反映 的 场景 中 的 位置 和 方向 如果 在 识别 的 过程 中要 利用 有关 物体 的 先验 知识 model ， 则 称为 基于 模型 的 三维 物体 识别 它 的 基本 思想 是 选取 物体 的 某些 特征 作为 基元 ， 在 确定 基元 之间 的 相互 关系 后 ， 将 物体 表示 成 一个 关系 属性 图 物体 的 模型 就是 识别系统 在 识别 物体 前 所 获得 的 物体 的 表示 — — 关系 属性 图 系统 通过 从 图象 中 抽取 出 的 物体 的 关系 属性 图 与 物体 的 模型 进行 匹配 来 识别 图象 中 包含 的 物体 　 　 目前 ， 已有 很多 关于 三维 物体 识别 的 研究 ， 一般 介绍 见 文献 ［ ， ］ ， 较为 具体 的 介绍 见 文献 ［ ， ］ 本文 实现 的 三维 物体 识别系统 以 灰度 图象 作为 输入 、 以维 表面 为 基元 建立 关系 属性 图 由于 噪声 的 存在 ， 难以 从 真实 图象 中 得到 物体 的 完整 的 关系 属性 图 为此 ， 本文 提出 了 特征 匹配 的 方法 ， 即 通过 识别 最能 表示 物体 特征 的 面 特征 面来 识别 物体 这样 ， 即使 得不到 完整 的 关系 属性 图 ， 但 只要 能 得到 物体 的 一个 或 多个 特征 面 ， 系统 仍 有 可能 正确 地 识别 物体 另外 ， 若 提供 一对 立体图 对 ， 系统 还 可 利用 通过 定性 识别 获取 的 高层 知识 来 准确 地 匹配 立体图 对 中 相对 应 的 特征 限于 文章 篇幅 ， 这部分 内容 从略 　 模型 的 建立 及 场景 中 允许 出现 的 物体 　 模型 的 建立 　 　 本文 实现 的 识别系统 的 建模 方法 与 文献 ［ ］ 相同 只是 本 系统 在 建模 时 对 每 一 模型 得到 张 侧面图 　 场景 中 允许 出现 的 物体 　 　 本 系统对 场景 中 允许 出现 的 物体 有所 限制 ， 模型库 中 只 存放 了 允许 出现 的 物体 的 关系 属性 图 ， 系统 只能 识别 存放 在 模型库 中 的 物体 但 模型库 中 存放 的 物体 可视 具体 应用 的 要求 而 改变 ， 因而 本文 介绍 的 方法 是 通用 的 　 　 尽管 对 每 一 物体 可得 张 侧面图 ， 但 由于 物体 的 对称性 ， 从 某些 侧面图 得到 的 关系 属性 图是 图同构 的 ， 建模 时 系统 模型库 中 只 保留 物体 的 不同 构 的 关系 属性 图见 文献 ［ ， ］ 另外 ， 有些 侧面图 不 具有 代表性 ， 没有 很 好 地 反映 物体 的 特征 因此 ， 识别 物体 时 ， 若 系统 发现 从 某幅 图象 无法 确定 物体 类型 ， 则 应 要求 用户 再 提供 该 物体 的 另 一幅 图象 ， 或 从 模型库 中 选取 一个 可能性 最大 的 物体 　 　 从 所有 物体 的 侧面图 中 ， 可以 总结 出 场景 中 允许 出现 的 表面 的 类型 ， 类型 用 数字 来 表示 ， 例如 ， ， 分别 表示 三角形 、 平行四边形 、 梯形 ； 对 边数 大于 等于 的 表面 ， 其 类型 编号 规定 为曲边 数目 × 边 的 数目 　 从 图象 中 提取 关系 属性 图 　 　 本 系统 输入 的 图象 为 灰度 图象 ， 尺寸 × 象素 ， 灰度级 为级 图象 输入 识别系统 后 ， 先 进行 边缘 求取 和 断边 连接 等 预处理 若 输入 人工 生成 的 图象 ， 不必 进行 预处理 经过 预处理 后 ， 图象 中 物体 的 每 一个 面 变成 由 象素 组成 的 圈 — — 围线 因此 ， 要 利用 围线 追踪 算法 从 图象 中 提取 物体 的 每 一个 面 ， 作为 建立 关系 属性 图 的 基元 但 传统 的 基于 象素 的 区域 围线 追踪 算法 在 追踪 形状 较为 复杂 的 区域 的 围线 时常 出现 错误 ， 如 文献 ［ ］ 中 的 围线 追踪 算法 见 文献 ［ ］ 文献 ［ ］ 曾 提出 基于 边 过程 的 区域 围线 追踪 算法 ， 彻底解决 了 二值 图象 中 的 区域 围线 追踪 问题 追踪 出 每个 面 的 围线 后 ， 就 可以 建立 面 的 连接 图以 找出 每个 面 的 所有 相邻 面当 两个 面 的 围线 有 一部分 公共 象素 时 这 两个 面 互为 相邻 面面 的 连接 图 表示 了 图象 中面 的 连接 关系 ， 但 它 不是 关系 属性 图 ， 因为 图中 每 一 节点 表面 的 类型 尚未 确定 ， 在 多 物体 的 情形 ， 被 遮挡 物体 还 未 与 遮挡 它 的 物体 相 分离 为 确定 面 的 类型 ， 必须 对面 的 围线 进行 分割 、 拟合 等 处理 ， 得到 围线 的 结构 得到 每 一个 面 的 围线 结构 后 ， 可 利用 “ T ” 节点 来 确定 被 遮挡 面 并 分离 被 遮挡 面 与 遮挡 它 的 面 ， 同时 尽可能 恢复 被 遮挡 面 的 形状 分离 物体 后 ， 便 可 确定 每个 面 的 类型 ， 得到 物体 的 关系 属性 图 对于 形状 不能 完全恢复 的 被 遮挡 面 ， 要 利用 模型库 中 有关 物体 的 知识 确定 其 类型图 所示 为 一 场景 及其 关系 属性 图 　 　 　 　 　 　 a 场景 图中 的 数字 是 表面 的 编号 b 关系 属性 图 括号 中 的 数字 是 表面 的 类型图 　 场景 及其 关系 属性 图 　 三维 物体 识别 　 通过 匹配 关系 属性 图 实现 物体 识别 　 　 本 系统 识别 物体 的 方法 是 将 从 图象 中 抽取 出 的 物体 的 关系 属性 图 与 存放 在 系统 模型库 中 的 关系 属性 图 进行 匹配 若 匹配 成功 ， 则 系统 识别 了 图象 中 的 物体 ； 反之 ， 系统 将 表示 不 认识 该 物体 关系 属性 图 的 匹配 实际上 是 图论 中 的 图同构 问题 有关 图同构 的 算法 是 十分 常用 的 ， 这里 从略 　 利用 特征 面 匹配 实现 三维 物体 识别 　 　 在 真实 图象 中 ， 由于 噪声 的 存在 ， 系统 难以 得到 物体 的 完整 的 关系 属性 图 ， 为此 ， 我们 提出 了 利用 特征 面 识别 物体 的 方法 特征 面 有 两类 ， 若 某 一 表面 S 在 同一 物体 的 一张 或 多 张 关系 属性 图中 出现 ， 且 在 至少 某 一张 关系 属性 图中 没有 与 S 同 类型 的 其它 表面 ， 则 S 为 该 物体 的 第一类 特征 面 KF ； 若 从 该 物体 的 所有 侧面图 中 得到 的 关系 属性 图 只 包含 一种 类型 的 表面 该类 面 可能 在 某 一 侧面图 中 重复 出现 ， 但 该 侧面图 中不含 别的 类型 的 面 ， 则 该面 为 该 物体 的 第二类 特征 面 KF 　 　 下面 介绍 基于 特征 面 的 物体 识别方法 ， 要 说明 的 是 ， 用 特征 匹配 识别 物体 时 ， 有 可能 出现 识别 错误 先 介绍 索引 库 的 建立 库中 每 一 节点 是 一 特征 面 S ， 所有 包含 该 特征 面 的 物体 即 S 是 该 物体 的 特征 面 组成 该 节点 指向 的 链表 ， 链表 中 每 一 单元 包含 了 物体 的 类型 以及 S 在 该 物体 中 的 权重 权重 计算 如下 ： 对 第一类 特征 面 ， 用 特征 面在 该 物体 的 所有 侧面图 中 出现 的 次数 除以 该 特征 面在 模型库 的 所有 物体 的 侧面图 中 出现 的 次数 ， 它 是 位于 和 之间 的 一个 数 由于 边 数多 的 面 集中 出现 在 某 一 物体 中 ， 它 在 该 物体 中 的 权重 接近 ， 而边 数少 的 面 在 多个 物体 中 出现 ， 在 每 一 物体 中 的 权重 较 小 ， 这 就 给 边 数多 的 面以 较 高 的 优先权 ； 对 第二类 特征 面 ， 令其 权重 为 最后 将 每 一 特征 面 指向 的 链表 按 权重 从大到 小 的 顺序 排序 ， 识别 时 首先 找到 权 重大 的 物体 　 　 建立 索引 库后 ， 便 可 进行 基于 特征 面 的 物体 识别 一般而言 ， 对 识别 所 赋于 的 识别 值越 大 ， 则 识别 的 相对 可靠性 越高 　 　 识别 算法 　 　 输入 ： 从 图象 中 提取 的 物体 的 不 完整 的 关系 属性 图 输出 ： 可能 的 物体 种类 　 　 符号 ： result 为 识别 值 ， 初值 为 ； PARTI 为 图象 中 的 物体 的 关系 属性 图 ； PARTM 为 模型库 中 的 物体 ； PARTMGR 是 PARTM 的 关系 属性 图 　 　 从不 完整 的 关系 属性 图中 找出 特征 面 ， 并 决定 是 KF 还是 KF 其 方法 与 建 索引 库时 找 特征 面 的 方法 一样 若 是 KF ， 则 该 物体 只有 一个 特征 面 　 　 从 索引 库中 找出 每一 特征 面 指向 的 物体 ， 并 将 每 一 特征 面 指向 的 物体 组成 一个 集合 ， 有 几个 特征 面 就 有 几个 集合 　 　 若 特征 面 不止 一个 ， 则 作 所有 集合 的 交集 以 找出 包含 所有 特征 面 的 物体 　 　 if 特征 面 不止 一个 且 交集 不空 ， then 对 其中 每一 物体 PARTMdo 步 　 　 令 result 找出 PARTM 的 所有 关系 属性 图 ， 对 每 一张 关系 属性 图 PARTMGRdo 步 　 　 若 PARTMGR 包含 的 面 不少 于 PARTI 包含 的 面 ， result 否则 ， 取下 一 PARTMGR 并 转 第步 ； 若 PARTMGR 已取 完 ， 转第步 　 　 若 PARTI 中 部分 特征 面 与其 在 PARTMGR 中 的 对应 面 有 相同 个数 的 相邻 面 ， 则 result ； 若 所有 特征 面均 满足 上述 条件 ， 则 result ； 若 PARTI 中 部分 特征 面 与其 在 PARTMGR 中 的 对应 面 有 相同 个数 的 相邻 面且 在 其 相邻 面 之间 能 建立 一一对应 ， 则 result 若 所有 特征 面均 满足 上述 条件 ， 则 result ； 若能 从 PARTI 与 PARTMGR 中 提取 特征 子 图且 特征 子图 能 匹配 ， 则 result 　 　 若 result ＞ result 则 resultresult 令 result 并 取下 一 PARTMGR 转第步 ； 若 PARTMGR 已取 完 ， 转第步 　 　 若 result ＞ ， 则 将 PARTM 作为 PARTI 的 匹配 物体 ， 并 保存 result 的 值 　 　 令 result ， 取下 一 PARTM 并 转 第步 ， 若交 集中 的 PARTM 已取 完 ， 则 转 第步 　 　 若 已 找到 匹配 ， 转第步 ； 否则 result ， 转第步 endif 　 　 if 特征 面 不止 一个 且 result 　 then 　 　 找出 边 数最多 且 指向 链表 不空 的 特征 面 ， 若 其 边数 ＜ ， 则 作 所有 集合 的 并 集 ； 若边数 ≥ ， 则 选取 该面 指向 的 链表 作为 并集 ； 若 所有 特征 面 指向 的 链表 均 为 空 ， 则 返回 不 识别 　 　 对 并 集中 的 每 一 物体 PARTMdo 步 　 　 令 result 找出 PARTM 的 所有 关系 属性 图 ， 对 每 一张 关系 属性 图 PARTMGRdo 步 　 　 若 PARTMGR 包含 的 面 不少 于 PARTI 包含 的 面 ， result ； 否则 ， 取下 一 PARTMGR 并 转 第步 ； 若 PARTMGR 已取 完 ， 转第步 　 　 若 PARTI 中 部分 特征 面 与其 在 PARTMGR 中 的 对应 面 有 相同 个数 的 相邻 面 ， 则 result ； 若 PARTI 中 部分 特征 面 与其 在 PARTMGR 中 的 对应 面 有 相同 个数 的 相邻 面且 在 其 相邻 面 之间 能 建立 一一对应 ， 则 result 　 　 若 result ＞ result ， 则 resultresult ； 令 result ， 并 取下 一 PARTMGR ， 转第步 ； 若 PARTMGR 已取 完 ， 转第步 　 　 若 result ＞ 且 边 数最多 并 指向 链表 不空 的 特征 面 的 边数 ＞ ， 则 令 resultresult 　 　 若 result ＞ ， 则 将 PARTM 作为 PARTI 的 匹配 物体 ， 并 保存 result 的 值 　 　 令 result ， 取下 一 PARTM 并 转 第步 ； 若 并 集中 的 PARTM 已取 完 ， 则 转 第步 　 　 若 已 找到 匹配 ， 转第步 endif 　 　 if 特征 面 只有 一个 then 　 　 选取 该面 指向 的 链表 作为 并集 ， 若 并 集为 空 ， 则 返回 不 识别 　 　 对 并 集中 的 每 一 物体 PARTMdo 步 ； 以下 步与步 的 方法 几乎 一样 ， 由于 只有 一个 特征 面 ， 所以 该面 可能 是 物体 的 KF 面 ， 若 是 KF 面 ， 则 将 result 的 值 加上 endif 　 　 若 已 找到 匹配 ， 则 返回 物体 类型 及 识别 值 　 实验 　 　 用 大量 人工 生成 的 图象 和 一些 真实 图象 对 识别系统 进行 了 测试 ， 系统对 人工 生成 的 图象 具有 相当 的 稳健性 ， 对 真实 图象 也 具有 一定 的 稳健性 若能 在 边缘 求取 等 视觉 低层 处理 方面 取得 较 好 结果 ， 将会 提高 系统对 真实 图象 的 稳健性 　 　 目前 的 系统 能 正确 分割 类似 图 的 场景 并 识别 其中 的 每 一 物体 图 b 是 Sobel 边缘 算子 作用 到 一 真实 图象 并取 阈值 后 获得 的 边缘 图 ， 图 a 是 人工 描出 的 该 真实 图象 中 物体 的 边缘 ， 由于 面与面 之间 灰度 接近 ， 加上 噪声 的 干扰 ， 它们 之间 的 边缘 未能 求 出 这样 ， 图象 中 的 物体 有个 特征 面 ， 类型 分别 为 条边 ， 条边 ， 梯形 模型库 中 不 存在 同时 包含 这 三个 特征 面 的 物体 ， 系统 选取 最 主要 特征 — — 类型 为 的 面 ， 该 特征 在 索引 库中仅 指向 图 a 中 的 物体 ， 类型 为 的 面 是 该 物体 的 KF 面且 权重 为 ， 即 该类 表面 只 出现 在 这 一 物体 中 因此 ， 尽管 图象 中 物体 的 关系 属性 图 不 完整 ， 系统 还是 正确 识别 了 该 物体 a 人工 描出 的 物体 边缘 　 　 　 b 真实 图象 的 边缘 图图 注图 中 的 小圈 噪声 形成 的 假边 和 箭头 所指 的 断边 在 围线 追踪 时 被 去掉 了 国家自然科学基金 资助 项目 作者简介 ： 林应强 　 复旦大学 计算机科学 系 助教 、 硕士 主要 从事 模式识别 、 图像处理 和 计算机 视觉 方面 的 研究 　 　 　 　 　 吴 立德 　 复旦大学 计算机科学 系 教授 、 博士生 导师 主要 从事 模式识别 与 计算机 视觉 、 计算机 语言学 以及 计算机 应用 等 方面 的 研究 曾 获 国家 自然科学 等 多项 奖励 ， 发表 论文 百余篇 作者 单位 ： 复旦大学 计算机科学 系 　 上海 　 参考文献 ［ ］ 　 ArmanFAggarwalJKModelbasedobjectrecognitionindenserangeimages — — AreviewACMComputSurveys ［ ］ 　 DickinsonSJPentlandAPRosenfeldAFromvolumestoviewsAnapproachtoDobjectrecognitionCVGIPlIU ［ ］ 　 DickinsonSJPentlandAPRosenfeldADshaperecoveryusingdistributedaspectmatchingIEEETransPAMIspecialissueonInterpretationofDScenesPart Ⅱ ［ ］ 　 吴 立德 计算机 视觉 ， 上海 ： 复旦大学 出版社 ， ［ ］ 　 PavlidisTAlgorithmsforGraphicsandImageProcessingRockvilleComputerSciencePress ［ ］ 　 林应强 ， 吴 立德 区域 围线 追踪 算法 的 改进 模式识别 与 人工智能 ， ［ ］ 　 吴 立德 ， 林应强 基于 边 过程 的 区域 围线 追踪 和 围线 的 树结构 计算机 学报 ， ， ： 收稿 日期 　