航空 动力学 报 JOURNALOFAEROSPACEPOWER 年 　 第卷 　 第期 　 VOL 　 No 　 扩压器 叶片 形线 逆命题 设计 的 一种 新 方法 　 　 樊会元 　 王尚 锦 　 席 　 光 摘要 ： 应用 遗传算法 结合 神经网络 技术 通过 对 候选 叶片 表面 速度 分布 与 目标 速度 分布 之间 误差 的 极小 化 ， 求解 给定 表面 速度 分布 下 的 扩压器 叶片 形线 。 叶片 形线 利用 Bezier 曲线 参数 化 表示 ， 候选 叶片 形线 的 流场 分析 由 BP 神经网 完成 。 所 提出 的 方法 用于 一 离心 压缩机 平行 直壁 扩压器 的 二元 等 厚 叶片 设计 ， 结果显示 该 方法 是 有效 和 可行 的 。 主题词 ： 扩压器 　 神经网络 　 叶片 　 设计 分类号 ： THANEWINVERSEDESIGNMETHODOFDIFFUSERBLADESPROFILEFanHuiyuan ， WangShangjin ， XiGuangXi ′ anJiaotongUniversityXi ′ anABSTRACT 　 AgeneticalgorithmcombinedwithaneuralnetworktechniqueisproposedtosearchforturbomachinerydiffuserbladeprofileundertheconditionofagivenvelocitydistributiononitssurfaceSuchanewinversemethodworksthroughminimizingtheerrorbetweensurfacevelocitydistributionofcandidatebladesandthetargetvelocitydistributionForeaseinemployinggeneticalgorithmthebladeprofilessearchedareparameterizedwithBeziersplinecurvesTheflowanalysisofthecandidatebladesiscarriedoutbyBPneuralnetworkswhichhavebeentrainedwithasetofsamplesTheproposedapproachisdemonstratedthroughtheapplicationtoadiffuserwithtwodimensionalheightandthicknessconstantbladesThesimulationsshowthatthenewmethodisnotonlyfeasiblebutalsoreliableandeffectiveKey 　 Words 　 Diffusers 　 Neuralnetworks 　 Blades 　 Design 　 引 　 言 　 　 透平 机械 扩压器 叶片 的 逆命题 设计 一般 是 给定 叶片 表面 速度 分布 （ 下称 SVD （ SurfaceVelocityDistribution 或 压力 分布 ， 通过 一定 方法 直接 构造 叶片 。 最 成熟 的 逆命题 方法 是 保角 变换 类 方法 ， 但 它们 仅限于 处理 平面 势流 问题 。 近几年 较 多 被 采用 的 逆命题 方法 还有 最优控制 和 最优化 类 方法 ［ ， ］ 。 由于 这些 方法 多为 梯度 类 方法 ， 因而 不能 有效 处理 多 极值 和 非 连续 目标 函数 问题 流体 机械 逆命题 设计 问题 多属 此类 问题 。 研究者 们 一直 在 寻找 更好 的 逆命题 设计 方法 。 遗传算法 GA 是 一种 模拟 自然界 中 生物进化 机制 的 最优化 方法 。 由于 其 具有 “ 鲁棒性 ” 、 并行性 、 全局 收敛性 等 显著特点 ， GA 被 广泛应用 于 许多 工程 研究 领域 ， 特别 是 近年来 在 流体 机械 研究 领域 的 应用 也 日益 增多 ［ ～ ］ 。 神经网络 技术 是 模拟 生物 神经元 结构 和 人 脑机制 的 一种 计算 策略 ， 目前 在 流体 工程 中 的 应用 也 初见端倪 ［ ， ］ 。 本文 应用 GA 结合 神经网络 技术 实现 透平 机械 扩压器 二元 叶片 逆命题 设计 。 在 叶片 目标 SVD 给定 情况 下 ， 一个 由 染色体 表示 的 个体 候选 叶片 组成 的 种群 在 GA 算子 的 作用 下 朝 目标 SVD 与 候选 叶片 SVD 之间 误差 的 极小 化 方向 进化 ， 最终 求得 具有 目标 SVD 的 叶片 形线 。 在 GA 进化 中 ， 两个 经 训练 的 误差 反向 传播 神经网络 BP 网 用于 完成 对 候选 叶片 形 线下 扩压器 的 流场 计算 。 BP 网 训练 所 需 的 样本 由 搜索 空间 中 人为 构造 若干 叶片 形线 以及 采用 已有 程序 对 相应 流场 进行 分析 而 获得 。 所 提出 的 方法 应用 于 一 实际 离心 压缩机 平行 直壁 扩压器 的 等 厚 叶片 设计 。 结果显示 ， 只要 任给 一个 可行 SVD ， 该 方法 可以 成功 的 求得 满足要求 的 叶片 形线 。 　 GA 的 应用 　 　 GA 通过 对 由 若干 个体 组成 的 种群 利用 基本 生物进化 准则 进行 进化 来 求解 问题 。 现就 扩压器 叶片 形线 逆命题 设计 问题 ， 建立 应用 GA 的 求解 方法 。 ． 　 叶片 形线 参数 化及 编码 　 　 当 GA 被 用于 求解 一个 实际 的 设计 问题 时 ， 首先 须 将 每 一个 设计 变量 以 有限 长 字符串 编码 。 设计 变量 的 某组 编码 头尾 相接 组成 的 长串 即 为 代表 某 一个 体 （ 候选 设计 ） 的 染色体 。 本文 中 个体 为 候选 叶片 形线 ， 叶片 形线 被 参数 化为 由 很少 的 变量 表示 。 本文 采用 Bezier 样条 曲线 来 参数 化 叶片 形线 。 为此 ， 物理 平面 上 的 环列 扩压器 叶栅须 由式 被 保角 地 变换 为 映象 平面图 　 映象 面上 叶片 形线 及 参数 示例 上 的 直列 叶栅 。 ZlogZ ′ ／ R ／ logRR 　 式 中 ： Z ′ 代表 物理 平面 ， R 和 R 代表 扩压器 进口 和 出口 半径 ， Z 代表 映象 平面 。 候选 叶片 形线 首先 在 映象 平面 产生 ， 然后 ， 由式 的 逆变换 变 回到 物理 平面 作为 实际 候选 叶片 形线 。 设在 映象 平面 叶片 形线 由次 Bezier 曲线 刻画 ， 因此 其 形状 可 由 相应 的 Bezier 边形 确定 。 如图所示 ， 设 Bezier 边形 的 顶点 为 Px ， y ， Px ， y ， … ， Px ， y ， 则 Bezier 曲线 可以 由 一个 次 Bernstein 多项式 表示 为 QtBniPi 。 其中 Bnicintitni ， 而 t 是 曲线 参数 ， 其值 取为 ≤ t ≤ 。 为了 既保证 形线 的 任意性 又 简化 计算 ， P 固定 于 坐标 原点 ， 即 P ， ， P 和 P 点 在 x 方向 固定 ， 而 在 y 方向 可变 ， 且 x ， x 。 P 和 P 在 x 方向 可变 ， 但 在 y 方向 接受 叶片 入 口角 和 出口 角 约束 。 设 叶片 入 口角 和 出口 角 分别 为 θ 和 θ ， 则 可得 ytg θ x ， ytg θ xtg θ y 。 这样 ， 由 Bezier 曲线 表达 的 叶片 形线 被 其 多边形 顶点 中 的 四个 未知 坐标 参数 x ， y ， x ， y 确定 。 　 　 由 上述 任意 四个 叶片 形线 参数 组成 一个 四维 向量 Xx 　 x 　 y 　 y 代表 一个 体 。 采用 二进制 编码方案 对 每个 参数 编码 ， 即可 构成 个体 染色体 。 ． 　 BP 网 模型 　 　 BP 网 由于 具有 良好 的 函数 逼近 特性 而 被 本文 用于 进行 已知 叶片 形 线下 的 流场 分析 。 为 简化 网络结构 从而 节省 训练 时间 ， 将 候选 叶片 的 SVD 分为 吸力 面 和 压力 面两 部分 考虑 。 设 SVD 在 这 两个 面上 的 部分 可以 分别 用次 多项式 拟合 。 由此 ， 本文 建立 了 两个 BP 网 分别 用于 求解 叶片 吸力 面 和 压力 面 的 SVD 。 两个 网络 均 具有 结构 形式 （ 即 包括 一个 输入 层 ， 两个 隐层 和 一个 输出 层 ） 。 个 输入 单元 分别 代表 候选 叶片 形线 参数 x ， x ， y 和 y ， 个 输出 单元 分别 代表 吸力 面 或 压力 面 SVD 的 次 多项式 系数 。 在 本文 下节 所述 给定 流动 条件 和 扩压器 结构 尺寸 下 ， 利用 改变 叶片 形线 参数 的 方法 随机 产生 叶片 形线 共个 。 用 依据 势流 理论 和 边界 元 方法 开发 的 叶栅 分析程序 ， 在 物理 面上 对 这些 叶片 的 流场 进行 分析 ， 得出 每个 叶片 形线 所 对应 的 速度 分布 参数 拟合 速度 分布 的 多项式 系数 。 由 叶片 形线 参数 和 相应 吸力 面 和 压力 面 SVD 多项式 系数 组成 两组 样本 对 各个 ， 由 每组 中 各 随机 抽取 个 作为 训练样本 集对 所建 网络 分别 进行 训练 ， 采用 BP 算法 修正 网络 权值 。 训练 过程 在 一个 微机 上 进行 ， 当 两个 网络 训练样本 集上 的 输出 误差 平方和 ≤ 时 ， 结束 训练 。 用 各自 的 个 剩余 样本 对 对 训练 后 的 网络 进行 检验 ， 网络 的 输出 误差 平方和 均 ≤ ， 证明 训练 效果 良好 。 经 训练 的 两个 BP 网 只要 给 其 输入 一个 叶片 形线 参数 只要 该 参数 在 训练样本 张成 的 空间 内 ， 便 可 立即 输出 相应 的 吸力 面 和 压力 面 SVD 的 多项式 系数 。 ． 　 适应 值 　 　 在 GA 中 ， 个体 的 适应 值 关系 到 其 生存能力 ， 需要 逐代 予以 估计 。 本文 中令 GA 极小 化 目标 函数 ： KX ＝ ∫ RRVtVadR 　 式 中 ： Vt 代表 目标 SVD ， Va 代表 候选 叶片 形线 的 实际 SVD 。 这样 ， 对 K 的 极小 化 问题 可以 容易 地 转化 为 对 适应 函数 F 的 极大 化 问题 ： FX ＝ ／ ［ KX ］ 　 F 则 可 用于 个体 的 适应 值 计算 。 计算 个体 适应 值时 ， 须 先 对 染色体 进行 解码 ， 再 利用 BP 网 求解 相应 候选 叶片 形线 表面 的 SVD 。 然后 由和式 计算 适应 值 。 ． 　 GA 的 基本操作 　 　 GA 是 一个 模仿 自然 遗传 规律 的 循环 搜索 过程 。 一个 循环 （ 进化 代 ） 可以 包括 自然 遗传学 中 的 许多 操作 ， 本文 使用 其中 三个 最 基本 的 操作 ： 选择 、 杂交 和 变异 。 亦 即 本文 GA 方法 的 一个 完整 进化 由 选择 、 杂交 和 变异 三步 组成 。 选择 是 按照 适应 值 挑选 父本 的 过程 。 适应 值越 高 的 个体 被 选上 的 可能性 越大 。 杂交 过程 分 二步 完成 ， 第一步 ， 被 选择 的 父本 染色体 按 一个 杂交 概率 实行 配对 ； 第二步 ， 每 一对 染色体 按 随机 位置 相互交换 各自 部分 ， 如此 产生 新一代 中 的 一对 染色体 子 个体 。 而 未 被 选上 配对 的 父本 染色体 同时 被 直接 考贝为子 个体 。 变异 是 所有 子 个体 按照 变异 概率 对 基因 二进制 字节 值 的 改变 。 变异 过程 中 染色体 的 所有 字节 值 被 检查 是否 需要 改变 ， 若 改变 则 由 变 或者 相反 。 　 应用 实例 及 讨论 　 　 方法 应用 于 一 实际 离心 压缩机 扩压器 场合 。 由 气动 设计 结果 所得 该 扩压器 的 基本 结构 尺寸 和 气流 进出口 参数 如下 ： 进口 直径 Dmm ， 出口 直径 Dmm ， 宽度 叶高 bbmm ， 进口 气流 角 α ° ， 出口 气流 角 α ° ， 质量 流率 Ginkgs ， 进气 温度 t ℃ ， 进气 压力 pPa 。 取扩 压器 叶片 数 N ， 叶片 厚 tnmm 。 　 　 为了 获得 可行 叶片 形状 ， 本例 型线 参数 取值 界定 为 ≤ x ≤ ， ≤ x ≤ ， ≤ y ≤ ， ≤ y ≤ 。 变量 编码 的 长度 取决于 要求 的 精度 。 设一实 变量 区间 由 长度 为 l 的 二进制 数 编码 ， 则 该 变量 区间 被 等 分为 l 个子 区间 。 子 区间 与 l 长 的 二进制 数 一一对应 。 如对 参数 x ， 设 要求 计算精度 为 小数点 后位 ， 则 意味着 区间 ［ ， ］ 应 至少 被 等 分为 × 个子 区间 。 显然 ， x 编码 所 需要 的 二进制 数 长度 至少 为 因为 有 ＞ 。 为 简单 计 ， 本例 所有 叶片 形线 参数均 用 长度 为 的 二进制 数 编码 。 GA 的 操作 策略 及 进化 参数 的 选取 严重 影响 算法 的 收敛 性态 ， 且 因 问题 而异 。 本例 中 的 选择 过程 采用 标准 轮盘 赌 方法 。 个体 适应 值 与 种群 中 所有 个体 适应 值 和 的 比值 用于 建立 加权 赌轮 。 赌轮 以 随机 方式 转动 以 确定 个体 是否 被选为 父本 。 杂交 采用 点 杂交 模式 ， 每个 形线 参数 的 基因 段 同时 进行 杂交 运算 。 GA 进化 参数 采用 “ 试验 ” 法 确定 ， 即 通过 变化 单个 参数 观察 GA 性态 ， 以 区分 参数 取值 的 优劣 。 权衡 观察 结果 ， 当 种群 规模 n 、 杂交 概率 pc 和 变异 概率 pm 时 ， 本例 可望 得到 较 好 GA 收敛 性态 。 　 　 在 BP 网 训练样本 所 张成 的 空间 中 ， 人为 构造 了 若干 不同 的 叶片 形 线下 称 原始 叶片 形线 ， 由 求取 BP 网 训练样本 的 同一 流场 分析程序 求解 出 相应 的 SVD 。 以 这些 SVD 为 目标 SVD ， 用 本文 方法 求解 满足 这些 速度 分布 的 叶片 形线 。 方法 由 Matlab 语言 在 一个 个人 计算机 上 实现 。 上述 情形 在 不同 的 GA 进化 代后 均 成功 地 找到 了 满足 给定 速度 分布 的 叶片 形线 。 本文 选取 其中 四个 叶片 形线 情况 Case ， Case ， Case 和 Case 予以 报导 。 四个 叶片 形状 参数 列于 表 。 图 　 由 GA 方法 所求 叶片 形线 与 原始 叶片 形线 对比 表 　 原始 叶片 形线 参数 Casexxyy 图 　 由 GA 方法 所求 叶片 给定 SVD 与 实际 SVD 对比 　 　 GA 进化 代后 所 求得 的 叶片 形线 与 原始 叶片 形线 对比 于图 。 此时 GA 所求 叶片 的 SVD 与 相应 目标 SVD 示于 图 。 图中 纵坐标 为 无 因次 叶片 表面 速度 ， 其中 V 代表 实际 速度 值 ， V 代表 扩压器 入口 气流 速度 值 、 横坐标 为 扩压器 相对 子午 截距 ， 其中 L 代表 点至 叶片 前缘 实际 截距 ， LC 代表 前 后缘 之间 截距 。 上述 两个 图中 的 原始 叶片 形线 与 GA 所求 叶片 形线 以及 目标 SVD 与 GA 所求 叶片 形线 SVD 的 一致性 ， 说明 了 本文 所 提出 的 方法 是 可行 和 有效 的 。 图 显示 种 情况 下 ， GA 进化 过程 中 最好 适应 值 和 种群 平均 适应 值 的 演变 情形 ， 从中 可以 看出 遗传算法 种图 　 GA 进化 过程 中 最好 个体 适应 值 和 种群 平均 适应 值 演变 情形 群 的 整体 进化 特征 和 个体 的 适者生存 特征 。 　 结 　 论 　 　 提出 的 扩压器 叶片 形线 逆命题 设计 新 方法 ， 在 叶片 表面 速度 分布 给 定时 ， 可 满意 地 求得 相应 叶片 形状 。 提出 的 方法 除 具有 遗传算法 固有 优点 外 ， 由于 神经网络 技术 的 采用 ， 大大缩短 了 遗传 进化 过程 中流 场 分析 所 占 时间 ， 提高 了 数值 计算 效率 。 方法 稍加 改动 即可 推广 到 机翼 形 叶片 和 三元 叶片 的 逆命题 设计 。 对 其中 的 目标 函数 形式 和 流场 分析程序 等作 相应 变化 ， 方法 的 思想 亦 可以 用于 求解 更为 复杂 的 流体 机械设计 问题 。 作者简介 ： 樊会元 　 男 　 岁 　 博士生 　 西安交通大学 能源 与 动力 工程学院 机泵 中心 作者 单位 ： 　 西安交通大学 参考文献 ［ ］ 　 VenkataramanPInverseAirfoilDesignUsingDesignOptimizationAIAAcp ［ ］ 　 LewisJCAgarwalRKAirfoilDesignViaControlTheoryUsingFullPotentialandEullerEquationsAIAAcp ［ ］ 　 ObayshiSTankanshiSGeneticOptimizationofTargetPressureDistributionforInverseDesignMethodsAIAAJournal ［ ］ 　 QuagliarellaDCioppaADGeneticAlgorithmAppliedtotheAerodynamicDesignofTransonicAirfoilsJournalofAircraft ［ ］ 　 ObayashiSTsukaharaTComparisonofOptimizationAlgorithmforAreodynamicShapeDesianAIAAcp ［ ］ 　 PrasnthRKWhitakerKWNeuromorphicApproachtoInverseProblemsinAerodynamicsAIAAJournal ［ ］ 　 WhitakerKWSpecifyingExhaustNozzleContourswithaNeuralNetworkAIAAJournal 收稿 ： 年 月 修稿 ： 年 月 责任编辑 ： 杨再荣