计算机 工程 ComputerEngineering 年 　 第卷 　 第期 　 VolNo 基于 域 的 分布式系统 管理 体系结构 模型 田小鹏 　 陈 　 平 　 孙 德文 　 白英彩 　 　 摘 　 要 ： 实现 高效 、 稳定 的 分布式 网络系统 管理 的 核心内容 是 系统管理 体系结构 的 设计 ． 提出 发 分布式系统 ／ 网络管理 体系结构 设计 的 原则 ， 并 在 分析 常用 网络管理 体系结构 的 基础 上 ， 引入 了 管理器 、 管理者 的 管理者 、 综合 管理器 、 域 等 概念 ， 提出 了 基于 域 的 分层 树型 体系结构 DBHA 模型 ． 　 　 关键词 ： 分布式系统 ； 系统管理 ； 网络管理 ； 域 DomainBasedDistributedSystemManagementArchitectureModelTianXiaopengChenPingSunDewenBaiYingcaiDpetofComputerScienceandEngineeringSJTUShanghai 　 　 Abstract 　 ThedistributedsystemmanagementarchitecturedesignplaystheveryimportantroleforinformationtechnologyresourcesmanagementWeprosetworulesofdistrbutedsystemmanagementarchitecturedesignfirstMoreoversomeprevalentapproachesandarchitectureformanagementsystemsareprovidedByusingtheconceptofmanager 、 managerofmanager 、 integratedmanager 、 anddomainadomainbasedhierarchicalarchitectureisintroduced 　 　 Keywords 　 DistributedsystemSystemmanagementnetworkmanagementDomain 　 　 网络系统 质量 的 提高 和 数量 的 不断 增长 及其 引起 的 多 厂商 分布式 网络 环境 中 部件 与 用户 交互 的 复杂性 、 异构 性 、 多样性 需要 智能化 、 自动化 、 效率 化 、 综合化 的 高质量 管理 。 目前 ， 传统 的 集中式 网络管理 体系结构 已 越来越 不 适应 企业 网络 环境 的 管理 ， 分布式 分层 式 的 网络管理 已 受到 众多 企业 的 欢迎 和 关注 ， 因此 设计 和 研究 分布式 分层 式 网络体系结构 十分必要 。 　 　 在 实际 分布式系统 环境 中 ， 可以 通过 一定 的 规则 构造 和 分化 网络系统 为 多个 子系统 ， 并 通过 把 管理 任务 划分 给 不同 子系统 的 方式 降低 网络管理 复杂度 ， 实现 高质量 的 管理 。 因此 ， 域 作为 一种 可 灵活 使用 的 组织 资源 方法 被 研究 和 使用 。 　 　 综上所述 ， 系统 网络 管理系统 体系结构 的 设计 应 基于 两个 构造 原则 ： 　 　 准则 ： 采用 分布式 分层 式 网络体系结构 ； 　 　 准则 ： 使用 域 作为 组织 单元 。 常用 网络 管理系统 体系结构 模型 　 　 网络 管理系统 体系结构 模型 有 许多 。 以下 种 较为 流行 ： 集中式 体系结构 分布式 体系结构 分层 式 体系结构 分布式 和 分层 式 体系结构 的 结合 。 网管 系统 体系结构 的 主要 差异 在于 使用 管理者 的 数目 和 交互 或 独立 的 程度 。 集中式 体系结构 　 　 集中式 体系结构 图是 最 常用 的 方式 ， 它 只有 唯一 的 网络 管理器 负责 整个 网络 的 管理 。 管理器 和 被 管 网络 元素 的 代理 进行 通信 ， 管理器 提供 集中式 决定 支持 和 控制 并 维护 管理者 数据库 。 这种 模型 的 最大 缺点 是 ： 随着 网络 规模 和 复杂性 增加 ， 网络 能力 和 效率 降低 。 但是 在 简单 的 网络 环境 中 ， 集中式 控制 简洁 有效 。 图 　 集中式 体系结构 　 　 集中式 体系结构 的 一种 变化 类型 是 平台 方法 platformapproach 图 。 单个 网络 管理器 被 分成 了 两 部分 ： 管理 平台 和 管理应用程序 。 管理 平台 管理 数据处理 的 第一阶段 ， 包括 信息 收集 ， 提供 主要 的 服务 如 监控 和 控制 、 吞吐量 计算 等 ； 屏蔽 下层 协议 提供 给 应用程序 抽象 表述 。 应用程序 在 数据处理 的 第二阶段 实施 操作 ， 包括 处理 决定 支持 decisionsupport ； 信息 收集 和 简单 计算 的 其它 高级 功能 。 这 两 部分 通过 一个 公共 的 用户 程序接口 API 进行 通信 。 这个 体系结构 将 异构 和 协议 复杂性 放在 管理 平台 这 一级 处理 ， 极大 地 简化 了 异构 、 多 厂家 、 多 协议 环境 下 综合 应用程序 的 开发 、 维护 和 扩展 。 无论怎样 ， 集中式 体系结构 这种 方式 限制 了 管理网络 的 范围 与 规模 。 而且 ， 当 应用程序 很多 时 ， 管理 平台 就 会 成为 一个 严重 的 瓶颈 。 图 　 平台 方法 分布式 体系结构 　 　 分布式 体系结构 图 与 管理 域 概念 紧密联系 ， 使用 一个 以上 的 管理者 。 一个 管理者 负责 一个 域 ， 域 的 划分 可以 根据 地理 、 组织 结构 或 其它 规则 ， 因此 这种 方法 非常适合 多域 网络 。 当某 一个 域 domaina 需要 另 一个 域 domainb 的 信息 时 ， 对 等 管理者 管理者 a 和 管理者 b 之间 进行 通信 。 这种 体系结构 的 最大 优点 是 其 规模 的 可扩充性 scaleability 。 若 被 管 网络 的 规模 增加 或 性能需求 提高 ， 可以 通过 创建 更 多 的 域 和 增加 相应 的 管理者 数目 来 满足 。 图 　 分布式 体系结构 分层 式 体系结构 　 　 分层 体系结构 图 应用 一个 管理器 负责 一个 域 的 原则 ， 进一步 引入 了 管理者 的 管理者 MOM 思想 。 但是 它 与 分布式 体系结构 不同 的 是 ： 每 一个 域 的 管理器 仅仅 负责 本域 的 管理 ， 对 其它 域 的 情况 一无所知 ； 即域 管理 之间 是 不能 通信 的 。 MOM 位于 更 高 的 层次 级别 ， 它 所 需求 的 数据 信息 由 其 管理 或 负责 的 域 管理器 提供 。 这种 体系结构 也 具有 网络 规模 的 可扩充性 ， 这 可以 通过 创建 更 多 的 域 、 相应 的 管理者 和 多个 MOM 来 实现 。 通过 MOM 的 MOM 概念 引入 ， 可 建立 一个 多级 分 层次模型 。 这种 体系结构 方便 了 综合 应用程序 的 开发 ， 应用程序 可以 对 多个 域 进行 信息检索 。 网络 式 体系结构 　 　 第四种 体系结构 将 分布式 体系结构 和 分层 式 体系结构 的 特点 结合 图 。 这种 体系结构 也 引入 了 管理器 、 域 和 管理器 的 管理器 高级 管理器 概念 。 和 单纯 分层 和 分布式 体系结构 不同 的 是 ： 管理器 的 组织 结构 按照 网络 的 方式 组成 。 这种 方法 结合 了 两个 体系结构 的 特点 和 优点 ， 保留 了 网络 规模 的 可扩展性 ， 对于 分散性 、 不 规范 的 网络 环境 具有 更好 的 功能 和 适应性 。 图 　 分层 体系结构 图 　 网络 式 结构 　 域 　 　 分布式系统 管理 对 管理 结构 提出 了 更 高层次 的 要求 ， 这 体现 在 ： 　 　 管理 结构 必须 明确 多个 管理者 之间 的 权限 划分 及 界限 ； 　 　 管理 结构 必须 能 反映 出 物理 网络连接 、 应用程序 分布 、 层次 管理 结构 等 特性 ； 　 　 同一 被 管 对象 可能 由 若干个 管理者 管理 ， 每个 管理者 实现 特定 的 功能 ； 　 　 管理 结构 要求 能 反映 出 管理 的 交叉 或 重叠 overlap 现象 。 　 　 由于 域 可以 通过 组织 被 管 资源 划分 管理 功能 、 定义 管理策略 实现 高质量 管理 ， 因而 被 深入研究 和 使用 。 域 在 很多 文章 中 都 涉及 到 ， 但 都 没有 提出 完整 和 确切 的 定义 。 下面 根据 文献 进一步 提出 域 的 定义 。 域 的 定义 　 　 域 的 定义 ： 域 表示 一个 范畴 或 区域 ， 也 是 一个 特殊 的 被 管 对象 。 作为 一个 范畴 ， 它 具有 自己 的 权限 和 责任 ， 以 管理 为 目的 ， 是 组织 被 管 对象 的 一种 灵活 实用 的 方法 。 作为 一个 对象 ， 它 保持 着 本域 各 被 管 对象 的 参考 信息 。 域 的 划分 原则 　 　 域 的 划分 方法 很多 ， 可 根据 企业 网络 环境 的 具体情况 采用 不同 方法 或 多个 方法 。 表列出 了 常用 的 域 的 划分 原则 。 表 　 域 的 划分 方法 域 的 划分 方法 描述 管理 功能 ManagementFunction 根据 应用 到 被 管 资源 的 特定 或 一组 管理 功能 实现 域 的 划分 ． 管理策略 ManagementPolicy 所有 被 管 资源 应用 相同 的 管理策略 ， 管理策略 的 设置 将会 简化 ． 组织 结构 OrganizationalStructure 根据 系统 的 组织 结构 实现 域 的 分割 ． 物理 位置 GeographicalLocation 根据 系统 各 资源 的 具体 地理位置 实现 域 的 划分 ． 所有权 标准 OwnershipCriterion 根据 系统 各 资源 的 所有者 进行 域 的 划分 ， 对于 安全 访问控制 有利 ． 被 管 资源类型 ManagedResourcesTypes 将 属于 同一 厂商 或 符合 同一 标准 的 被 管 资源 组成 一个 域 ． 被 管 资源 功能 ManagedResourceFunction 将 所有 完成 相同 功能 或 服务 的 被 管 资源 组成 一个 域 ， 如 网络系统 中 的 所有 打印机 ． DBHA 体系结构 DBHA 体系结构 模型 引入 的 概念 　 　 系统 体系结构 模型 采用 分层 树型 体系结构 方式 。 该 模型 引入 了 管理器 、 域 、 管理者 的 管理者 、 综合 管理器 概念 。 　 　 管理器 ： 应用 一个 管理器 负责 一个 域 的 原则 ， 每 一个 域 的 管理器 仅仅 负责 本域 的 管理 ， 对 其它 域 的 情况 无权 干涉 。 即 ： 域 管理 之间 是 不能 相互 通信 的 。 　 　 域 ： 定义 管理器 可以 管理 的 范围 。 在 系统 中 ， 域 的 划分 根据 网络地址 进行 划分 。 比如 ， 以 网络 为例 ， 子网掩码 是 ， 即 分成 个子 网 ， 每个 子网 中有 台除 全和全 地址 机器 组成 。 所以 可以 将 网络 分成 个域 。 　 　 管理者 的 管理者 ： MOM 位于 更 高 的 层次 级别 ， 所 需求 数据 信息 由 其 管理 或 负责 的 域 管理器 或 综合 管理器 提供 。 　 　 综合 管理器 ： 综合 管理器 是 一种 特殊 的 MOM 。 它 比 管理器 高 一个 层次 ， 但 与 普通 MOM 的 不同之处 在于 它 可以 直接 管理 域 ， 当然 只能 管理 一个 域 。 DBHA 体系结构 模型 　 　 DBHA 体系结构 支持 种 结构 方式 ： 　 　 标准 方式 ： MOMmanagerdomain 的 方式 。 每个 MOM 可以 管理 多个 管理器 ， 每个 管理器 负责 一个 域 。 　 　 混合 方式 ： MMOMmanagerMOMdomain 的 方式 。 MMOM 可以 管理 多个 管理器 和 多个 MOMMOM 又 可以 进一步 管理 下层 的 各 管理器 ， 每个 管理器 负责 一个 域 的 管理 。 　 　 综合 方式 ： MMOMmanagerIMMOMdomain 的 方式 。 MMOM 可以 管理 多个 管理器 、 多个 综合 管理器 、 多个 MOM 。 MOM 又 可以 进一步 管理 下层 的 各 管理器 、 综合 管理器 或 MOM 。 综合 管理器 负责 某个 域 的 同时 ， 负责管理 下层 的 管理器 、 综合 管理器 或 MOM 。 每个 管理器 负责 一个 域 的 管理 。 DBHA 体系结构 的 优点 和 特色 　 　 网络 规模 的 可扩充性 ： 若 网络 规模 和 复杂性 增加 ， 可 通过 创建 更 多 的 域 、 相应 的 管理者 和 多个 MOM 来 实现 管理 。 通过 引入 MOM 的 MOM 概念 ， 可 建立 一个 多级 分 层次模型 。 　 　 适合 大型 高速 网络 ： 这种 体系结构 将 管理 任务 分割 ， 而且 责任 分工 明确 ， 避免 了 集中式 平台式 体系结构 不 适合 大量 数据 信息处理 和 高速 网络管理 的 情况 。 　 　 根据 网络地址 原则 划分 域 ： 对于 TCPIP 互连 网络 环境 ， 通过 网络地址 进行 域 的 划分 ， 能 清晰 网络 互连 的 逻辑 结构 并 与 网络拓扑 图 的 管理 一一对应 。 　 　 提出 综合 管理器 的 概念 ： 综合 管理器 的 引入 使 网络 的 管理 结构 具有 一定 的 灵活性 。 因为 综合 管理器 在 负责 管理器 的 同时 ， 可以 负责 某 一个 域 的 管理 。 这样 可以 保证 对 不同 的 域 不同 对待 ； 让 某 性能 好 的 机器 作为 综合 管理器 ， 可以 充分发挥 它 的 能力 ， 减少 管理器 的 个数 ， 避免 MOMmanagerdomain 的 单调 结构 和 领导 过多 ， 机 浮于 事 的 现象 。 　 　 这种 体系结构 方便 综合 应用程序 的 开发 ， 使 管理器 上 的 应用程序 可 根据 不同 域 的 特点 进行 管理 ， 而 MOM 又 可 统筹 全局 ， 不必 去 负责 具体 的 数据 收集 和 繁琐 的 数据 计算 。 上海市科委 资助 项目 作者简介 ： 田小鹏 ～ ， 男 ， 博士生 ， 研究 领域 ： 计算机网络 管理 、 计算机网络 作者 单位 ： 上海交通大学 计算机科学 与 工程 ， 上海 　 参考文献 StamatelopoulosFChiotisTMaglarisBAScaleablePlatformbasedArchitectureforMultipleDomainNetworkManagementhttpwwwcsutwentenlxstapsBoutabaRZnatySTowardsIntegratedNetworkManagementADomainPolicyApproachanditsApplicationtoaHighSpeedMultiNetworkIEEENOMSSlomanMMageeJTwidleKetalAnArchitectureForManagingDistributedSystemsProceedingsofFourthIEEEWorkshoponFutureTrendsofDistributedComputingSystemsLisbonPortugalIEEEComputerSocietyPressBoutabaRZnatySAnArchitecturalApproachforIntegratedNetworkandSystemsManagementhttpwwwcsutwentenlznaps 收稿 日期 ：