软件 学报 JOURNALOFSOFTWARE 年 第期 No 与 替换 和 集合 运算 有关 的 错误 程晓春 　 姜云飞 　 　 摘要 　 指出 在 使用 归结 方法 的 自动 推理 文献 中 存在 于 提升 引理 和 删除 策略 完备 性 定理 证明 中 与 替换 和 集合 运算 有关 的 几个 错误 并 予以 分析 和 改正 　 　 关键词 　 归结 替换 合一 集合 删除 策略 　 　 中图法 分类号 　 TPErrorsRelatedtoSubstitutionandSetOperationsCHENGXiaochun 　 JiangYunfei 　 　 Abstract 　 　 Inthispapersomeerrorsrelatedtosubstitutionandsetoperationsintheproofproceduresofliftinglemmaandthecompletenesstheoremofdeletionstrategywhichareintheliteraturesonresolutionbasedautomatedreasoningarepointedoutanalyzedandcorrected 　 　 Keywords 　 Resolutionsubstitutionunificationsetdeletionstrategy 　 　 高效 推理方法 的 研究 有 重要 的 意义 例如 可 用于 可 满足 性 问题 求解 　 　 归结 原理 ［ ～ ］ 是 根据 已有 子句 产生 新 子句 的 推理 规则 在 归结 演绎 过程 中 可能 产生 大量 对 证明 无用 的 子句 为了 提高 归结 演绎 的 效率 在 生成 无用 子句 后 可以 用 删除 策略 ［ ～ ］ 来 删除 其中 的 一部分 　 　 本文 指出 在 使用 归结 方法 的 自动 推理 文献 中 存在 于 提升 引理 和 删除 策略 完备 性 定理 证明 中 与 替换 和 集合 运算 有关 的 几个 错误 并 予以 分析 和 改正 　 提升 引理 证明 中 的 错误 　 　 Chang 等 人 在 文献 ［ ］ 中 第页 和 第页 关于 提升 引理 的 证明 中 使用 了 如下 断言 “ CisaresolventofCandC 　 　 　 　 　 　 　 　 　 　 　 　 　 　 C － ∪ － 　 　 　 　 　 　 　 　 　 　 　 　 　 　 C ′ － ∪ － 　 　 　 　 　 　 　 　 　 　 　 　 　 　 andismoregeneralthan 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ClearlyC ′ isaninstanceofC ” 这个 断言 是 错误 的 ． 　 　 反例 ： CPyPx 　 　 　 　 　 　 　 　 　 C ～ PaQa 　 　 　 　 　 　 　 　 C ′ PaPx 　 　 　 　 　 　 　 　 C ′ ～ PaQaC 　 　 　 　 　 　 　 　 rr 　 　 　 　 　 LPx 　 　 　 　 　 L ～ Pa 　 　 　 　 　 　 λ σ ax 将 x 替换 为 a θ ay 将 y 替换 为 a γ ax 将 x 替换 为 a 　 　 　 　 　 　 　 　 C － ∪ － 　 　 　 　 　 　 　 　 PyPa － Pa ∪ ～ PaQa － ～ Pa 　 　 　 　 　 　 　 　 PyQa 　 　 　 　 　 　 　 　 C ′ － ∪ － 　 　 　 　 　 　 　 　 　 　 PaPa － Pa ∪ ～ PaQa － ～ Pa 　 　 　 　 　 　 　 　 　 　 QaC ′ 不是 C 的 例 　 　 错误 原因 　 　 － 不 等于 C － L 因此 η 并 不能 保证 － ∪ － 是 － ∪ － 的 例如 反例 所示 当 因此 下 C 中 与 可 合一 的 文字 比下 C 中 与 下 C 中 与 可 合一 的 文字 多时 － 未必 是 － 的 例 　 　 这个 断言 的 错误 能 说明 Chang 等 人 在 文献 ［ ］ 中 提升 引理 的 证明 是 错误 的 而 不能 说明 提升 引理 本身 是 错误 的 事实上 提升 引理 本身 是 正确 的 年 刘叙华 和 姜云飞 在 文献 ［ ］ 中 第页 ～ 第页 给出 了 提升 引理 的 一个 修正 了 的 证明 年 Leitsch 也 指出 了 Chang 等 人 的 上述 错误 ［ ］ 　 删除 策略 完备 性 定理 证明 中 的 错误 　 　 文献 ［ ］ 中 第页 给出 删除 策略 的 一种 定义 “ 设 S 是 子句 集 下面 的 子句 序列 是从 S 出发 推出 C 的 一个 演绎 DCCCkC 如果 Ci ≤ i ≤ k 是 重言式 或者 Ci 被 某个 Cj 包含 ji 则 将 Ci 从 这个 演绎 中 删除 我们 称 对此 演绎 D 实行 了 删除 策略 ” 　 　 文献 ［ ］ 中 第页 给出 删除 策略 的 完备 性 定理 　 　 刘叙华 和 姜云飞 在 文献 ［ ］ 第页 删除 策略 完备 性 定理 的 证明 中有 如下 几处 错误 　 　 错误 第 ～ 行 ： “ 设 CL ∨ ～ L ∨ G 其中 G 是 子句 L 是 原子 若 C 和 D 的 归结 文字 是 C 中 L 和 D 中 文字 ～ L 则 RCDD σ ∨ G σ 故 D σ RCD ” 　 　 D σ RCD 是 正确 的 但是 RCDD σ ∨ g σ 是 错误 的 　 　 反例 ： CPx ～ PxPa 　 　 　 LPx 　 　 　 　 GPa 　 　 　 　 　 　 　 　 D ～ Pa 　 　 　 　 　 　 　 　 ～ L ～ Pa 　 　 σ ax 将 x 替换 为 a 　 　 　 　 　 　 　 　 RCDC σ － ∪ D σ － ～ L σ 　 　 　 　 　 　 　 　 　 　 　 Pa ～ PaPa － Pa ∪ ～ Pa － ～ Pa 　 　 　 　 　 　 　 　 　 　 　 ～ Pa 　 　 　 　 　 　 　 　 D σ ∨ G σ ～ PaPa 　 　 显然 RCDD σ ∨ G σ 是 错误 的 　 　 关于 D σ RCD 的 改正 的 证明 ： RCDC σ ∪ D σ ～ L σ 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 ～ ∪ G σ ∪ D σ ～ 因为 c 中 L 和 D 中 ～ L 是 归结 文字 显然 ～ ～ 于是 　 　 　 　 　 　 　 　 　 RCD ～ L σ ∪ ∪ D σ － ～ L σ D σ ∪ 因此 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 D σ RCD 　 　 错误 第 ～ 行 ： “ 设 C η ∈ D 应为 C η DDL ∨ D ′ D ～ L ∨ D ′ 其中 D ′ D ′ 是 子句 又 设 L 和 L 的 mgu 是 σ 于是 RDDD ′ ∪ D ′ σ － ～ ” 　 　 反例 ： LL ∨ ～ L 　 　 　 D ～ L ∨ L 设 L 和 L 的 mgu 是 σ 因此 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 Ｄ ′ ～ Ｌ 　 　 　 　 Ｄ ′ Ｌ 　 　 　 　 　 　 　 　 　 　 　 RDD － ∪ － ～ ～ 而 　 　 　 　 　 　 　 　 　 　 d ′ ∪ D ′ σ ～ ～ ～ 　 　 错误 第 ～ 行 ： D ～ L ∨ D ′ L 和 L 的 mgu 是 σ “ 若 L ∈ C η 令 C η L ∨ C ′ 于是 RC η DC ′ ∪ D ′ σ － ～ ” 　 　 反例 ： C η l ∨ ～ L 　 　 　 　 D ～ L ∨ L 设 L 和 L 的 mgu 是 σ 因此 　 　 　 　 　 　 　 　 　 　 　 　 　 　 C ′ ～ L 　 　 　 　 　 　 D ′ L 　 　 　 　 　 　 　 　 　 　 　 RC η DC η σ － ∪ － ～ ～ 而 　 　 　 　 　 　 　 　 　 　 C ′ ∪ D ′ σ － ～ ～ － ～ 　 　 上述 错误 没有 影响 删除 策略 的 完备 性其 正确 的 证明 如下 ： 　 　 定理 删除 策略 的 完备 性设 S 是 不可 满足 子句 集 如果 在 归结 演绎 中 使用 删除 策略 则 仍然 存在 从 S 出发 推出 空子 句 □ 的 归结 演绎 　 　 证明 首先 分析 s 中子 句 的 两个 性质 　 　 性质 设 C 为 重言式 C 与 C 有 归结 式 RCC 则 RCC 或 为 重言式 或 被 C 包含 　 　 设 CL ∨ l ′ ∨ G 其中 G 是 子句 L 和 L ′ 为 互补 对 σ 是 C 和 C 中 归结 原子 的 mgu 　 　 若 C 的 L 和 C 的 l 是 归结 文字 则 RCC － ∪ － ∪ G σ － ∪ － 显然 － 于是 RCC ∪ 因此 RCC 被 C 包含 　 　 若 C 的 归结 文字 为 L ′ 同理可证 RCC 被 C 包含 　 　 若 C 的 归结 文字 不是 L 和 L ′ 则 RCC ∪ 于是 RCC 是 重言式 　 　 性质 若 C 包含 CC 是 任一 与 C 有 归结 式 RCC 的 子句 则 或者 RCC 被 C 包含 或者 C 与 C 有 归结 式 RCC 且 RCC 包含 RCC 　 　 设 C η CL 和 L 分别 是 C 和 C 中 的 归结 文字 σ 是 L 和 L 中 原子 的 mguRCC － ∪ － 　 　 若 L ∈ 则 和 C 有 归结 式 RC － ∪ － 因为 C 所以 － － RCRCC 由 归结 的 提升 引理 ［ ～ ］ 存在 C 和 C 的 归结 式 RCC 满足 RCC λ RCRCC 因此 RCC 包含 RCC 　 　 若 L ∈ 但是 中有 文字 满足 设 σ 下中 与 L 可 合一 的 文字 为 σ 下 C 中 与 L 可 合一 的 文字 为 L ∈ 于是