计算机 应用 ComputerApplications 年 第卷 　 第期 Vol 　 No 虚拟现实 及其 在 机械工程 中 的 应用 魏国 前 　 范 　 勤 　 　 摘 　 要 　 本文 论述 了 虚拟现实 的 基本特征 、 典型 应用 及其 发展趋势 ， 例举 了 常用 的 虚拟现实 软件 和 硬件 产品 ， 并 在 此基础 上以 起重机 为例 ， 分析 了 虚拟现实 技术 在 机械工程 中 的 应用 。 　 　 关键词 　 虚拟现实 ， CAD 　 　 年 ， 美国 的 VPLResearch 公司 的 创始人 JaronLanier 首次 正式 提出 “ VirtualReality （ VR ） ” 这个 名词 ， 意指 “ 计算机 产生 的 三维 交互 环境 ， 在 使用 中 用户 是 ‘ 投入 ’ 到 这个 环境 中去 的 。 ” 近年来 ， 由于 各种 相关 技术 和 硬件 的 发展 ， 虚拟现实 技术 的 发展 也 十分 迅猛 。 VR 有个 特征 ： 沉浸 感 ； 交互性 ； 多 感知 ； 自主性 。 　 　 由于 VR 是 在 人类 为 改善 与 计算机 的 交互方式 ， 提高 计算机 的 可操作性 所 进行 的 努力 中 产生 的 ， 因而 其本质 上 是 为了 提供 一种 高度 融洽 的 人机 关系 。 从 广义 上 说 ， 只要 达到 此 目的 ， 即使 没有 完全 达到 上述 的 个 特征 ， 我们 也 认为 是 虚拟现实 。 　 虚拟现实 的 软硬件 状况 分析 　 　 虚拟现实 系统 中 的 计算机 主要 要 完成 三项 任务 ： 虚拟 境界 的 生成 与 管理 ， 数据 输入 ， 数据 输出 。 为了 使 系统 拥有 较 好 的 交互性 能 ， 不同 的 任务 要 使用 一些 特殊 的 软硬件 。 与 虚拟现实 有关 的 软硬件 更新 很快 ， 因此 ， 我们 有 必要 简单 讨论 这些 现代化 的 设备 。 　 建模 软件 　 　 虚拟现实 发展 至今 ， 已有 了 许多 的 建模 软件 ， 它们 使用 的 机制 各有不同 ， 对 用户 的 要求 也 有 高低 ， 当然 ， 其 功能 上 的 差异 也 是 很大 的 。 其 典型 代表 为 ： 　 　 Rend 是 一个 免费 的 程序库 和 世界 播放器 ， 功能 较弱 ， 适于 DOS 环境 ； 　 　 WorldToolKitforWindows 是 Sense 公司 以 Windows 动态 连接 库 的 形式 发布 的 虚拟现实 程序库 ， 在 标准 SVGA 下 运行 ， 可以 在 窗口 中 显示 带 纹理 映射 的 虚拟世界 ， 也 可 全屏 显示 。 该 程序 支持 DDE ， 因而 可以 通过 电子表格 、 数据库 或 其它 程序 来 控制 虚拟世界 ； 　 　 虚拟现实 建模语言 VRMLVirtualRealityModelingLanguage 是 HTML 的 D 模型 ， 其 目的 是 提供 一种 用于 网上 的 虚拟世界 的 描述 方法 。 目前 已有 VRML 、 VRML 、 VRML 等 几种 版本 ； 　 　 OpenGL （ 开放式 图形 语言 ） 是 SiliconGraphics 开发 的 一种 建立 图形库 的 语言 ， 该 语言 功能强大 ， 是 实现 虚拟现实 的 较 好 工具 ， 但 由于 其 编程 量 大 ， 又 较 难 掌握 ， 因此 目前 只 在 专业 人员 中有 较广 的 应用 。 　 输入 数据 的 软硬件 设备 　 　 语音 信号 的 输入 　 语音输入 为 用户 与 虚拟环境 交互 提供 了 一种 方便 的 方法 。 提供 语音输入 功能 需要 一个 普通 的 麦克风 和 某种 语音 识别 软件 。 语音 识别 技术 发展 至今 ， 已经 能 在 货架 上 见到 待 出售 的 语音 识别 软件 。 这种 软件 有 ： SoundBlaster 公司 的 VoiceAssist 软件 Command 公司 的 IN 　 TM 　 ○ Voice 软件 以及 Dragon 系统 的 DragonDictate 　 TM 　 ○ 软件 。 　 　 肌肉 信号 的 输入 　 生物 控制器 是 用于 捕捉 特性 命令 的 输入 设备 。 它 能够 捕捉 活动 ， 如 肌肉 的 运动 ， 并且 产生 电子 信号 。 例如 ： 位于 眼睛 附近 的 皮肤 上 的 电极 能够 捕捉到 眼部 肌肉 的 活动 ， 从而 允许 我们 能够 通过 眼部 肌肉 的 运动 而 遨游 于 虚拟世界 。 这种 设备 仍然 处于 实验 阶段 。 　 　 手部 运动 信号 的 输入 　 用于 捕捉 设计者 的 手势 和 手部 运动 的 输入 设备 可 分为 三种 ： 跟踪 设备 ， 点 输入 设备 ， 手套 型 设备 。 跟踪 设备 用于 捕捉 设计者 的 手 或 头 的 位置 和 方向 ， 以 或 机械 的 ， 或 超声波 的 ， 或 磁学 的 ， 或 光学 的 系统 为 基础 的 捕捉 传感器 都 是 可 选用 的 。 这种 设备 的 一个 例子 是 Ascension 技术 公司 的 FlockofBirds 　 TM 　 ○ 。 点 输入 设备 包括 六 自由度 鼠标 和 力矩 球 。 手套 型 设备 是 用 含 电线 的 布料 做 的 手套 ， 戴 在 手上 就象 一般 的 手套 一样 。 其中 包有 或 纤维光学 式 的 ， 或 电子式 的 ， 或 电阻 式 的 传感器 ， 这些 传感器 可以 测量 手指 关节 的 位置 。 在 虚拟环境 中 手套 被 用 作为 手势 输入 设备 。 　 输出 数据 的 软硬件 设备 　 　 可 听 信号 的 输出 　 可 听 输出 有 一个 优势 ， 即 它 是 可以 与 可视 信息 同时 存在 的 交流 渠道 。 D 声音 可以 用 不同 的 声音 表现 不同 的 位置 ， 因此 给 我们 一种 更加 接近 真实 的 虚拟 体验 。 　 　 可视 信号 的 输出 　 D 可视 反馈 可以 使用 两种 类型 的 技术 。 第一种 是 头戴式 显示 （ HMD ） ， 它 一般 使用 两支 液晶显示 （ LCD ） 屏幕 ， 给 每 一只 眼睛 都 提供 独立 的 图像 。 第二种 是 使用 立体 形象 监视器 和 LCD 保护 眼镜 。 在 这种 系统 中 ， 虚拟 景象 的 两个 形象 （ 一只 眼睛 看 一个 ） 在 监视器 中以 非常 高 的 速率 交替 显现 ， 从而 产生 一个 立体感 的 形象 。 　 　 可触 信号 的 输出 　 这种 类型 的 反馈 设备 使 用户 能 感觉 到 虚拟环境 中 的 力 ， 并 能 感觉 到 与 物体 接触 时受 物体 的 阻碍 。 模拟 不同 情况 下 触觉 反馈 的 一个 方法 是 使用 电信号 或 手上 不同 方向 的 振动 。 另 一个 途径 是 在 手套 中 使用 可 充气 的 袋子 提供 触觉 反馈 。 对于 力 的 反馈 ， 一些 机械设备 （ 臂 ） 可以 在 用户 试图 操作 虚拟环境 下 的 物体 时 提供 阻力 的 反馈 。 　 虚拟现实 在 当前 的 典型 应用 　 　 a 遥控 机器人 　 　 b 医学 　 　 c 建筑 　 　 d 训练 残疾人 　 　 e 科学 可视化 　 　 f 娱乐 　 　 g 作为 一种 新型 人机交互 界面 　 虚拟现实 在 机械工程 中 的 应用 前景 　 　 机械 制造业 是 一个 古老 的 行业 ， 同时 也 是 国民经济 发展 中 一个 不可 缺少 的 行业 。 下面 我们 假设 有 一个 用户 需要 一种 非 标的 起重机 ， 而且 时间 要求 十分 紧迫 ， 以此 为 例来 探讨 一下 VR 在 机械 制造业 中 的 应用 。 　 初步设计 阶段 　 　 在 这 一 阶段 有 两个 模块 可以 调用 ： 一个 为 物件 库 模块 ， 其中 包括 了 起重机 所有 零部件 的 各种 型号 、 尺寸 的 实体 造型 包括 其 属性 信息 等 ， 若 事先 把 所有 实体 一个个 地造 好 ， 并 存储 起来 ， 则 费时费力 又 浪费 存储空间 ， 因此 我们 采用 AutoCAD 中 的 ADS 或 ARX 进行 参数 化 造型 ； 另 一个 模块 为 方法 库 模块 ， 这个 模块 实质 上 是 包含 所有 起重机 设计 步骤 ， 设计 准则 以及 一些 专家 的 经验 的 数据库 ， 使用 这个 模块 ， 只要 用户 输入 主要 设计 参数 ， 如 类型 、 吨位 等 ， 系统 就 可以 自动 或 半自动 生成 缺省 的 设计方案 ， 该 模块 还 允许 用户 按 需 调整 起重机 的 配置 ， 甚至 可以 交互式 地 进行 一些 非 标准件 的 设计 ， 以 达到 用户 的 要求 ， 这 一部分 用 VC 编制 。 　 　 运用 这一 系统 ， 设计者 可 得到 起重机 设计 的 初步 配置 。 　 建模 仿真 阶段 　 　 在 这个 系统 中 ， 设计者 将 在 CAD 中 生成 的 实体 造型 信息 输入 到 虚拟环境 中 进行 实时 的 装配 ， 若 发现 不 合适 的 地方 ， 如 位置 上 发生 干涉 ， 运动学 性能 不 符合要求 等 ， 允许 设计者 在 虚拟环境 中 进行 修改 或 更换 ， 并 将 修改 的 信息 返回 至 CAD 的 图形 数据库 中 。 虚拟环境 采用 VRML 建立 ， 其 交互 方法 也 采用 VRML 编制 。 信息 的 交换 直接 采用 DFX 文件 和 wrl 文件 转换 技术 。 这 一部分 主要 是 通过 视觉效果 ， 并 辅以 听觉 感受 ， 给 设计者 以 感官 认识 ， 如 起重机 的 外形 ， 工作 运动 情况 等 ， 并 使 设计者 在 虚拟环境 中 与 起重机 模型 进行 直接 交互 。 　 完善 设计阶段 　 　 针对 起重机 的 性能 特点 ， 这 一部分 集成 了 有限元 ， 动态 仿真 ， 最优化 设计 ， 可靠性 分析 等 模块 。 给 初步设计 完成 的 起重机 加上 某种 载荷 信息 ， 使 计算机 自动 对此 起重机 结构 进行 应力 ， 应变 ， 疲劳 ， 强度 ， 振动 等 计算 ， 并 将 计算结果 可视化 ， 通常 的 方法 是 使用 颜色 来 显示 不同 大小 数字 的 分布 。 在 虚拟环境 中 ， 我们 还 允许 用户 动态 的 看到 起重机 在 载荷 作用 下 的 工作 情况 ： 当鼠标 移至 结构 上 某 一点 时 ， 动态显示 计算 值 的 大小 ； 若 此处 计算 值 超过 许用 值时 ， 计算机 会 发出 警告 声响 ， 用户 还 能 切开 此处 看 断面 损坏 情况 ； 若 超载 ， 用户 还 能 看到 起重机 损坏 情况 的 动态 过程 。 通过 这些 数字 在 感官 上 的 反映 ， 促使 用户 不断 的 修改 设计 参数 ， 使 起重机 的 设计 质量 达到 最高 。 　 　 总之 ， 这 一部分 能 使 用户 得到 比较完善 的 设计 结果 ， 并且 计算机 会 把 设计 结果 向 后 传给 CAD 系统 ， 自动 生成 二维 图 。 　 加工 制造 阶段 　 　 传统 的 计算机辅助 设计 （ CAD ） 和 计算机辅助 制造 （ CAM ） 之间 有 一个 鸿沟 ， 即 数据 信息 的 传递 问题 ， 用 计算机辅助 工艺 过程 （ CAPP ） 来 填补 这个 鸿沟 有着 诸多困难 。 由于 虚拟 制造 技术 是 以 在 计算机 上 制造 数字化 产品 为 目的 的 一种 软件技术 ， 因此 用此 技术 克服 这个 鸿沟 比较 容易 。 在 这 一部分 可 进行 热加工 工艺模拟 ， 加工过程 仿真 ， 产品 装配 仿真 等 工作 。 　 产品 的 广告 与 漫游 　 　 为了 适应 市场竞争 的 要求 ， 设计 厂家 不 应该 坐等 用户 来 找 自己 ， 而 应该 主动 把 自己 厂家 的 产品 推向市场 。 将 虚拟现实 制作 的 广告 与 网上 漫游 技术 结合 起来 ， 使 用户 通过 网络 能 在 设计 厂家 设计 的 产品 中 漫游 ， 并 能 直接 在 虚拟环境 中 对 产品 的 需求 方面 进行 实时 交互 ， 这样 可 提高 设计 厂家 的 竞争力 ， 为 设计 厂家 谋得 更 多 的 市场份额 。 　 　 虚拟现实 是 一项 新兴 的 技术 ， 它 还有 很多 不 完善 的 地方 ， 如 ： 大规模 数据 的 图形 适时 现实 ； 触觉 感知 的 有效 实现 ； 头戴式 显示 对 人体 健康 的 影响 等等 。 但是 ， 虚拟现实 技术 在 各行各业 中 都 有着 广阔 的 应用 前景 ， 尤其 在 机械工程 行业 中 ， 虚拟现实 技术 将 给 我们 的 机械工程 行业 带来 一个 崭新 的 天地 。 作者简介 ： 魏国 前 　 硕士 。 主要 研究 方向 ： CAD 、 虚拟现实 技术 。 　 范 　 勤 　 副教授 。 主要 研究 方 　 　 　 　 　 向 ： 机械 CADCAPP 、 虚拟现实 技术 及其 在 机械 领域 中 的 应用 。 作者 单位 ： 魏国 前 　 范 　 勤 　 武汉 冶金 科技 大学 机械 工程系 　 湖北 ． 武汉 　 　 收稿 日期