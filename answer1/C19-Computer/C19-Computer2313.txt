计算机 研究 与 发展 JOURNALOFCOMPUTERRESEARCHANDDEVELOPMENT 　 Vol 　 No 　 P 数字 电视接收 机顶盒 的 发展 及其 对 计算技术 的 影响 陈熙霖 　 高 文摘 　 要 ： 机顶盒 STB 是 近年来 迅速 发展 的 新兴 技术 ， 很多 国家 都 将 其 作为 未来 计算机 和 电子 工业 发展 的 重点 文中 讨论 了 用于 数字 电视接收 的 机顶盒 的 主要 技术 、 涉及 的 标准 、 机顶盒 采用 的 操作系统 和 软件结构 ， 并 分析 了 几种 典型 的 机顶盒 结构 同时 还 讨论 了 STB 发展 对 计算技术 的 影响 以及 未来 机顶盒 技术 的 发展趋势 ， 指出 集 电视节目 接收 、 DVD 、 Internet 服务 、 游戏机 为 一体 的 机顶盒 将 是 未来 机顶盒 的 发展 方向 关键词 ： 机顶盒 ， DVB ， DAVIC ， 数字电视 ， DTV 分类号 ： TP ； TN ； TNDEVELOPMENTOFSETTOPBOXFORDIGITALTELEVISIONANDITSEFFECTSONCOMPUTINGTECHNOLOGYCHENXiLin ， GAOWenDepartmentofComputerScienceHarbinInstituteofTechnologyHarbinGAOWenInstituteofComputingTechnology ， ChineseAcademyofSciencesBeijingAbstract ： SettopboxSTBisanemergenttechnologyinrecentyearsandalotofcountriestakeitasthenewgrowingpointoftheircomputersandelectronicindustryHerediscussedarethemajortechnologiesforSTBthestandardusedinSTBoperatingsystemandthestructureofthesoftwareInadditionsometypicalSTBsstructuresarealsogivenAlsopointedoutaretheeffectsoncomputingtechnologyandchipstrendsalongwiththedevelopmentofthedigitaltelevisionreceiverItisthoughtthattheSTBwhichgetsallthefunctionsofTVreceiverDVDInternetserviceandgameplayertogetherwillbepopularinthefutureKeywords ： settopboxDVBDAVICdigitalTVDTV ▲ 　 引 　 　 言 　 　 机顶盒 settopbox 是 广播 媒介 实现 数字化 后 用于 接收端 的 重要 设备 机顶盒 按 其 功能 的 不同 可以 分为 两大类 ， 一类 是 以 看电视 为 目的 的 机顶盒 ， 如 各种 用于 有线电视 收费 的 机顶盒 、 用于 接收 数字 电视节目 的 机顶盒 等 ； 另一类 是 以 电视 为 工具 ， 借助 电视 获取 其他 信息 的 机顶盒 ， 如 WebTV 等 实际上 ， 随着 这 两种 机顶盒 的 发展 ， 在 功能 上 的 界限 将 日益 模糊 早期 的 机顶盒 是 指 放在 电视机 上 可以 由 观众 通过 遥控器 或 按键 控制 的 电视节目 接受 与 转换 装置 这种 装置 的 主要 目的 是 对 某些 收费 节目 的 收看 进行 控制 近年来 随着 广播 电视节目 的 数字化 以及 Internet 的 迅速 普及 ， 机顶盒 的 功能 也 变得 越来越 强 ， 机顶盒 的 作用 从 单一 的 解密 收费 发展 成为 集 解压缩 、 Internet 浏览 、 解密 收费 、 交互 控制 为 一体 的 数字化 装置 由于 这一 领域 可能 成为 未来 年 甚至 更 长时间 计算机 与 消费类 电子产品 的 主流 ， 因此 包括 IBM ， Intel ， Philips ， ST ， Sony ， Microsoft 等 在内 的 很多 大 公司 都 开始 进入 这一 领域 ， 一些 国际 或 地区性 的 组织 也 纷纷 制定 相应 的 标准 和 建议 ［ ～ ］ 　 　 本文 讨论 用于 数字 电视接收 机顶盒 的 关键技术 和 国际 上 这 一 领域 的 最新进展 在 第节 中 介绍 了 目前 主要 的 数字 电视广播 标准 ； 第节 中 讨论 了 相应 的 解调 和 信道 解码 技术 ； 对 信源 解码 即 解压缩 技术 在 实现 上 的 进展 在 第节 中 有所 讨论 ； 随后 在 第节 中 分析 了 目前 常用 的 计费 和 条件 接收 方式 ； 对 机顶盒 而言 ， 软件 与 芯片 一样 重要 ， 数字 电视接收 机顶盒 的 软件系统 都 是 建立 在 某 一 操作系统 基础 上 的 ， 所以 在 第节 中 给出 并 分析 了 一些 机顶盒 中 采用 的 操作系统 和 软件结构 ； 目前 世界 上 一些 主要 的 半导体 制造商 都 纷纷 介入 这一 领域 ， 推出 各自 的 机顶盒 芯片 和 整机 ， 在 第节 中 介绍 了 目前 几种 典型 的 机顶盒 结构 ； 然后 分析 了 这 一 趋势 对 计算技术 的 影响 ； 最后 对 机顶盒 技术 的 发展 方向 进行 了 分析 我们 认为 这一 领域 将 成为 计算机 和 消费类 电子 的 结合点 ， 是 计算机 软硬件 、 通信 和 半导体器件 技术 发展 的 高度 结合 　 数字 广播 的 标准 　 　 在 数字通信 系统 中 协议 是 核心 ， 这里 的 协议 就是 数字 广播 的 标准 从 年 GIGeneralInstrumentCo 公布 DIGICIPHER 开始 ， 先后 产生 了 多个 不同 的 标准 ， 其中 最有 影响 有 DVB ， DSS 以及 大 联盟 DTV 等 ， 其中 DVB 中 针对 卫星广播 、 有线电视 和 地面 广播 等 的 不同 形式 分为 DVBSDVBC 和 DVBT 此外 ， DAVIC 建议 的 规范 对 整个 数字 音视频 系统 的 发展 起到 了 重要 的 参考 作用 按照 国际电联 的 规范 ， 数字电视 系统 由 部分 即 信源 编码 、 业务 复用 与 信道 传输 和 发送 部分 构成 　 　 在 这 几种 标准 中 ， 信源 编码 中 的 视频 都 是 采用 MPEG ［ ］ ， 音频 或者 采用 MUSICAM ［ ］ 或者 采用 AC ［ ］ 业务 复用 采用 的 都 是 MPEG 系统 层 规范 或 其 扩展 形式 ［ ］ ， 这 几种 标准 的 主要 差别 在于 对 信道 和 发送 部分 的 设计 上 ， 它 也 反映 了 这些 国家 的 不同 认识 这 几种 标准 的 对 比如 表图 是 这 几种 标准 的 信源 编码 系统 的 结构 ， 图到 图 是 信道编码 和 传输 系统 的 结构 表 　 几种 数字 广播 标准 比较 　 DVBDSSDTV 视频 编码 MPEGMPEGMPEG 音频 编码 MUSICAMMUSICAMAC 系统 复用 MPEGMPEGMPEG 信道编码 RS 卷积码 RS 卷积码 RS 格状 编码 调制 方式 QPSKQAMOFDMQPSKVSB 图 　 数字视频 广播 中 的 信源 编码 图 　 DVBS 中 规定 的 信道编码 与 传输 系统 图 　 DVBC 中 规定 的 信道编码 与 传输 系统 图 　 DVBT 中 规定 的 信道编码 与 传输 系统 图 　 DTV 中 规定 的 信道编码 与 传输 系统 　 　 除了 上述 使用 范围 较为 广泛 的 标准 之外 ， 还有 一些 其他 变通 的 标准 ， 如 JSAT ， KSAT 等 ， 它们 在 PSI 信息 方面 进行 了 相应 的 改变 我国 目前 已 采用 DVBS 作为 卫星 数字 电视节目 的 标准 ， 在 有线电视 方面 ， 目前 考虑 采用 与 DVBC 类似 的 标准 　 解调 与 信道 解码 　 　 在 数字信号 的 传输 中 ， 调制 方式 的 选择 是 极其重要 的 ， 它 主要 取决于 以下 几 方面 的 因素 ： 　 　 系统 复杂度 　 　 频谱 利用率 　 　 载噪 比 门限 　 　 目前 在 下行 信道 上 普遍 采用 的 调制 方式 包括 QPSK 四相 相移键控 、 QAM 正交 幅度 调制 、 VSB 残留边带 调制 和 OFDM 正交 频分 复用 调制 等 几种 方法 根据 传输 介质 的 差别 ， 目前 在 卫星 传输 的 系统 中 DVBS 和 DSS 都 采用 了 QPSK 调制 从 信道 利用率 、 网络 均衡 以及 不需 训练 序列 ， 可以 盲 均衡 等 方面 考虑 ， 在 有线电视 系统 中 ， DVBC 采用 了 QAM 调制 方式 ， 并 根据 有线 信道 特性 的 不同 ， 可以 分别 采用 QAM 等 不同 方式 而 在 DTV 中 ， 采用 的 是 VSB 调制 对 不同 调制 方式 ， 信道 载噪 比 与 误码率 的 关系 有所 差别 ， 如图所示 实际上 通过 采用 适当 的 信道编码 方式 可以 降低 对载 噪比 的 要求 大约 dB 在 地面 广播 中 ， 欧洲 DVB 利用 在 DAB 中 取得 的 成功经验 ， 依旧 采用 OFDM 方式 ， 美国 DTV 则 还 采用 VSB 方式 采用 VSB 的 优点 是 设备 简单 、 成本低 ， 但 需要 训练 序列 ， 因此 在 发射 端 需要 插入 导频 信号 图 　 不同 调制 方式 下 的 误码率 与 信道 载噪 比 的 关系 　 　 为了 提高 传输 系统 的 可靠性 ， 在 这 几种 传输 系统 中 都 采用 了 一定 的 信道编码 措施 除了 RS 编码 以外 ， 在 信道 条件 较差 的 环境 下 ， 如 卫星 或 地面 传输 系统 中 还 增加 了 卷积 编码 DVBS ， DVBT 或 格状 编码 DTVRS 编码 可以 有效 地 处理 少量 的 突发性 错误 ， 但是 对于 纠正 多个 连续 错 就 难以 胜任 了 因此 在 RS 编码 后 一般 都 加上 卷积 交织 ， 这样 保证 在 信源 编码 和 解码 端 连续 的 位 在 传送 时 不 连续 ， 从而 提高 抗干扰能力 　 　 在 数字 广播 领域 中 ， 除了 下行 之外 ， 上行 已 成为 日益 重要 的 部分 在 无线 传输 系统 如 卫星 和 地面 微波 中 ， 普遍 采用 电话 作为 回传 方式 ， 而且 在 回传 中 多数 采用 存储转发 的 方式 ， 即将 需要 发送 的 信息 存在 机顶盒 内 ， 在 前端 访问 时 再 进行 实际 的 传送 在 有线 传输 系统 中 主要 是 HFC ， 由于 本身 具有 宽带 传输 的 优势 ， 因此 人们 越来越 重视 基于 Cable 的 回传 技术 但是 这种 方式 存在 两 方面 的 困难 ， 首先 是 技术 上 的 ， 由于 上行 信道 存在 很大 的 噪声 ， 消除 这些 干扰 在技术上 具有 相当 的 复杂性 ， 因此 在 一定 程度 上 影响 了 这 一 技术 的 普及 ； 其次 是 非技术性 的 因素 ， 由于 标准 统一 上 的 问题 ， 实际上 目前 至少 存在 着 个 不同 的 标准 ， 即 MCNS 的 DOCSIS ， IEEE 的 和 DAVIC 的 标准 ， 这些 标准 互不 兼容 ， 因而 也 影响 了 高速 回传 系统 的 使用 　 信源 解码 　 　 在 数字视频 广播 中 不论是 DVB ， DSS 还是 DTV 都 无一例外 地 采用 了 MPEG 作为 视频 信源 编码 手段 在 SDTV 这个 层次 上 都 采用 MPEG 中 MPML ， 而 在 HDTV 中则 采用 的 是 MPHL 由于 MPEG 视频 解码 需要 大量 的 计算资源 ， 因此 目前 大多数 的 解决 方法 是 采用 专用 的 解码 芯片 ， 而 在 这些 芯片 的 内部 都 大量 采用 了 并行处理技术 ， 其中 主要 是 流水线 方式 图是 LSI 的 L 结构 ， 它 与 大多数 的 MPEG 解码 芯片 不同 的 是 在 L 中 既 可以 进行 MUSICAM 的 解码 也 可以 进行 AC 的 解码 图是 ST 的 STiA 视频 解码 部分 的 结构图 　 LSIL 解码器 结构图 　 STiAMPEG 解码器 视频 解码 部分 结构 　 　 对 解码 过程 的 控制 主要 有 两类 不同 的 方式 ， 一类 是 通过 微 程序控制 解码 过程 ， 这 类 解码器 在 工作 之前 先 将 微程序 装入 解码器 ， 解码器 在 工作 过程 中 直接 接受 PESES 流 ， 完全 独立 地 完成 视频流 的 分析 、 解码 过程 ， 这 类 解码器 的 典型 代表 如 IBM 的 CD ， 这种 工作 方式 的 优点 是 对 控制器 的 要求 较 低 ， 一旦 启动 整个 系统 工作 之后 只 需要 在 视频 缓冲 不满 的 时候 填充 数据 即可 ； 另一类 视频 解码器 的 工作 是 通过 解码器 与 控制器 共同完成 的 ， 这 类 解码器 的 典型 代表 如 STiA 下面 我们 结合 图 的 结构 分析 解码 过程 中 的 数据流 向 关系 　 　 　 　 在 解码 过程 中 ， 压缩 数据 通过 控制 总线 进入 压缩 数据 队列 ， 之后 进入 位流 缓冲 bitbuffer ， 只要 压缩 数据 队列 尚未 达到 填满 的 阈值 ， 就 可以 不断 送入 码流 数据 在位 流 缓冲 中 的 数据 一方面 被 拷贝到 起始 码 检测器 startcodedetector 中 用于 检测 码流 中 各种 头尾 信息 （ 如 序列 头 、 序列 尾 、 图 组头 、 图像 头等 ） ， 如果 找到 这些 头 、 尾 信息 则 通过 中断 通知 控制器 ， 控制器 根据 对头 信息 的 分析 相应 设置 解码器 的 工作 状态 ， 如 设置 显示 格式 、 启动 新 的 一帧 图像 解码 等 另一方面 ， 位流 缓冲 中 的 数据 不断 移出 进入 变 长 编码 解码器 ， 进行 变 长 解码 后 的 数据 再 进行 运动 补偿 、 反 Z 扫描 、 逆 量化 、 IDCT 等 解码 过程 ， 恢复 后 的 图像 送入 DRAM 中 ， 之后 每 产生 一个 DSYNC 信号 将 导致 相应 图像 的 显示 ， 同时 在 解码 过程 中 每个 DSYNC 信号 又 是 启动 起始 码 检测器 的 启动 信号 这 类 解码器 的 工作 过程 要求 控制器 不断 干预 ， 因此 软件设计 上 ， 要求 对 视频 解码 过程 有 充分 的 理解 　 　 表 给出 了 目前 部分 主流 的 MPEGMPML 的 解码 芯片 表 　 目前 一些 主流 的 MPEGMPML 解码 芯片 公司 型号 IBMCDMCDVCDCDSTBSTSTiSTixxCCubeCLLSILLPhilipsSAATIAV 　 　 数字电视 接收机 中 的 音频 编码方式 和 DVD 非常 相似 ， 美国 选择 了 AC 作为 DTV 中 音频 信源 编码 的 标准 ， 欧洲 则 采用 MUSICAM 作为 DVB 中 音频 编码 的 标准 与 视频 解码 方式 不同 ， 在 音频 解码 上 目前 的 解码 芯片 多 采用 嵌入 的 DSP 内核 来 实现 的 ， 如 IBM 的 CD 、 ST 的 STiA 等 采用 这种 方式 的 解码器 多数 是 将 DSP 的 程序 固化 在 解码器 内 ， 但 有些 解码器 如 IBM 的 CD 的 微程序 则 是 动态 装入 的 ， 这样 的 优点 是 可以 灵活处理 算法 上 的 一些 变化 ， 适应 不同 的 应用 需求 　 　 在 MPEG 音视频 解码 方面 ， 除了 采用 专用 处理 芯片 的 做法 之外 ， 一些 半导体 公司 也 在 积极 考虑 采用 通用 处理器 的 方法 ， 如 TI 利用 其 在 DSP 方面 的 优势 ， 采用 DSP 芯片 AV 处理 MPEG 解码 ， 而 Intel 正在 采用 PentiumII 和 StrongARM 进行 MPEG 软件 解码 的 机顶盒 设计 ， 年初 推出 第一代 基于 PentiumII 的 数字 电视机 接收 机顶盒 由于 直接 进行 MPEG 软件 解码 的 处理器 大约 需要 MFLOPS 以上 的 计算能力 ， 因此 目前 已有 相当 的 通用 CPU 具有 直接 处理 MPEGMPML 音视频 解码 的 能力 　 计费 与 加密 系统 　 　 在 电视广播 中 越来越 多地 采用 了 加密 处理 技术 ， 这是 由于 数字编码 技术 更 容易 实现 加密 和 解密 图是 DVB 中 收费 管理 的 概念性 结构 ， 在 这种 管理模式 中 ， 网络管理 中心 通过 向 接收端 授权 来 控制 其 接收 在 DVB 中 通过 采用 公共 的 加扰 算法 和 各自 不同 的 加密算法 ， 以 同时 满足 对 设备 的 互换性 和 对 接收 保密性 的 要求 为了 保证 加密 的 可靠性 ， 用于 解扰 的 控制 字 是 经常 改变 的 ， 通常 在 秒 以内 至少 要 发生 一次 变化 这种 加密 机制 可以 实现 对 用户 的 按 月 收费 管理 和 按 节目 收费 管理 图 　 DVB 中 条件 接收 的 概念性 结构 　 　 在 DVB 系统 中 可以 在 压缩 后 或 复用 层上 进行 加扰 scramble ， 但 不能 同时 在 这 两个 层次 上 进行 操作 加扰 后 的 解扰 控制 字 通过 加密算法 加密 后 利用 ECM 进行 传送 　 机顶盒 的 操作系统 及 软件结构 　 　 机顶盒 是 到 目前为止 除 计算机 以外 的 电子 类产品 中 软件 含量 最大 的 产品 之一 ， 实际上 它 是 一个 专用化 的 带有 通信接口 的 计算机系统 ， 因此 和 其他 所有 计算机系统 一样 ， 操作系统 是 必不可少 的 同时 ， 由于 面向 家用 的 产品 在 价格 、 产量 上 与 普通 计算机系统 的 差别 又 决定 了 这里 的 操作系统 将 不同于 普通 计算机系统 这 两类 操作系统 的 比较 如表 　 　 　 　 　 　 表 　 机顶盒 OS 与 通用 计算机 OS 比较 　 机顶盒 OS 计算机 OS 实时性 很 好好 　 扩展性 差 　 好 　 稳定性 很 好 较 好 开放性 差 　 好 　 　 　 在 机顶盒 上 采用 的 操作系统 都 是 实时 嵌入式操作系统 ， 目前 主要 有 两类 不同 的 方式 ， 一类 是 采用 通用 的 由 第方 提供 的 操作系统 ， 如 VRTXMicrotec ， pSOSIntegratedSystemsInc ， OSMicrowareSystemsCo ， VxWorksWindRiverSystemsInc ， 甚至 WinCEMicrosoft 等 现成 的 操作系统 采用 这种 做法 实现 机顶盒 的 如 IBM ， Philips 以及 LSI ， 等等 图是 Philips 机顶盒 的 软件结构 采用 这种 方式 的 优点 是 系统 具有 相对 较强 的 开放性 ， 可以 比较 方便 地 加入 新 的 应用 目前 的 趋势 是 将 应用层 软件 建立 在 中间件 middleware 的 基础 上 这 几年 在 中间件 方面 ， OpenTVPowerTV 以及 NCI 等 成为 中间件 的 主流 ， 这些 中间件 的 一个 共同 特点 是 支持 DAVIC 建议 中 的 大多数 功能 机顶盒 作为 未来 计算技术 应用 的 重要 领域 ， Java 的 跨平台 优势 是 不言而喻 的 ， 因此 Java 也 不会 放弃 在 这 一 领域 的 潜在 应用 ， SUN 将 在 年 月 公布 其为 这种 中间件 应用 而 开发 的 JavaTVAPI ， 基于 Java 的 系统软件 结构 如图 图 　 Philips 机顶盒 的 软件 结构图 　 基于 Java 的 机顶盒 软件结构 　 　 采用 这种 明确 的 层次结构 ， 使得 整个 系统 的 软件结构 清晰 ， 具有 较 好 的 扩展性 ， 并 可以 提供 除 电视节目 收视 之外 更 多 的 其他 功能 ， 同时 便于 应用软件 的 移植 但 这样 的 缺点 也 是 明显 的 ， 最终用户 必须 为 软件 支付 较 高 的 费用 ， 而 在 这些 软件 所 提供 的 功能 中有 很多 并非 用户 所 需要 的 ， 例如 在 单向 有线网 的 条件 下 ， 用户 并不需要 任何 基于 有线网 的 回传 功能 　 　 而 实际上 由于 消费类 产品 功能 较为 单一 ， 因此 完全 可以 采用 相对 简单 的 实时 OS 微内核 ， 在 微内核 中 提供 包括 存储管理 、 进程 管理 、 中断 管理 以及 设备 管理 等 必要 的 功能 ， 并 在 此基础 上 提供 支持 特定 解码 任务 的 API ， 如 解码 、 解 复用 等 功能 ， 最后 将 应用软件 建立 在 微内核 和 解码 API 的 基础 上图 是 具有 这 类 微内核 的 基于 ST 的 DVB 接收机 的 典型 软件 结构图 　 基于 ST 的 机顶盒 软件结构 　 几种 典型 的 机顶盒 结构 　 　 这 一节 给出 几种 典型 的 机顶盒 设计 我们 首先 考虑 IBM 建议 的 一种 设计 ， 如图所示 ， 在 IBM 建议 的 设计 中 提供 了 用于 控制 的 CPUPowerPCGC 、 用于 MPEG 音视频 解码 的 IBMCD 以及 用于 外围 接口 的 IBMSTBP ， 其中 　 STBP 是 专为 STB 应用 设计 的 接口 芯片 ， 其 功能 包括 通用 IO 接口 、 PWM 、 IC 、 SmartCard 以及 IR 等 ， 中央处理器 PowerPCGC 可以 对 STBP 按 存储器 方式 寻址 在 IBM 推荐 的 设计 中 不 包括 信道 解码 部分 ， 所以 需要 根据 应用 的 要求 采用 其他 信道 解码 模块 图 　 IBM 建议 的 机顶盒 信源 处理 部分 结构 　 　 图是 Philips 机顶盒 的 结构 在 该 结构 基础 上 ， Philips 在 Cable 的 信道 解码 方面 将 TDA ， TDA 和 SAA 集成 在 一块 芯片 上 构成 单片 的 信道 解码 芯片 TDA ， 同时 在 回传 信道 上 提供 TDAQPSK 调制 芯片 在 信源 解码 上 ， Philips 将 SAA ， SAA 和 PR 集成 构成 SAA ， 完成 单片 解 复用 和 控制器 的 功能 ， 同时 将 MPEG 音视频 解码 芯片 SAA 和 视频 编码 芯片 SAA 集成 构成 SAA ， 并 最终 将 全部 信源 处理 部分 集成 在 单片 上 构成 SAA 图 　 Philips 机顶盒 结构 　 　 图是 ST 建议 的 典型 结构 与 ST 结构 类似 的 还有 LSI 等 ， 在 LSI 生产 的 芯片 中 采用 单片 L 与 STV 功能 类似 实现 卫星 信道 解码 ， L 与 ST 功能 类似 处理 系统控制 和 TS 流 解码 ， L 与 STiA 功能 类似 进行 MPEG 音视频 码流 的 解码 对于 采用 QAM 调制 的 Cable 数字 节目 LSI 则 采用 L 与 STV 功能 类似 进行 QAM 解调 和 FEC 处理 目前 ST 已经 推出 了 集 ST ， STi 和 STV 功能 为 一体 的 STiXX 系列 芯片 ， 实现 了 单片 的 后 端系统 图 　 ST 建议 的 机顶盒 结构 　 　 图是 Intel 设计 的 机顶盒 Whiteriver 的 主要 部分 ， 与 前面 采用 专用 芯片 的 思路 不同 ， 借助 其 在 CPU 上 的 优势 ， Intel 的 实现 策略 是 以 PentiumII 为 核心 ， 大量 采用 软件 实现 与 IBM 类似 ， Intel 在 信道 部分 采用 第方 的 产品 ， 在 信源 部分 通过 引入 两块 交换 芯片 MGCHMPEGGraphicUMAVideoAudioControlHub 和 TCHTranportIOCAControlHub 完成 对 数据流 向 的 控制 图 　 IntelWhiteriver 机顶盒 的 信源 处理 部分 结构 　 机顶盒 对 计算技术 的 影响 　 　 从 上述 几种 典型 的 芯片 和 机顶盒 结构 中 不难看出 机顶盒 的 发展 已 对 计算技术 和 半导体技术 产生 了 深刻 的 影响 　 　 首先 在 计算 模型 方面 ， 由于 在 机顶盒 中 大量 涉及 音 、 视频 的 解码 操作 ， 其本质 是 典型 的 数字 信号处理 运算 ， 由于 这些 操作 的 计算 量 很大 ， 而 实际 芯片 又 受到 主频 的 限制 ， 因此 并行 技术 是 解决 这一 问题 的 唯一 途径 而且 在 这些 操作 中 运算 模式 规整 ， 因此 可以 充分发挥 并行处理 的 优越性 实际上 所有 的 MPEG 视音频 解码器 都 大量 地 采用 了 并行处理技术 ， 这里 主要 的 并行 手段 是 处理过程 中 的 流水线 ， 如 第节 中 讨论 的 视频 解码 过程 就是 这种 流水线 的 典型 　 　 其次 由于 机顶盒 类 的 产品 对 体积 、 成本 、 可靠性 等 方面 非常 敏感 ， 因此 几乎 所有 生产 这 类 芯片 的 IC 制造商 都 在 提高 集成度 上 下功夫 ， 这样 大大 地 促进 了 单片系统 systemonchip 技术 的 发展 ， 这些 单片系统 一般 都 集成 了 包括 RISC 处理器 、 MPEG 音视频 解码器 等 在内 的 功能模块 ， 同时 还 提供 了 大量 专用 的 外设 接口 除了 前面 提到 的 ST 生产 的 STiXX 系列 外 ， NEC 从 年初 开始 推出 与 STiXX 功能 相当 的 uPD 芯片 ， 而 这 一 芯片 在 图形 功能 上 更为 强大 就 连 IBM 也 在 将 图 中 的 信源 解码 和 视频 编码 部分 集成 构成 其新 的 芯片 STB 由此可见 ， 机顶盒 技术 大大 地 促进 了 单片系统 的 发展 　 　 不仅如此 ， 这些 单片系统 芯片 的 研制 和 生产 还 大大 地 刺激 了 数字 、 模拟 混合 处理 芯片 的 发展 典型 的 是 在 这些 芯片 中 同时 包含 了 处理 数字 计算 的 解码 和 控制 模块 ， 以及 进行 DA 转换 的 视频 编码 模块 ， 如 STiXX ， STB 以及 uPD 等 芯片 目前 ， 随着 应用软件 系统 的 不断完善 ， 这些 芯片 在 计算 和 图形 方面 的 能力 也 大大提高 ， 从 最初 的 单纯 解码 ， 只 支持 单个 运动 图像 平面 加 一个 bpp 的 图形 平面 ， 发展 到 bpp 、 多达 个视 平面 包括 背景 、 静止图像 、 OSD 、 光标 和 解码 运动 图像 平面 、 同时 支持 子 图像 解码 、 动态 缩放 等 功能 　 　 此外 ， 其他 一些 技术 如片 内 倍频 大大 得益于 集成 锁相环 、 分数 分频 等 技术 的 成熟 ， 采用 这些 技术 可以 只 在 片外 提供 一个 较 低 频率 的 时钟 源 ， 直接 产生 片内 所 需 的 各种 不同 频率 的 时钟 以 STiA 为例 ， 仅 从 片外 提供 一个 MHz 的 时钟 ， 就 可以 产生 包括 高达 MHz 频率 在内 的 多个 不同 时钟 频率 这种 技术 的 优点 是 方便 了 硬件 系统 的 设计 和 加工 ， 同时 大大提高 了 系统 的 抗干扰能力 ， 并 减少 了 系统 对外 的 辐射 　 Web 浏览 与 其他 功能 扩展 　 　 与 用于 数字 电视接收 的 机顶盒 目的 不同 ， 另有 一大 类 机顶盒 的 主要 目的 是 进行 Web 的 浏览 ， 如 WebTV ， 这 类 机顶盒 的 价格不菲 实际上 传统 的 用于 收看 模拟 电视 的 机顶盒 由于 在 计算 和 显示 上 的 能力 很 弱 ， 因此 不能 胜任 进行 Web 浏览 的 需要 由于 目前 用于 数字 电视节目 接收 的 机顶盒 至少 都 有 一个 具有 较强 能力 的 处理器 ， 通常 计算能力 都 在 MIPS 左右 ， 同时 其 OSD 的 显示 能力 也 已 达到 色 或 更 高 ， 因此 在 计算 和 显示 上 已 基本 能够 满足 进一步 功能 扩展 的 要求 ， 完全 具备 了 进行 Web 浏览 的 条件 实际上 WebTV 类 的 机顶盒 也 在 逐步 扩展 其 在 电视 收视 方面 的 功能 ， 如 在 Microsoft 新近 推出 的 WebTV 中 就 已 加入 了 数字 电视接收 的 功能 值得注意 的 是 ， 新一代 的 机顶盒 除了 以往 的 接口 之外 多数 还 要求 具有 IEEE ， USB ， Modem 等 接口 ， 因此 用于 接收 电视节目 的 机顶盒 在 Internet 方面 的 扩展 是 其 今后 发展 的 重要 方向 此外 由于 传统 上 的 电视 占有 很 宽 的 信道 资源 ， 因此 基于 这种 宽带 通信 的 数据服务 包括 利用 Cable 上网 、 进行 个人 通信 都 将 是 机顶盒 重要 的 功能 扩展 　 结 　 　 论 　 　 机顶盒 是 计算机 和 消费类 电子 技术 发展 的 必然结果 ， 同时 也 将 反过来 促进 上述 技术 的 进步 由于 计算能力 和 显示 能力 的 提高 ， 机顶盒 还 可以 方便 地 实现 游戏机 等 功能 ， 因此 未来 机顶盒 必然 会 成为 融 数字 电视接收 、 DVD 播放 、 Web 浏览 和 游戏机 功能 于 一体 的 设备 ■ 基金项目 ： 本 课题 得到 “ 九五 ” 攻关项目 “ MPEG 实现 技术 ” 的 资助 项目编号 B 作者简介 ： 陈熙霖 ， 男 ， 年月生 ， 博士 ， 副教授 ， 主要 研究 领域 为 图像 理解 、 模式识别 与 图像处理 、 多 模式 人机接口 、 数据压缩 系统 以及 虚拟现实 等 　 　 　 　 　 高文 ， 男 ， 年月生 ， 教授 ， 博士生 导师 ， 现任 中国科学院计算技术研究所 所长 ， 国家 “ 八 六三 ” 计划 智能 计算机 主题 专家组 组长 首席专家 ， 联想 中央研究院 院长 ， 主要 研究 领域 为 人工智能 应用 和 多媒体技术 ， 侧重于 计算机 视觉 、 模式识别 与 图像处理 、 多媒体 数据压缩 、 多 模式 接口 以及 虚拟现实 等 作者 单位 ： 陈熙霖 （ 哈尔滨工业大学 计算机系 　 哈尔滨 　 　 　 　 　 　 高文 （ 哈尔滨工业大学 计算机系 　 哈尔滨 　 　 中国科学院计算技术研究所 　 北京 　 ） 参考文献 ： ［ ］ DigitalAudioVisualCouncilDAVICSpecificationPart ～ Part ［ ］ ENDigitalBroadcastingSystemsforTelevisionSoundandDataServicesFramingStructureChannelCodingandModulationforGHzSatelliteServices ［ ］ ENVDigitalBroadcastingSystemsforTelevisionSoundandDataServicesFramingStructureChannelCodingandModulationforCableSystems ［ ］ ENDigitalBroadcastingSystemsforTelevisionSoundandDataServicesSpecificationforServiceInformationSIinDigitalVideoBroadcastingDVBSystems ［ ］ ENFramingStructureChannelCodingandModulationforDigitalTerrestrialTelevisionDVBT ［ ］ AdvancedTelevisionSystemsCommitteeATSCDigitalTelevisionStandard ［ ］ ISOIECCodingofMovingPicturesandAssociatedAudio — PartVideo ［ ］ ISOIECCodingofMovingPicturesandAssociatedAudio — PartAudio ［ ］ AdvancedTelevisionSystemsCommitteeDigitalAudioCompressionStandardAC ［ ］ ISOIECCodingofMovingPicturesandAssociatedAudio — PartSystems 收稿 日期 ： 修稿 日期 ：