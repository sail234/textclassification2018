计算机 应用 研究 APPLICATIONRESEARCHOFCOMPUTERSVolNoP 关系数据库 的 语义 可视化 表达 王 长缨 摘 　 要 ： 关系数据库 具有 简单 、 单一 的 数据结构 和 成熟 的 数学 理论 基础 ， 因而 得到 广泛 的 应用 。 但是 ， 这种 数据结构 的 简单 、 单一性 是 以 丢失 大量 数据 语义 信息 为 代价 的 ， 针对 关系数据库 语义 表达 的 不足 ， 提出 一种 建立 在 基本 关系 数据结构 基础 上 的 可视化 语义 表达 的 方法 ， 以 实现 对 关系数据库 的 语义 表达 的 扩充 。 关键词 ： 关系数据库 语义 可视化 　 引言 　 　 关系 数据模型 具有 严格 的 数学 基础 、 较 高 的 抽象 级别 ， 特别 是 它 的 简单 、 单一 的 数据结构 便于 用户 的 理解 和 使用 ， 也 有利于 机器 的 实现 与 软件 管理 。 因此 ， 关系 型 的 DBMS 成为 当今 数据库系统 的 主流 ， 流行 和 新 开发 的 DBMS 和 几乎 所有 的 分布式 DBMS 都 是 关系 型 的 。 但 过于 简单 的 数据结构 描述 复杂 的 现实 世界 存在 着 明显 的 不足 ， 这 主要 表现 在 不能 很 好 地面 向 现实 和 语义 的 贫乏 。 就 语义 表达 方面 ， 主要 存在 以下 不足 ： 　 　 ① 不能 以 自然 的 方法 表示 实体 间 的 联系 。 关系 数据模型 是 通过 表示 实体 联系 的 关系 或 公共 属性 来 表示 实体 间 的 联系 的 。 因而 ， 对于 最 基本 的 实体 间 的 联系 的 描述 不是 显式 的 ， 而 对 公共 属性 的 定义 也 不能 从 数据结构 中 反映 出来 。 单从 这种 简单 、 单一 的 数据结构 上 不能 区分 出 哪些 是 表示 实体 的 关系 ， 哪些 是 表示 实体 间 的 联系 的 关系 。 并且 ， 还 缺乏 对 实体 间 的 联系 的 性质 的 描述 。 具有 不同 语义 的 实体 间 的 联系 被 不加 区别 的 用 相同 的 数据结构 来 描述 。 　 　 ② 关系 数据模型 的 记录 的 属性 间 的 联系 和 属性 在 关系 中 的 语义 地位 也 无法 在 关系 数据结构 中 表示 出来 。 即 ， 若不加 说明 ， 从 二维 表 形式 的 关系 数据结构 中 无法 得到 属性 间 的 依赖 关系 ， 甚至 不能 确定 关系 的 主键 。 另一方面 ， 受限于 第一 范式 ， 关系 数据模型 还 缺乏 对 属性 本身 性质 的 描述 ， 如 属性 的 值域 的 限制 、 属性 的 属性 等 。 　 　 ③ 数据结构 本身 不能 很 好 地 描述 数据 约束 和 数据完整性 。 　 　 针对 关系 数据模型 的 语义 描述 问题 ， 国内外 从 年代 中期 起 先后 提出 了 几十种 语义 数据模型 ， 具有 代表性 的 有 ER 模型 、 RMT 模型 、 面向对象 的 数据模型 、 基于 逻辑 的 模型 等 。 这些 新 的 模型 研究 主要 遵循 两条 途径 ： 一是 对 关系 数据模型 改造 、 扩充 。 这样 虽然 能 较 好 地 扩充 语义 表达能力 ， 但 与 计算机 逻辑 实现 间 还 缺乏 自然 、 直接 的 联系 。 比如 ER 模型 ， 虽然 可较 好 地 模拟 现实 世界 ， 但 在 转换成 面向 机器 的 逻辑 形式 的 时候 仍 存在 许多 问题 如 语义 的 丢失 等 ； 另 一条 途径 则 建立 新 的 数据模型 。 但 存在 着 与 现行 的 关系 数据结构 兼容 的 问题 ， 毕竟 更新 数据结构 代价 太 大 。 并且 新 的 数据结构 往往 更 复杂 ， 增加 了 实现 的 难度 和 系统资源 开销 。 此外 ， 所有 新 的 模型 都 未 涉及 计算机 智能 支持 下 的 支持 语义 表达 的 数据库 概念设计 。 上述 这些 问题 是 许多 模型 很少 在 实际 系统 中 得到 应用 的 重要 原因 。 鉴于 数据 资源 建设 的 工作量 十分 巨大 ， 今后 数据库 应用 系统 的 开发 工作 将 主要 由 各 领域 的 专业 人员 承担 ， 这 就 要求 新 的 数据模型 应当 更多地 面向用户 、 面向用户 的 直接 开发 。 为此 ， 数据库系统 必须 在 语义 层 进行 改进 。 对 关系数据库 的 语义 表达 的 扩充 本文 提出 下列 思路 ： 　 　 ① 在 数据结构 上 兼容 传统 的 关系数据库 ， 使得 大量 原有 的 数据 资源 得到 利用 ， 又 允许 通过 添加 数据 的 语义 ， 提高 数据 的 应用 价值 。 　 　 ② 建立 以 关系 数据结构 为 逻辑 存储 基础 的 数据 语义 框架 ， 并 在 数据库 前端 以 可视化 的 形式 提供 给 用户 。 对 用户 完全 屏蔽 语义 的 逻辑 结构 和 管理 细节 ， 即 利用计算机 本身 辅助 解决 形式化 问题 。 　 　 下面 就 关系数据库 的 语义 可视化 表达 中 的 主要 问题 进行 探讨 。 　 数据库 的 语义 信息 　 现实 世界 的 领域 语义 信息 　 　 若 将 现实 世界 看成 由 实体 组成 ， 则 我们 所 关心 的 与 实体 有关 的 领域 语义 有 ： 　 　 实体 描述 的 语义 　 　 包括 实体 的 标识 、 类型 、 属性 、 功能 、 结构 、 状态 等 语义 信息 。 　 　 实体 操作 规律 的 语义 　 　 包括 施加 在 实体 上 的 各种 操作 集合 的 定义 。 　 　 实体 内部 和 实体 间 联系 的 语义 包括 　 　 层次 联系 、 同属 联系 、 角色 联系 、 因果 联系 和 逻辑 蕴涵 联系 等 。 　 　 实体 间 联系 的 约束 的 语义 　 　 包括 属于 结构 约束 的 基数 比 约束 和 参与 约束 等 的 语义 定义 。 　 　 现实 世界 领域 的 语义 对 设计 、 应用 数据库 解决 现实 世界 问题 具有 重要 意义 。 需要 指出 的 是 ， 我们 不 可能 用 有限 的 形式化 手段 表达 全部 的 现实 世界 的 如此 丰富 的 语义 。 因此 ， 对 现实 世界 领域 的 语义 的 应用 与 提取 应 遵循 下列 方法 ： 　 　 ① 根据 需要 解决 的 问题 进行 现实 世界 领域 的 语义 的 挖掘 、 筛选 和 归类 。 　 　 ② 通过 预先 的 分类 定义 和 计算机辅助 手段 进行 现实 世界 领域 的 语义 的 描述 。 　 　 ③ 对 现实 世界 领域 的 语义 进行 抽象 、 归并 、 分类 等 预处理 后 形式 化成 某种 数据结构 的 存储 。 概念设计 和 模式 的 计算机 逻辑 实现 中 的 语义 问题 和 关系 数据模型 的 语义 表达 　 　 关系 数据库系统 的 概念设计 阶段 通常 采用 ER 模型 作为 设计 工具 。 作为 主要 的 面向 现实 而 超脱 了 具体 的 DBMS 的 ER 模型 虽然 比 传统 的 数据模型 更 自然 地 模拟 现实 世界 ， 但 仍然 存在 以下 问题 ： 　 　 ① 语义 描述 的 不 完整 。 尽管 不 可能 也 没 必要 要求 一个 数据模型 表达 所有 的 数据 语义 ， 但 ER 模型 显然 未能 描述 一些 重要 的 、 有 应用 意义 的 数据 语义 ， 如 数据 随 时间 、 空间 的 变化 的 概念 、 属性 、 状态 、 归属 等 语义 。 　 　 ② ER 模型 及 大多数 语义 模型 没有 提供 完整 的 、 可 自定义 的 语义 描述 表达 框架 ， 也 没有 专门 的 语义 管理机构 。 所以 ， ER 模型 所 表达 的 语义 是 无 分类 的 、 零散 的 、 无意识 的 。 　 　 ③ ER 模型 及 大多数 语义 模型 所 携带 的 许多 语义 信息 在 转换 为 关系 数据模型 时 丢失 。 如 ： 实体 和 联系 都 用 同 一种 数据结构 来 表示 而 不能 区别 ， 实体 变化 导致 的 联系 及其 它 实体 和 联系 的 变化 在 关系 数据模型 也 不能 得到 反映 ， 甚至 实体 的 属性 间 的 关系 也 不能 显式 地 表示 。 造成 这种 语义 丢失 的 原因 是 关系 数据模型 的 数据结构 过于 简单 ， 它 的 提出 一 开始 就 不是 面向 语义 表达 面向 现实 的 ， 而是 面向 数据 实现 的 。 所以 ， 就 关系 数据模型 本身 的 简单 性 而言 ， 必然 导致 语义 表达能力 的 不足 。 但是 ， 若 增加 一个 如 可视化 语义 前端 的 抽象 层 ， 则 有 可能 直观 地 表示 更 多 、 更 丰富 的 语义 信息 了 。 　 基于 关系 数据模型 的 语义 　 　 数据 的 完整性 约束 　 　 包括 域 完整性 约束 Domainintegrityconstraint ； 实体 完整性 约束 Entityintegrityconstraint ； 引用 完整性 约束 Referentialintegrityconstraint 。 　 　 关系 模式 设计 的 语义 　 　 主要 有 属性 间 的 依赖 关系 的 语义 ， 包括 函数 依赖 Functionaldependency ； 多值 依赖 Multivalueddependency ； 连接 依赖 Joindependency 等 。 　 　 由此可见 ， 对 关系 数据模型 的 语义 表达 的 扩充 ， 应 着重 解决 两 方面 的 问题 ： 一是 建立 一种 机制 ， 使 其 能够 尽可能 多地 保留 概念设计 中 的 语义 ； 二是 建立 一种 框架 满足用户 对 更 多 语义 的 扩充 。 　 关系数据库 的 语义 可视化 表达 的 结构 和 工作 原理 　 带 语义 抽象 的 数据 分层 视图 　 　 ANSISPARC 模型 规定 了 三层 后 又 被 扩充 到 四层 和 五层 数据 视图 ， 但 这些 数据 视图 对 语义 这 类 特殊 的 数据 没有 专门 的 表达 和 说明 。 从 各级 数据模型 的 角度看 ， 关系数据库 的 语义 表达 主要 涉及 数据 视图 中 的 模式 、 子模式 、 内部 模式 。 所以 ， 作为 关系数据库 的 语义 扩充 ， 必须 在 以上 三级 视图 中 抽象 出 相应 的 语义 视图 ， 这 就是 带 语义 抽象 的 数据 分层 视图 ， 如图 。 　 关系数据库 的 语义 可视化 表达 的 结构 原理 　 　 DBMS 的 语义 管理 扩充 　 　 对 DBMS 进行 语义 管理 扩充 ， 并 支持 在 模式 设计 中 的 语义 定义 活动 、 子模式 设计 中 的 语义 可视化 表达 、 支持 和 维护 对应 于 内部 模式 的 内部 语义 存储 。 DBMS 的 语义 管理 扩充 必须 实现 应用 前端 、 子模式 的 语义 表示 、 模式 的 语义 定义 和 内部 模式 的 内部 语义 存储 间 的 映射 ， 提供 基于 语义 信息 的 数据 查询 和 数据库 维护 的 操作 。 　 　 模式 语义 框架 可视化 语义 定义 层 　 　 传统 的 数据库 概念设计 及 模式 的 计算机 逻辑 实现 是 由 手工 完成 的 ， 这样 既 不利于 提高 数据库 概念设计 的 效率 和 质量 ， 也 不利于 专业 人员 独立 地 进行 数据库 概念设计 ， 亦 不 存在 系统 的 语义 定义 和 管理 。 所以 ， 将 模式 层 的 语义 定义 和 模式 设计 在 一个 可视化 的 模式 语义 设计 定义 界面 上 同时 完成 。 该 模式 设计 界面 的 描述 如下 ： 　 　 ① 基于 窗体 Form 的 可视化 模式 语义 定义 模块 　 　 DBMS 的 语义 管理 扩充 提供 一个 承载 可视化 模式 语义 定义 元素 的 窗体 。 该 窗体 本身 提供 对 可视化 模式 语义 定义 元素 的 增 、 删 、 改等 管理 ， 提供 并 管理 着 一个 可 扩充 的 基本 类型 实体 元素 和 语义 元素 库 。 　 　 ② 基本 类型 实体 元素 和 语义 元素 　 　 对 模式 设计 中 涉及 的 实体 、 实体 属性 、 实体 间 的 联系 等 常用 类型 和 关于 实体 的 常用 语义 如 实体 的 标识 、 类型 、 属性 、 功能 、 结构 、 状态 ， 实体 内部 和 实体 间 联系 及 约束 ， 实体 操作 等 的 语义 建立 相应 的 基本 元素 图素 。 通过 在 窗体 上 设置 、 定义 、 操作 这些 基本 元素 实现 模式 设计 和 相应 语义 的 表达 定义 。 提供 开放 的 语义 框架 ， 允许 用户 自定义 可视化 的 语义 图素 。 　 　 子模式 语义 表达 　 　 ① 在 基于 窗体 的 可视化 模式 语义 定义 模块 中 ， 直接 定义 子模式 和 相应 的 语义 ， 并 生成 新 的 子模式 窗体 。 　 　 ② 在 子模式 窗体 中 进行 子模式 的 调整 ， 子模式 语义 的 修订 ， 维护 。 DBMS 的 语义 管理 扩充 模块 维护 着 子模式 语义 和 模式 中 的 语义 定义 的 一致性 。 　 　 应用层 语义 的 可视化 表达 和 操作 　 　 应用层 语义 的 可视化 表达 通过 一个 基于 窗体 的 可视化 语义 查询 前端 实现 。 该 可视化 语义 查询 前端 包括 ： ① 对 SQL 进行 针对 语义 查询 的 扩充 以 构成 语义 结构化 查询语言 SSQLSemanticStructuralQueryLanguage 。 SSQL 兼容 标准 的 SQL ， 同时 提供 以 语义 为 条件 的 查询 。 ② 基于 语义 的 操作 。 由于 大量 的 直观 语义 表达 ， 因而 可以 实现 基于 语义 的 智能 推理 、 查询 和 数据 引用 等 操作 。 　 　 内部 语义 存储 　 　 对 可视化 语义 的 数据结构 ， 首先 应 考虑 的 是 语义 的 形式化 分类 ， 如 ： 类型 描述 语义 、 属性 描述 语义 、 规则 描述 语义 等 。 对 不同 类型 的 语义 自动 生成 相应 的 关系 来 存储 语义 。 DBMS 的 语义 管理 扩充 模块 自动 管理 着 模式 的 语义 定义 、 增 、 删 、 改与 内部 语义 存储 的 映射 。 　 结束语 　 　 增强 关系数据库 的 语义 表达能力 对 增进 关系数据库 的 设计 和 应用 是 有 意义 的 ， 关系数据库 的 语义 可视化 表达 仅 是 这方面 工作 的 一种 尝试 。 语义 的 可视化 表达 在 保持 了 简单 、 单一 的 基本 关系 数据结构 的 基础 上 ， 增加 了 一个 语义 表达 层 ， 即 通过 一 映射 机制 将 丰富 的 语义 信息 形式化 并 保存 在 相对 简单 的 数据结构 中 。 另外 ， 语义 的 可视化 语义 表达 有助于 对 基本 关系 数据结构 的 智能化 管理 ， 使得 一般 情况 下 开发人员 和 使用 人员 不必 关心 底层 数据结构 ， 通过 一套 智能化 管理工具 管理 、 维护 数据库 模式 和 基本 关系 数据结构 的 映射 ， 这 实际上 也 有助于 面向 领域 专业 人员 的 数据库 概念设计 。 　 　 关系数据库 将 继续 是 未来 数据库 发展 的 基础 。 结合 面向对象 等 技术 ， 将 语义 数据 及其 操作 作为 对象 封装 ， 将 给 用户 开发人员 提供 更加 灵活 和 更加 透明 的 开发 应用 平台 。 另外 ， 语义 的 可视化 实现 也 将 在 分布式系统 、 Internet 数据 资源 开发 中 得到 应用 。 王 长缨 福建林学院 计算机系 南平 参考文献 AdamNRAFormbasedNaturalLanguageFrondendtoaCIMDatabaseIEEETransactionsonKnowledgeandDataEngineeringVolIssp ～ LenkeNObjectorientedDatabaseSystemsastheBasisforMachinereadableLexiconsKONVENSVerarbeitun 陈滢 徐宏柄 王能斌 WWW 分布 数据源 研究 数据模型 和 查询语言 软件 学报 石详 滨 张斌 于戈 郑 怀远 基于 模式 集成 语义 的 查询处理 软件 学报 刘 惟一 基于 语义 贴近 度 的 模糊 数据 依赖 计算机 学报 王能斌 数据库系统 北京 ： 电子 工业 出版社 第一版 收稿 日期 ： 年月日