计算机 研究 与 发展 JOURNALOFCOMPUTERRESEARCHANDDEVELOPMENT 年 第卷 第期 VolNo 数字电路 并发 差错 检测 的 新 概念 江建慧 　 闵应骅 　 施鸿宝 摘 　 要 　 并发 差错 检测 是 提高 数字电路 与 系统 可信性 的 重要 技术 文中 建立 了 一种 基本 并发 差错 检测 电路 的 结构 模型 ， 它 由 实现 电路 基本功能 的 基本 功能模块 和 实现 电路 并发 差错 检测 功能 的 检测器 两 部分 级联 所 构成 ； 提出 了 表征 基于 部分 自 校验 概念 的 并发 差错 检测 机制 的 一组 新 概念 ： 精简 强 故障 保险 、 精简 强 变量 分离 、 精简 强自 校验 、 k 容错 精简 强 故障 保险 、 k 容错 精简 强 变量 分离 和 k 容错 精简 强自 校验 ， 并 研究 了 数字电路 并发 差错 检测 的 主要 概念 之间 的 关系 ； 证明 了 用 基本 功能模块 与 检测器 互连 ， 以 构造 具有 不同 并发 差错 检测 特性 的 基本 电路 所 需 满足 的 条件 　 　 关键词 　 部分 自 校验 ， 精简 强 故障 保险 ， 精简 强 变量 分离 ， k 容错 精简 强 故障 保险 ， k 容错 精简 强 变量 分离 ， 电路 互连 中图法 分类号 　 TP ； TPNEWCONCEPTSOFCONCURRENTERRORDETECTIONFORDIGITALCIRCUITSJIANGJianHuiSHIHongBaoInstituteofComputingTechnologyShanghaiTiedaoUniversityShanghaiMINYingHuaJIANGJianHuiCADLaboratoryInstituteofComputingTechnologyChineseAcademyofSciencesBeijingAbstract 　 ConcurrenterrordetectionisimportantforimprovingdependabilityofdigitalcircuitsandsystemsInthispaperastructuremoduleforbasicconcurrenterrordetectioncircuitisbuiltItisconstructedbyabasicfunctionalmoduleandadetectorSeveralnewconceptsreducedstronglyfaultsecurereducedstronglyvariabledisjointreducedstronglyselfcheckingkfaulttolerantreducedstronglyfaultsecurekfaulttolerantreducedstronglyvariabledisjointandkfaulttolerantreducedstronglyselfcheckingaredefinedtocharacterizecircuitswithpartiallyselfcheckingcapabilityTherelationsamongalloftheseconceptsaboutconcurrenterrordetectionarepresentedInterconnectionconditionswithwhichthebasicfunctionalmodulesanddetectorsmustsatisfytoconstructbasiccircuitswithdifferentconcurrenterrordetectionpropertiesareprovedKeywords 　 partiallyselfcheckingreducedstronglyfaultsecurereducedstronglyvariabledisjointkfaulttolerantreducedstronglyfaultsecurekfaulttolerantreducedstronglyvariabledisjointcircuitinterconnection 　 引言 　 　 并发 差错 检测 、 故障安全 和 差错 校正 是 数字电路 和 系统 容错 的 三类 重要 技术 ， 并发 差错 检测 技术 直接 为 系统 的 在线 重构 提供 支持 ， 故障安全 技术 用于 防卫 数字电路 出现 非 安全 差错 ， 差错 校正 技术 用于 保证 产生 故障 的 电路 仍 尽可能 地 给出 正确 输出 ［ ， ］ 随着 数字电路 集成 规模 和 应用领域 的 不断扩大 、 工作 速度 的 飞速 提高 ， 它们 可望 进入 保证 高性能 集成电路 正常 工作 的 基本 技术 之 列 　 　 一个 典型 的 故障 差错 处理过程 包括 故障 差错 检测 、 定位 、 差错 校正 或 重构 和 恢复 等 步骤 一个 理想 的 电路 在 内部 产生 故障 时 ， 希望 其 功能 输出 保持 安全 或 正确 ， 同时 还应 给出 相应 的 差错 检测 或 故障 定位 指示 信息 并发 差错 检测 电路 在 正常 工作 条件 下能 自动检测 其 内部 包含 差错 检测 电路 本身 是否 存在 故障 ， 它 只 需 正常 输入 电路 的 所有 测试 码均 包含 其中 ， 而 无需 任何 外加 激励 测试 码 ［ ～ ］ 因此 ， 为 进一步提高 容错 系统 的 在线 故障 差错 处理 能力 ， 继续 深入研究 并发 差错 检测 技术 仍 具有 相当 重要 的 意义 　 　 年代 中期 以前 有关 并发 差错 检测 技术 研究 的 主要 成果 在 许多 文献 中 都 作 了 较为 系统 的 总结 ［ ～ ］ 本文 第 部分 建立 了 一种 基本 并发 差错 检测 电路 以下 简称 基本 电路 的 结构 模型 ， 它 由 实现 电路 基本功能 的 基本 功能模块 和 实现 电路 并发 差错 检测 功能 的 检测器 detector 两 部分 级联 所 构成 ， 电路 的 输出 矢量 被 划分 成功 能 输出 和 差错 检测 指示 输出 两 部分 ： 第 部分 总结 了 自 校验 电路 的 基本 功能模块 与 校验 器 checker 的 基本 特性 ； 第 部分 在 输出 矢量 划分 的 结构 模型 下 重新 定义 了 基本 电路 的 若干 特性 ， 提出 了 一组 表征 基于 部分 自 校验 partiallyselfchecking ， PSC 概念 的 并发 差错 检测 机制 的 新 概念 ， 并 着重 研究 了 这些 新 概念 与 已有 概念 之间 的 关系 ， 这些 新 概念 还 指出 了 构造 并发 差错 检测 电路 的 新途径 ； 第 部分 证明 了 用 基本 功能模块 与 检测器 互连 ， 以 构造 具有 不同 并发 差错 检测 特性 的 基本 电路 所 需 满足 的 条件 　 基本 电路 的 模块 结构 与 故障 假设 　 　 一个 具有 m 个 输入 和 n 个 输出 的 组合 逻辑电路 ， 它 所 实现 的 函数 表示 为 G ， 它 的 所有 可能 的 原始 输入 矢量 X 矢量 长度 为 m 组成 它 的 完全 输入 集 ， 记作 SXm ， 所有 可能 的 原始 输出 矢量 Y 矢量 长度 为 n 组成 它 的 完全 输出 集 ， 记作 SYn 电路 的 所有 合法 输入 矢量 构成 它 的 合法 输入 矢量 集 ， 记作 SnXm ， 对应 的 所有 合法 输出 矢量 构成 合法 输出 矢量 集 ， 记作 SnYn 对 编码 矢量 ， 合法 矢量 集由 所有 码字 组成 ， 非法 矢量 集由 所有 非 码字 组成 SXmSnXm 被 称为 是 非法 输入 矢量 集 ， 记作 SaXmSYnSnYn 被 称为 非法 输出 矢量 集 ， 记作 SaYn 　 　 基本 电路 的 原始 输出 Y 可 被 分割 为 两 部分 Z ， E ， 其中 ， Z 矢量 长度 为 u 和 E 矢量 长度 为 v 分别 为 电路 的 功能 输出 和 差错 检测 指示 输出 ［ ］ ， uvn 所有 的 功能 输出 和 差错 检测 指示 输出 分别 组成 基本 电路 的 功能 输出 集 SZu 和 差错 检测 指示 输出 集 SEv 类似 地 ， SZu 可作 如下 划分 ： SZuSnZu ∪ SaZu ， 其中 ， SnZu 和 SaZu 分别 表示 合法 功能 输出 矢量 集 和 非法 功能 输出 矢量 集 SEv 也 可作 如下 划分 ： SEvSnEv ∪ SaEv ， 其中 ， SnEv 是 电路 的 功能 输出 无差错 指示 矢量 集 ， 电路 给出 该 集合 中 的 矢量 ， 表明 其 功能 输出 是 正确 的 ； SaEv 是 电路 出现 差错 指示 矢量 集 ， 电路 给出 该 集合 中 的 矢量 ， 表明 其 内部 出现 了 故障 ， 故障 所 引起 的 差错 已 被 检测 到 然而 ， 由于 SYnSZu × SEv ， 因此 从 逻辑 上 考虑 ， SYn 可 划分 为 部分 ， 即 SYnSnYn ∪ SdYn ∪ SuYn 每 一部分 的 组成 分别 为 SnYnZEZ ∈ SnZu ∧ E ∈ SnEvSdYnZEZ ∈ SZu ∧ E ∈ SaEvSuYnZEZ ∈ SaZu ∧ E ∈ SnEv 其中 ， SdYn 表示 差错 检测 输出 矢量 集 ， SuYn 表示 未定义 无 意义 输出 矢量 集 ， 它们 组成 了 基本 电路 的 非法 输出 矢量 集 由于 检测器 防护 范围 的 界限 是从 基本 功能模块 的 输入 端至 检测器 的 输出 端 ， 那么 ， 根据 输出 矢量 所 代表 的 实际意义 ， 当 Z 为 非法 输出 时 ， E 不 可能 给出 合法 输出 ， 因此 ， 可 假设 SuYn ， 表示 空集 　 　 一个 基本 电路 由 两个 部分 级联 而成 如图所示 ， 一是 实现 函数 Ω 的 基本 功能模块 ， 二是 实现 函数 Θ d 的 检测器 在 图 中 ， W ∈ SWw 矢量 长度 为 w 是 基本 功能模块 的 输出 （ 也 是 检测器 的 输入 ） ， 其它 变量 的 意义 如前所述 SWw 是 基本 功能模块 的 完全 输出 矢量 集 ， 即 检测器 的 完全 输入 矢量 集 ， 它 也 可 划分 为 合法 输入 集 SnWw 与 非法 输入 集 SaWw 两个 互不 相交 的 子集 因此 ， X ∈ SXm ， 有 Ω XW ， Θ dWY ， 或者 GXY 若 Z ， E 被 表示 为 或 Θ ZdW Θ EdW 或 GZ （ X ） ， GE （ X ） ， 则 在 正常 情况 下 ， 应有 Θ ZdWGZX 和 Θ ZdWGEX 图 　 基本 并发 差错 检测 电路 的 结构 模型 　 　 对 一个 基本 自 校验 电路 见图 ， 上述 模型 中 的 检测器 可 看成 是 由 一组 传输线 实现 Θ Zd ， 直接 将 完整 的 W 或 其中 一部分 送 至 检测器 的 功能 输出 端 和校验 器 实现 Θ Ed 所 组成 的 图 　 基本 自 校验 电路 的 典型 结构 　 　 基本 电路 可 用作 构造 并发 差错 检测 系统 的 基本 元件 　 　 本文 约定 ， 若 不 特别 指出 ， 所 研究 的 数字电路 满足 假设 设 基本 电路 所 考虑 的 所有 单 故障 所 组成 的 故障 集为 F ， 产生 内部 故障 后 电路 所 实现 的 函数 表示 为 Gf 　 　 假设 电路 中 的 每 一 故障 均 可 按门级 或 开关 级 故障 加以 模型 化 　 　 针对 不同 的 实际 电路 ， 需要 采用 不同 严格 程度 的 故障 假设 ， 以便 合理 地 表征 其 并发 差错 检测 能力 下面 的 假设 便是 一个 严格 的 故障 假设 ， 它常 被 用于 作为 定义 并发 差错 检测 概念 ， 如 完全 自 校验 totallyselfchecking ， TSC ， 的 基本 假设 假设 是 文献 ［ ］ 有关 故障 假设 的 简单 修改 　 　 假设 电路 在 任一 时刻 只 产生 一个 故障 ， 且 任意 两个 连续 产生 的 故障 之间 的 时间 间隔 足够 长 ， 可 使 所有 所 需 的 输入 矢量 出现 在 电路 的 输入 端 上 　 　 假设 当 一个 影响 检测器 校验 器 的 故障 发生 后 ， 电路 有 足够 的 时间 在 基本 功能模块 或 检测器 校验 器 产生 另 一个 故障 前 ， 使得 检测器 校验 器 能够 将 其 合法 输入 集中 的 所有 输入 矢量 加到 它 的 输入 端当 一个 影响 基本 功能模块 的 故障 发生 后 ， 电路 有 足够 的 时间 在 基本 功能模块 或 检测器 校验 器 产生 另 一个 故障 前 ， 使得 基本 功能模块 能够 将 其 合法 输入 集中 的 所有 输入 矢量 加到 它 的 输入 端 　 自 校验 电路 基础 　 基本 功能模块 基本 电路 的 构造 途径 　 　 基本 自 校验 电路 的 并发 差错 检测 特性 可 由 完全 自 校验 概念 来 表征 ， 它 所 实现 的 是 所谓 的 完全 自 校验 目标 TSCgoal 若 把 电路 的 输入 和 输出 矢量 看成 是 某种 差错 检测 码 ， 则 完全 自 校验 目标 指 的 是 在 给定 的 故障 假设 下 ， 电路 由于 故障 而 产生 的 第一个 非法 输出 总是 一个 非 码字 ［ ， ］ 实现 完全 自 校验 目标 可 有 如下 途径 　 　 途径 使 电路 同时 具有 故障 保险 faultsecure ， FSE 和 自测试 selftesting ， ST 两个 基本 特性 ［ ～ ］ 这是 一条 相当 严格 的 实现 途径 ， 因为 电路 存在 冗余 的 可能性 很大 ， 而 对于 f ∈ F 是 冗余 的 电路 将 无法 对于 F 具有 自测试 特性 因此 ， 电路 按此 途径 实现 较为 困难 　 　 途径 使 电路 具有 强 故障 保险 stronglyFSE ， SFSE 特性 ［ ， ］ 　 　 在 现有 VLSI 实现 技术 条件 下 ， 这一 途径 的 实现 也 有 一定 的 困难 实际 电路 可 通过 限制 电路 所 考虑 的 故障 序列 的 长度 来 有限 地 实现 完全 自 校验 目标 见 如下 途径 　 　 途径 使 电路 具有 k 容错 部分 强 故障 保险 kfaulttolerantpartiallySFSE ， kFTPSFSE 特性 ［ ］ 　 　 当 并发 差错 检测 电路 所 具有 的 完全 自 校验 特性 仅 对 F 的 某个 子集 有效 时 ， 可用 部分 自 校验 概念 来 对 它 进行 描述 ［ ， ］ ， 这是 通过 缩小 电路 所 考虑 的 故障 集来 有限 地 实现 完全 自 校验 目标 的 方法 　 　 途径 使 电路 具有 部分 自 校验 特性 ［ ］ 　 　 另外 ， 若 电路 对 合法 输入 集 与 FST （ FSTF ） 是 自测试 的 ， 但 对 合法 输入 集 的 某个 子集 及 FST 的 某个 子集 不是 故障 保险 的 ， 则 可用 自测试 特性 来 对 其 进行 描述 ［ ， ］ 类似 地 ， 若 任意 输入 矢量 都 能 检测 电路 中 的 故障 ， 则 可用 强 自测试 stronglyST ， SST 特性 来 对 其 进行 表征 ［ ， ］ 　 校验 器 的 特性 　 　 若 一个 电路 具有 码 分离 codedisjoint ， CD 、 故障 保险 和 自测试 特性 ， 则 该 电路 被 称 作为 完全 自 校验 校验 器 ［ ， ］ 然而 ， 在 有 的 情况 下 ， 故障 保险 特性 对 校验 器 而言 并 不是 必须 的 ［ ］ ， 这种 校验 器 可 被 简称 为 自 校验 校验 器若 校验 器 的 自测试 特性 难以 满足 ， 则 在 满足 假设 的 前提 下 ， 可 构造 一种 具有 强码 分离 stronglyCD ， SCD 特性 的 校验 器 ［ ］ 近年来 ， 针对 电路 的 不同 实现 技术 ， 已 提出 了 若干种 新型 校验 器 的 实现 方案 　 　 k 容错 部分 强码 分离 校验 器 与 k 容错 部分 强 故障 保险 校验 器 ［ ， ］ 　 　 强码 分离 校验 器 在 一般 情况 下 是 较 难 实现 的 考虑 到 VLSI 电路 在 开关 级 和 布局 上 物理 故障 的 特点 ， 实际 获得 的 是 k 容错 部分 强码 分离 kfaulttolerantpartiallySCD ， kFTPSCD 校验 器 与 k 容错 部分 强 故障 保险 校验 器 强码 分离 校验 器 与 k 容错 部分 强码 分离 校验 器 的 区别 主要 在于 ， 前者 可 通过 一个 输入码 字 最终 将 校验 器中 的 所有 累积 故障 检测 到 ， 而 后者 最多能 容忍 k 个 故障 ， 且 它们 能否 被 检测 是 不 确定 的 k 容错 部分 强码 分离 校验 器 在 内部 产生 了 一个 长度 为 k 的 故障 序列 后 ， 它 就 处于 非 保险 状态 此时 若 再有 一个 非 码字 加到 它 的 输入 端 等价 于 基本 电路 中 产生 了 k 个 故障 ， 则 其码 分离 特性 是 不 保证 的 　 　 强自 校验 校验 器 ［ ］ 　 　 若 一个 并发 差错 检测 系统 中 含有 多个 具有 不同 特性 的 校验 器 ， 为 使 其 达到 完全 自 校验 目标 ， 还 必须 采用 一种 强自 校验 stronglyselfchecking ， SSC 校验 器 ， 它 同时 具有 强 故障 保险 和 强码 分离 特性 　 　 k 容错 部分 强自 校验 校验 器 ［ ］ 　 　 类似 于 强码 分离 校验 器 与 k 容错 部分 强码 分离 校验 器 的 关系 ， 也 有 一种 k 容错 部分 强自 校验 kFTpartiallySSC ， kFTPSSC 校验 器 ， 文献 ［ ］ 称之为 k 容错 部分 强码 分离 和 部分 强 故障 保险 校验 器 　 输出 矢量 划分 模型 下 基本 电路 的 特性 　 检测器 的 特性 　 　 在 图 所示 的 基本 电路 结构 模型 下 ， 基本 功能模块 与 基本 电路 的 并发 差错 检测 特性 的 表征 可 直接 沿用 自 校验 电路 有关 特性 的 定义 ， 但 由于 检测器 的 输出 矢量 作 了 划分 ， 因此 有关 检测器 的 若干 并发 差错 检测 概念 需 重新 定义 　 　 检测器 的 主要 功能 是 检查 基本 功能模块 输出 矢量 的 合法性 ， 并 将 基本 电路 所 产生 的 故障 及时 地 检测 出来 本文 采用 变量 分离 variabledisjoint ， VD 概念 来 表征 这一 功能 ［ ］ 若 将 输入 或 输出 矢量 统一 地 看成 是 用 编码方式 生成 的 码字 ， 则 变量 分离 特性 就是 码 分离 特性 　 　 定义 一个 检测器 是 变量 分离 的 ， 若 它 满足 ① W ∈ SnWw ， 有 Θ ZdWGZX ， W Ω （ X ） ， X ∈ SnXm ， 且 Θ Ed ∈ SnEv ， 或者 ② W ∈ SaWw ， 有 Θ ZdW ∈ SaZu 和 Θ EdW ∈ SaEv 　 　 设 检测器 所 考虑 的 单 故障 集为 F Θ d 　 　 定义 一个 检测器 对于 F Θ d 是 故障 保险 的 ， 若 对 f ∈ F Θ d ， W ∈ SnWw ， 有 Θ ZdfW Θ ZdW 和 Θ EdfW Θ EdW ， 或者 Θ ZdfW ∈ SaZu 和 Θ EdfW ∈ SaEv 　 　 定义 一个 检测器 对 F Θ d 是 自测试 的 ， 若 对 f ∈ F Θ d ， W ∈ SnWw ， 有 Θ ZdfW ∈ SaZu 和 Θ EdfW ∈ SaEv 　 　 定义 一个 电路 对 F Θ d 是 完全 自 校验 的 检测器 ， 若 它 是 变量 分离 的 和 完全 自 校验 的 　 　 定义 在 无故障 期间 ， 检测器 是 故障 保险 的 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fj ∈ F Θ d ， j … k ， ≤ k ≤ ‖ F Θ d ‖ ， W ∈ SnWw ， 有 Θ Zd 〈 ff … fk 〉 W Θ ZdW 和 Θ Ed 〈 ff … fk 〉 W Θ EdW ， 或者 Θ Zd 〈 ff … fk 〉 W ∈ SaZu 和 Θ Ed 〈 ff … fk 〉 W ∈ SaEv 而且 对 故障 序列 〈 ff … fk 〉 ， W ∈ SnWw ， 有 Θ Zd 〈 ff … fk 〉 W ∈ SaZu 和 Θ Ed 〈 ff … fk 〉 W ∈ SaEv ， 则 检测器 对 故障 序列 〈 ff … fk 〉 是 强 故障 保险 的 　 　 　 　 定义 一个 检测器 对 F Θ d 是 强 故障 保险 的 ， 若 它 对 由 F Θ d 中 的 所有 故障 所 组成 的 所有 故障 序列 都 是 强 故障 保险 的 　 　 定义 设 k 是 一个 最小 整数 ， 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fi ∈ F Θ d ， i … k ， 实现 函数 Θ d 〈 ff … ， fk 〉 的 检测器 丧失 故障 保险 特性 ， 且 不 存在 一个 合法 输入 矢量 能 检测 到 该 故障 序列 那么 ， 该 检测器 是 k 容错 部分 强 故障 保险 的 ， 如果 该 检测器 是 故障 保险 的 ， 且 对 任意 故障 序列 和 任何 整数 q ， ≤ q ≤ k ， 或者 检测器 是 故障 保险 的 ， 或者 故障 序列 〈 ff … ， fq 〉 可 被 检测 到 　 　 定义 在 无故障 期间 ， 检测器 是 变量 分离 的 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fj ∈ F Θ d ， j ， … k ， ≤ k ≤ F Θ d ， W ∈ SnWw ， 有 Θ Zd 〈 ff … ， fk 〉 W Θ ZdW 和 Θ Ed 〈 ff … ， fk 〉 W ∈ SnEv ； W ∈ SaWw ， 有 Θ Zd 〈 ff … ， fk 〉 W ∈ SaZu 和 Θ Ed 〈 ff … ， fk 〉 W ∈ SaEv 。 且 对 故障 序列 〈 f ， f ， … ， fk 〉 ， W ∈ SnWw ， 有 Θ Zd 〈 ff … ， fk 〉 W ∈ SaZu 和 Θ Ed 〈 ff … ， fk 〉 W ∈ SaEv ， 则 检测器 对 故障 序列 〈 f ， f ， … ， fk 〉 是 强 变量 分离 的 　 　 定义 一个 检测器 对 F Θ d 是 强 变量 分离 的 ， 若 它 对 由 F Θ d 中 的 所有 故障 所 组成 的 所有 故障 序列 都 是 强 变量 分离 的 　 　 定义 设 k 是 一个 最小 整数 ， 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fi ∈ F Θ di … k 实现 函数 Θ d 〈 ff … ， fk 〉 的 检测器 丧失 变量 分离 特性 ， 且 不 存在 一个 合法 输入 矢量 能 检测 到 该 故障 序列 那么 ， 该 检测器 是 k 容错 部分 强 变量 分离 的 ， 如果 该 检测器 是 变量 分离 的 ， 且 对 任意 故障 序列 和 任何 整数 q ， ≤ q ≤ k ， 或者 检测器 是 变量 分离 的 ， 或者 故障 序列 〈 ff … ， fq 〉 可 被 检测 到 　 　 定义 一个 检测器 对于 故障 集 F Θ d 是 强自 校验 的 ， 如果 在 任何 故障 产生 前 ， 它 是 变量 分离 的 ， 对 f ∈ F Θ d ， 或者 ① 检测器 是 自测试 和 故障 保险 的 ； 或者 ② 检测器 是 故障 保险 的 ， 且 总是 将 非法 输入 矢量 映射 至 非法 输出 矢量 ， 而且 若 另 一个 故障 f ′ ∈ F Θ d 产生 ， 则 检测器 对于 该 故障 序列 ， ① 或者 ② 成立 　 　 定义 设 k 是 一个 最小 整数 ， 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fi ∈ F Θ di … k 实现 函数 Θ d 〈 ff … ， fk 〉 的 检测器 丧失 变量 分离 和 故障 保险 特性 ， 且 不 存在 一个 合法 输入 矢量 能 检测 到 该 故障 序列 那么 ， 该 检测器 是 k 容错 部分 强自 校验 的 ， 如果 该 检测器 是 变量 分离 和 故障 保险 的 ， 且 对 任意 故障 序列 和 任何 整数 q ， ≤ q ≤ k ， 检测器 或者 是 变量 分离 和 故障 保险 的 ， 或者 故障 序列 〈 ff … ， fq 〉 可 被 检测 到 　 　 定义 一个 电路 对 F Θ d 是 部分 自 校验 的 检测器 ， 若 它 是 变量 分离 的 和 部分 自 校验 的 　 　 在 上述 定义 中 ， 有些 定义 可 从 文末 所列 的 有关 参考文献 的 相关 定义 直接 引出 ， 如 定义 可 由 文献 ［ ］ 的 相关 概念 引出 　 基于 部分 自 校验 的 并发 差错 检测 新 概念 　 　 根据 途径 至 途径 所 实现 的 电路 的 并发 差错 检测 能力 是 依次 减弱 的 具体表现 在 故障 被 检测 到 的 时机 的 逐渐 滞后 途径 ， 所 允许 的 故障 序列 的 长度 加以 限制 途径 ， 电路 所 考虑 的 故障 集 逐步 缩小 途径 等 结合 途径 和 途径 的 思想 ， 可 提出 基本 电路 有限 实现 完全 自 校验 目标 的 第种 途径 　 　 途径 在 精简 的 故障 F ＃ F ＃ F 集上 使 电路 具有 精简 强 故障 保险 reducedSFSE ， RSFSE 特性 表征 基本 电路 特性 的 相关 概念 可定义 如下 　 　 定义 一个 基本 电路 是 精简 强 故障 保险 的 ， 若 ① 电路 对 SnXm 及 F ＃ STF ＃ ， F ＃ F 是 自测试 的 ， 并且 ② 对 SSnXmSnXm 和 F ＃ SEF ＃ ST 是 故障 保险 的 ， 或者 仅 ② 成立 ； 而 若 有 F ＃ ST 中 的 另 一个 故障 产生 ， 则 电路 对 所 产生 的 多故障 ， ① 和 ② ， 或者 仅 ② 成立 　 　 沿用 这一 思想 ， 可定义 精简 强 变量 分离 reducedSVD ， RSVD 检测器 和 精简 强自 校验 reducedSSC ， RSSC 检测器 　 　 定义 一个 检测器 是 精简 强 变量 分离 的 ， 若 ① 检测器 是 部分 自 校验 的 ， 或 ② 检测器 是 变量 分离 的 ， 而 若 有 F ＃ Θ dSTF ＃ Θ d ， F ＃ Θ dF Θ d 中 的 另 一个 故障 产生 ， 则 检测器 对 所 产生 的 多故障 ， ① 或 ② 成立 　 　 定义 一个 检测器 是 精简 强自 校验 的 ， 若 它 在 无故障 的 情况 下 是 变量 分离 的 ， 且 ① 检测器 对 SnXm 及 F ＃ Θ dSTF ＃ Θ d ， F ＃ Θ dF Θ d 是 自测试 的 ， 并且 对 SSn （ Xm ） SnXm 和 F ＃ Θ dSEF ＃ Θ dST 是 故障 保险 的 ； 或者 ② 对 SSn （ Xm ） 和 F ＃ Θ dSE 是 故障 保险 的 ， 且 将 非法 输入 矢量 映射 为 非法 输出 矢量 而且 若有 F Θ dST 中 的 另 一个 故障 产生 ， 则 检测器 对 所 产生 的 多故障 ， ① 或者 ② 成立 　 　 结合 途径 和 途径 的 思想 ， 可 提出 基本 电路 有限 实现 完全 自 校验 目标 的 第种 途径 　 　 途径 使 电路 具有 k 容错 精简 强 故障 保险 kfaulttolerantreducedSFSE ， kFTRSFSE 特性 表征 基本 电路 特性 的 相关 概念 可定义 如下 　 　 定义 设 k 是 一个 最小 整数 ， 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fi ∈ F ＃ i … k ， F ＃ F ， 实现 函数 G 〈 ff … ， fk 〉 的 电路 丧失 故障 保险 特性 ， 且 不 存在 一个 合法 输入 矢量 能 检测 到 该 故障 序列 那么 ， 该 电路 是 k 容错 精简 强 故障 保险 的 ， 如果 该 电路 是 故障 保险 的 ， 且 对 任意 故障 序列 和 任何 整数 q ， ≤ q ≤ k ， 或者 电路 是 故障 保险 的 ， 或者 故障 序列 〈 ff … ， fq 〉 可 被 检测 到 　 　 定义 设 k 是 一个 最小 整数 ， 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fi ∈ F ＃ Θ d ， i … k ， F ＃ Θ dF Θ d ， 实现 函数 Θ d 〈 ff … ， fk 〉 的 检测器 丧失 变量 分离 特性 ， 且 不 存在 一个 合法 输入 矢量 能 检测 到 该 故障 序列 那么 ， 该 检测器 是 k 容错 精简 强 变量 分离 kfaulttolerantreducedSVD ， kFTRSVD 的 ， 如果 该 检测器 是 变量 分离 的 ， 且 对 任意 故障 序列 和 任何 整数 q ， ≤ q ≤ k ， 或者 检测器 是 变量 分离 的 ， 或者 故障 序列 〈 ff ， … ， fq 〉 可 被 检测 到 　 　 定义 设 k 是 一个 最小 整数 ， 它 满足 对 一个 故障 序列 〈 ff … ， fk 〉 ， fi ∈ F ＃ Θ d ， i … k ， F ＃ Θ dF Θ d ， 实现 函数 Θ d 〈 ff … ， fk 〉 的 检测器 丧失 变量 分离 和 故障 保险 特性 ， 且 不 存在 一个 合法 输入 矢量 能 检测 到 该 故障 序列 那么 ， 该 检测器 是 k 容错 精简 强自 校验 的 kfaulttolerantreducedSSC ， kFTRSSC ， 如果 该 检测器 是 变量 分离 和 故障 保险 的 ， 且 对 任意 故障 序列 和 任何 整数 q ， ≤ q ≤ k ， 检测器 或者 是 变量 分离 和 故障 保险 的 ， 或者 故障 序列 〈 ff … ， fq 〉 可 被 检测 到 　 　 有关 并发 差错 检测 电路 的 主要 概念 之间 的 关系 如图所示 ， 其中 ， 本文 所 定义 的 概念 用 号 加以 注明 图 　 主要 并发 差错 检测 概念 之间 的 关系 　 基本 功能模块 与 检测器 互连 的 条件 　 　 基本 功能模块 与 检测器 互连 的 条件 ， 一是 取决于 它们 级联 所 构成 的 基本 电路 应 具有 的 并发 差错 检测 特性 ， 二是 取决于 所 选用 的 基本 功能模块 和 检测器 所 具有 的 并发 差错 检测 特性 　 　 定理 一个 由强 故障 保险 的 基本 功能模块 和 强 变量 分离 的 检测器 所 构成 的 基本 电路 是 强 故障 保险 的 　 　 推论 一个 由强 故障 保险 的 基本 功能模块 和 非强 变量 分离 的 检测器 所 构成 的 基本 电路 是非 强 故障 保险 的 　 　 定理 和 推论 的 证明 可 由 文献 ［ ］ 的 相关 结论 直接 得到 由 定理 还 可 导出 如下 推论 　 　 推论 一个 由强 故障 保险 的 基本 功能模块 和 强自 校验 的 检测器 所 构成 的 基本 电路 是 强 故障 保险 的 　 　 定理 一个 由 k 容错 部分 强 故障 保险 的 基本 功能模块 和 k 容错 部分 强 变量 分离 的 检测器 所 构成 的 基本 电路 至少 是 k 容错 部分 强 故障 保险 的 　 　 证明 在 无故障 情况 下 ， 基本 功能模块 是 故障 保险 的 ， 检测器 是 变量 分离 的 当 故障 发生 时 ， 它 可能 影响 基本 功能模块 或 检测器 分 如下 种 情况 讨论 ： 　 　 所 产生 的 初始 k 个 故障 全部 在 基本 功能模块 内 由于 它 是 k 容错 部分 强 故障 保险 的 ， 因此 ， 基本 功能模块 保持 强 故障 保险 特性 ， 即 在 假设 下 ， 在 相邻 两个 故障 产生 的 时间 间隔 内 ， 所有 原始 合法 输入 矢量 均会 出现 在 基本 功能模块 的 输入 端 基本 功能模块 将 或者 给出 合法 输出 ， 或者 给出 非法 输出 由于 检测器 是 强 变量 分离 的 ， 因此 ， 对应 于 基本 功能模块 的 两类 输出 ， 基本 电路 或者 给出 合法 输出 ， 或者 给出 差错 检测 指示 这样 ， 基本 电路 是 强 故障 保险 的 而 当 第 k 个 故障 在 基本 功能模块 中 产生 时 ， 它 将 无法 确保 故障 保险 特性 ， 因为 它 可能 产生 一个 错误 的 合法 输出 ， 此时 ， 检测器 必定 给出 合法 输出 这样 ， 基本 功能模块 中 的 这 一 故障 就是 不可 检测 的 因此 ， 基本 电路 是 k 容错 部分 强 故障 保险 的 　 　 所 产生 的 初始 k 个 故障 全部 在 检测器 内 由于 它 是 k 容错 部分 强 变量 分离 的 ， 因此 ， 检测器 保持 强 变量 分离 特性 ， 即 在 假设 下 ， 在 相邻 两个 故障 产生 的 时间 间隔 内 ， 检测器 可 获得 它 的 所有 输入 矢量 它 或者 给出 非法 输出 检测 到 故障 ， 或者 仍能 正常 工作 因此 ， 基本 电路 或者 给出 合法 输出 ， 或者 给出 差错 指示 这样 ， 基本 电路 是 强 故障 保险 的 当 第 k 个 故障 在 检测器 中 产生 时 ， 它 处于 非 保险 状态 ， 不再 确保 提供 变量 分离 功能 因此 ， 基本 电路 是 k 容错 部分 强 故障 保险 的 　 　 基本 功能模块 和 检测器 内部 均 产生 故障 ， 但 它们 分别 都 不 超过 k 个 极端 情况 是 它们 分别 有 k 个 故障 由 和 的 分析 和 结论 可知 ， 此时 ， 基本 电路 仍 是 强 故障 保险 的 当 电路 中 再 产生 另 一个 故障 时 ， 基本 电路 将 不再 确保 强 故障 保险 特性 这样 ， 基本 电路 是 kp 容错 部分 强 故障 保险 pk 的 　 　 综合 上述情况 分析 ， 可知 基本 电路 是 kp 容错 部分 强 故障 保险 ≤ p ＜ k 的 证毕 　 　 推论 一个 由 k 容错 部分 强 故障 保险 的 基本 功能模块 和 非 k 容错 部分 强 变量 分离 的 检测器 所 构成 的 基本 电路 不是 k 容错 部分 强 故障 保险 的 　 　 证明 根据 定义 ， 若 检测器 不是 k 容错 部分 强 变量 分离 的 ， 则 存在 一个 故障 序列 〈 f ， f ， … ， fj 〉 ≤ j ＜ k ， 它 使得 检测器 ： ① 内部 故障 f ， f ， … ， fj 逐个 发生 ， 且 是 不可 检测 的 ； ② 当 〈 f ， f ， … ， fj 〉 不可 检测 时 ， 检测器 存在 一个 非法 输入 ， 它 使 检测器 错误 地 给出 合法 输出 这 就 意味着 基本 功能模块 的 这 一 非法 输出 将 无法 被 检测 到 因此 ， 基本 电路 不是 k 容错 部分 强 故障 保险 的 证毕 　 　 推论 一个 由 k 容错 部分 强 故障 保险 的 基本 功能模块 和 k 容错 部分 强自 校验 的 检测器 所 构成 的 基本 电路 至少 是 k 容错 部分 强 故障 保险 的 　 　 上述 推论 可 直接 由 定理 导出 　 　 设 基本 电路 所 考虑 的 故障 集 F ＃ 满足 F ＃ ST ＝ F ＃ SE ＝ F ＃ 不难看出 ， 只要 将 F 替换 为 F ＃ ， 由 定理 、 推论 和 推论 可 分别 导出 下列 定理 、 推论 和 推论 ； 而 由 定理 、 推论 和 推论 可 分别 导出 下列 定理 、 推论 和 推论 　 　 定理 一个 由 精简 强 故障 保险 的 基本 功能模块 和 精简 强 变量 分离 的 检测器 所 构成 的 基本 电路 是 精简 强 故障 保险 的 　 　 推论 一个 由 精简 强 故障 保险 的 基本 功能模块 和 非 精简 强 变量 分离 的 检测器 所 构成 的 基本 电路 是非 精简 强 故障 保险 的 　 　 推论 一个 由 精简 强 故障 保险 的 基本 功能模块 和 精简 强自 校验 的 检测器 所 构成 的 基本 电路 是 精简 强 故障 保险 的 　 　 定理 一个 由 k 容错 精简 强 故障 保险 的 基本 功能模块 和 k 容错 精简 强 变量 分离 的 检测器 所 构成 的 基本 电路 至少 是 k 容错 精简 强 故障 保险 的 　 　 推论 一个 由 k 容错 精简 强 故障 保险 的 基本 功能模块 和 非 k 容错 精简 强 变量 分离 的 检测器 所 构成 的 基本 电路 不是 k 容错 精简 强 故障 保险 的 　 　 推论 一个 由 k 容错 精简 强 故障 保险 的 基本 功能模块 和 k 容错 精简 强自 校验 的 检测器 所 构成 的 基本 电路 至少 是 k 容错 精简 强 故障 保险 的 　 　 表 给出 了 所有 基本 功能模块 与 检测器 校验 器 互连 ， 以 构成 具有 不同 并发 差错 检测 特性 的 基本 电路 所 需 满足 的 条件 表 　 基本 功能模块 与 检测器 校验 器 互连 的 条件 基本 电路 基本 功能模块 检测器 校验 器作 　 　 者 互连 条件 TSCTSCTSCSellers 等 人 、 Carter 等 人 ［ ］ 　 TSCTSCCDSTTamir 等 人 ［ ， ］ 　 SFSESFSE 　 SCDSVDSmith 等 人 ［ ］ 、 Nicolaidis 等 人 提出 双轨 码 和 系统 码 SCD 校验 器 方案 ［ ］ Nicolaidis 等 给出 证明 ［ ］ SFSE 　 SFSE 　 SSC 　 Jha 提出 CMOSCVS 奇偶 码 和 CMOSDCVS 双轨 码 SSC 校验 器 方案 ［ ］ 本文 给出 证明 kFTPSFSEkFTPSFSEkFTPSCDkFTPSVDLo 等 人 提出 组合 NMOS 中 取码 FTPSCD 校验 器 方案 ［ ］ 开关 级 故障 模型 ， 且 考虑 了 布局 上 的 若干 开路 和 短路 故障 本文 给出 证明 kFTPSFSEkFTPSFSEkFTPSSCWang 和 Lala 提出 组合 门级 中 取码 FTPSSC 校验 器 方案 ［ ］ 门级 故障 模型 本文 给出 证明 PSCPSCPSCWakerly 等 人 ［ ］ 　 RSFSERSFSERSSC 本文 提出 本文 给出 证明 RSFSERSFSERSVD 本文 提出 本文 给出 证明 kFTRSFSEkFTRSFSEkFTRSVD 本文 提出 本文 给出 证明 kFTRSFSEkFTRSFSEkFTRSSC 本文 提出 本文 给出 证明 　 结论 　 　 近年来 ， 人们 越来越 注重 于 在 更 合理 的 故障 模型 下 研究 校验 器 的 实现 技术 ， 并 采用 更 有 实际意义 的 并发 差错 检测 概念 来 描述 所 获得 的 并发 差错 检测 电路 本文 在 研究 了 已有 并发 差错 检测 概念 的 基础 上 ， 提出 了 描述 基于 部分 自 校验 的 并发 差错 检测 机制 的 一组 新 概念 ： 精简 强 故障 保险 、 精简 强 变量 分离 、 精简 强自 校验 、 k 容错 精简 强 故障 保险 、 k 容错 精简 强 变量 分离 和 k 容错 精简 强自 校验 ， 着重 研究 了 并发 差错 检测 概念 包括 本文 所 提出 的 新 概念 之间 的 关系 ， 证明 了 用 基本 功能模块 与 检测器 互连 ， 以 构造 几种 具有 不同 并发 差错 检测 特性 的 基本 电路 所 需 满足 的 条件 它们 为 深入 理解 并发 差错 检测 电路 的 工作 原理 ， 进一步 研究 新 的 电路 结构 和 实现 方法 提供 了 技术 基础 注 ： 本 课题 得到 国家自然科学基金 项目编号 、 上海 高等学校 青年教师 学术 基金 和 中国科学院计算技术研究所 CAD 开放 实验室 开放 课题 基金 资助 作者简介 ： 江建慧 ， 男 ， 年月生 ， 副教授 ， 博士 研究生 ， 研究 领域 为 容错 计算 、 数字 系统 CAD 和 CAT 、 实时 分布式系统 、 交通 信息工程 与 控制 闵应骅 ， 男 ， 年月生 ， 研究员 ， 博士生 导师 ， IEEEFellow ， 研究 领域 为 容错 与 测试 、 软件可靠性 等 施鸿宝 ， 男 ， 年月生 ， 教授 ， 博士生 导师 ， 主要 研究 领域 为 神经网络 、 专家系统 、 知识 获取 、 智能 调度 与 控制系统 作者 单位 ： 江建慧 　 施鸿宝 　 上海 铁道 大学 计算技术 研究所 　 上海 　 闵应骅 　 江建慧 　 中国科学院计算技术研究所 CAD 开放 实验室 　 北京 　 参考文献 　 　 胡谋 计算机 容错 技术 北京 中国 铁道 出版社 　 　 　 HuMouComputerFaultTolerantTechniquesinChineseBeijingChinaRailwayPublishingHouse 　 　 LalaPKFaultTolerantandFaultTestableHardwareDesignEnglewoodCliffsNJPrenticeHall 　 　 RaoTRNFujiwaraEErrorControlCodingforComputerSystemsEnglewoodCliffsNJPrenticeHall 　 　 JiangJianhuiHuMouTheextendedselfcheckingpropertiesofalternatingcomplementarylogicsystemsInProcofInternationalWorkshoponComputerAidedDesignTestandEvaluationforDependabilityBeijingInternationalAcademicPublishers ～ 　 　 NicolaidisMCourtoisBStronglycodedisjointcheckersIEEETransonComputers ～ 　 　 MinYLiJStronglyfaultsecurePLAsandtotallyselfcheckingcheckersIEEETransonComputers ～ 　 　 SmithJEMetzeGStronglyfaultsecurelogicnetworksIEEETransonComputers ～ 　 　 WangJQLalaPKPartiallystronglyfaultsecureandpartiallystronglycodedisjointoutofcodecheckerIEEETransonComputers ～ 　 　 WakerlyJPartiallyselfcheckingcircuitsandtheiruseinperforminglogicaloperationsIEEETransonComputers ～ 　 　 江建慧 胡谋 安全 逻辑 器件 与 CMOSBT 逻辑电路 及其 噪声容限 计算机 研究 与 发展 ～ 　 　 　 JiangJianhuiHuMouSafelogicelementsCMOSBTlogicalcircuitsandtheirnoisemarginsJournalofComputerResearchandDevelopmentinChinese ～ 　 　 TamirYSequinCHDesignandapplicationofselftestingcomparatorsimplementedwithMOSPLAsIEEETransonComputers ～ 　 　 LoJCThanawastienSOnthedesignofcombinationaltotallyselfcheckingoutofcoedcheckerIEEETransonComputers ～ 　 　 JhaNKStronglyfaultsecureandstronglyselfcheckingdominoCMOSimplementationsoftotallyselfcheckingcircuitsIEEETransonComputerAidedDesignofIntegratedCircuitsandSystems ～ 　 　 JhaNKFaultdetectioninCVSparitytreeswithapplicationtostronglyselfcheckingparityandtworailcheckerIEEETransonComputers ～ 原稿 收到 日期 ： ； 修改稿 收到 日期 ：