计算机 应用 研究 APPLICATIONRESEARCHOFCOMPUTERSVolNoP 基于 Web 的 信息 资源 发布 模型 吴志刚 　 方滨兴 　 马涛 　 李亚萍 摘 　 要 ： 信息 发布 是 Internet 和 Web 的 重要 功能 ， 针对 信息 发布 的 特点 提出 了 基于 Web 的 信息 资源 发布 模型 。 基于 该 模型 实现 了 面向 校园 网络 的 基于 Web 的 信息 发布 系统 ， 帮助 学校 各 部门 和 院系 实现 正式 的 信息 发布 。 关键词 ： Web 信息 资源 发布 数据库 发布 身份 认证 　 引言 　 　 现在 都 存在 这样 的 问题 ， 学校 的 各 部门 院系 对于 各种 通知 、 规定 采取 书面通知 或 会议 通知 的 方法 ， 不够 准确 、 及时 、 持久 ， 通知 面 也 有限 。 相信 很多 人 都 有 体会 ， 有些 事 已经 公布 发生 很久 了 ， 才 在 偶然 的 情况 下 知道 ， 结果 造成 错过 了 一些 机会 ， 耽误 了 工作 。 一些 经常 变动 的 信息 ， 如 电话簿 、 学生 成绩单 、 课程表 、 校历 和 图书馆 信息 、 各 单位 网络 费用 等 ， 手工 查询 困难 、 费事 。 随着 各校 校园 网络 的 发展 ， 学校 的 各 部门 系 、 学院 及 管理机构 等 通过 校园 网络 为 学生 和 教工 及时 准确 地 提供 信息 服务 成为 可能 。 　 　 目前 通过 校园 网络 发布 信息 有 两种 方式 ： 通过 各 学校 已有 的 BBS 系统 或者 各 部门 的 WWW 站点 。 由于 BBS 系统 属于 公共 站点 ， 对 发信人 的 限制 很少 ， 在 BBS 上 公布 的 信息 的 可信度 比较 差 ， 而且 很难 查找 ， 因此 BBS 系统 不 适合 作为 校园内 正式 的 信息 发布 平台 。 由于 缺乏 专门 的 维护 人员 ， 由 各 部门 维护 自己 的 WWW 站点 在 现阶段 无论 从 人力 还是 物力 考虑 都 不 太 可行 ， 也 不 方便使用 。 从 目前 的 情形 看 ， 各校 学校 一级 的 主页 维护 还 可以 ， 但是 具体 到 各个 院系 或 机关 ， 要么 没有 自己 的 主页 ， 要么 主页 很 长时间 得不到 更新 ， 不能 充分发挥 校园网 的 功能 。 此外 这 两种 方式 有 一个 共同 缺点 ： 没有 利用 各 部门 原有 的 数据库 ， 大量 的 已有 信息 不能 在 校园 网络 发布 。 因此 校园 信息 发布 系统 应该 运行 在 校园网 的 一个 站点 上 ， 由 一个 部门 ， 如 校园 网络 中心 统一 维护 和 管理 ， 为 各 部门 、 院系 以及 学生 员工 等 服务 。 Web 信息 资源 发布 　 　 在 Web 上 发布 确定性 信息 的 行为 称为 Web 信息 资源 发布 。 Web 信息 资源 发布 必须 满足 下述 属性 ： 　 　 被 发布 的 对象 是 Web 上 的 信息 资源 ； 　 　 利用 常规 的 Web 技术 实现 信息 的 发布 ， 即将 Web 作为 信息 发布 渠道 ； 　 　 用户 采用 类似 于 通常 信息 浏览 的 方式 一般来说 通过 浏览器 即可 浏览 被 发布 的 信息 ； 　 　 受益 对象 的 不确定性 不 限制 Web 用户 对 发布 的 资源 的 访问 。 　 　 Web 信息 资源 发布 有 两类 ： 以 静态 主页 形式 发布 信息 的 页面 发布 和 以 数据库 查询 方式 发布 信息 的 数据库 发布 。 页面 发布 和 数据库 发布 模型 如图 ， 图 所示 。 图 　 页面 发布 模型 图 　 数据库 发布 模型 　 　 有意 发布 信息 的 一方 可以 把 信息 以 主页 或者 数据库 表 的 形式 发送到 Web 服务器 上供 Web 用户 浏览 或 查找 ， 并 提供 相应 的 支持 。 整个 过程 分成 两 部分 ： 信息 资源 的 上载 信息 提供者 提供 资源 以及 信息 资源 的 下载 Web 用户 浏览 或 查找 信息 ， 由 Web 信息 资源 发布 应用程序 将 帮助 Web 用户 完成 信息 的 上载 和 下载 。 　 校园 信息 发布 系统 　 　 为了 解决 利用 校园网 发布 信息 的 问题 ， 我们 基于 Web 信息 资源 发布 的 模型 设计 了 校园 信息 发布 系统 CIPSCampuswideInformationPublishingSystem ， 并且 已经 实现 了 系统 的 部分 功能 。 通过 校园 信息 发布 系统 发布 的 都 是 正式 的 和 权威性 的 消息 ， 因此 在 安全性 方面 有 一些 特殊 的 要求 ， 而且 由于 各 部门 的 情况 不同 ， 对 应用 的 要求 也 不尽相同 。 主要 有 下述 问题 ： 　 　 ． 信息 的 可靠性 ： 不 允许 出现 来自 校内外 的 未经 授权 的 伪造 信息 ， 伪造 的 信息 有 可能 给 学校 的 工作 带来 混乱 ， 干扰 正常 秩序 ； 　 　 ． 信息 的 完整 ： 信息 不能 在 上载 过程 中 被 修改 ； 　 　 ． 日志 功能 ： 信息 的 上载 是 可以 审核 的 ， 系统 跟踪 并 记录 每 一次 信息 上载 的 过程 ； 　 　 ． 信息 的 发布者 既 可以 用 静态 主页 又 可以 用 数据库 的 形式 提供 信息 。 　 　 由于 要 发布 的 信息 本身 就是 要 公开 的 内容 ， 因此 没有 信息 保密 的 要求 。 　 身份 认证 和 信息 的 完整性 控制 　 　 信息 的 可靠性 要求 系统 能够 防止 未经 授权 的 信息 上载 ， 也就是说 任何人 在 上载 信息 之前 必须 通过 身份 认证 ， 得到 确认 后方 可 继续 操作 。 目前 常用 的 身份 认证 方法 有 用户 ID 口令 。 基于 公钥 证书 的 层次 系统 和 “ WebofTrust ” 以及 基于 秘密 密钥 的 共同 信任 的 第三方 等 四种 机制 。 用户 ID 口令 方式 简单易行 ， 但是 安全性 比较 低 ， 在 传输 过程 中 容易 出现 口令 失窃 的 情况 。 层次 系统 和 “ WebofTrust ” 两种 方式 都 利用 了 公钥 证书 和 公开密钥 算法 ， 由于 证书 以及 对应 的 私有 密钥 管理 复杂 ， 携带 不便 ， 一般 只能 固定 在 某 一台 机器 上 使用 ， 而且 算法 和 协议 的 开销 都 比较 大 ， 不 适合 在 校园 网络 环境 中 应用 。 以 Kerberos 为 代表 的 基于 共同 信任 的 第三方 系统 已经 在实践中 证明 很 适合 在 校园网 之类 的 环境 中 应用 ， 但是 这 类 系统 需要 额外 的 服务器 ， 而且 身份 认证 协议 复杂 。 校园 信息 发布 系统 要求 简单 可靠 的 身份 认证 机制 ， 因此 系统 采用 从 Kerberos 系统化 简 形成 的 基于 共享 密钥 的 身份 认证 机制 。 　 　 应用层 的 完整性 控制 一般 采用 单向 函数 散列 函数 和 数据 加密 等 方法 ， 这样 如果 数据 在 传输 过程 中 被 非法 修改 ， 接收 方 就 可以 检测 到 。 单向 函数 法 具有 很 高 的 效率 ， 通常 单向 函数 与 数据 加密 方法 共同 作用 实现 完整性 控制 。 　 　 校园 信息 发布 系统 的 特点 决定 了 只有 学校 的 各个 职能部门 以及 各院系 才 有权 使用 校园 信息 发布 系统 发布 信息 ， 学生 和 普通 的 教工 只能 浏览 和 查找 所 发布 的 信息 。 不同 的 部门 给予 不同 的 用户 ID ， 并且 和 系统 共享 只有 两者之间 才 了解 的 密钥 ， 这个 共享 密钥 自身 并 不 在 网络 中 传输 。 发布 信息 的 过程 中 ， 当 信息 发布 方 收到 系统 的 认证 请求 后 ， 输入 共享 密钥 ， 然后 客户程序 随机 生成 一个 密钥 作为 两者 间 的 会 话 密钥 ， 并用 共享 密钥 加密 ， 与 用户 ID 一起 发送给 系统 ， 系统 收到 后 根据 用户 ID 取出 共享 密钥 解密 后 得到 会话 密钥 。 值得注意 的 是 这时 身份 认证工作 并 没有 完成 ， 而且 为了 防止 加密 后 的 会 话 密钥 被 重用 ， 会话 密钥 被 附加 上 时间 标签 当时 的 时间 后 才 使用 共享 密钥 加密 。 现在 双方 的 会 话 密钥 并 不是 用来 加密 双方 的 通讯 信息 的 ， 而是 用来 进行 保证 信息 的 完整 。 信息 发布 方 首先 把 单向 函数 作用 于 发布 的 信息 ， 得到 消息 摘要 ， 然后 把 消息 摘要 用会话 密钥 加密 作为 校验 和 ， 与 信息 一起 发送给 CIPS 。 系统 收到 后 首先 把 单向 函数 作用 于 所 收到 的 信息 ， 得到 对应 的 消息 摘要 ， 然后 用会话 密钥 解密 收到 的 校验 和 ， 把 得到 的 结果 与 消息 摘要 比较 ， 如果 两者 相同 说明 信息 确实 是 拥有 共享 密钥 的 人 发布 的 ， 而且 在 传输 过程 中 没有 被 非法 修改 。 否则 的话 ， 要么 发布者 身份 不符 ， 要么 所 发布 的 信息 在 传输 过程 中 被 修改 。 也就是说 身份 认证 是 在 信息 的 上载 完成 后 才 结束 的 ， 这种 方法 的 优点 是 实现 简单 ， 使用方便 ， 任何 一台 计算机 都 可以 用来 上载 信息 。 由于 共享 密钥 不 通过 网络 传输 ， 避免 了 密钥 在 传输 过程 中 失窃 的 危险 ， 而 不可 重用 的 会 话 密钥 即使 被 破解 也 不会 造成危害 工作 过程 如图所示 。 图 　 CIPS 的 身份 认证 及 完整性 控制 　 　 其中 ， DK 代表 会话 密钥 ， SK 代表 共享 密钥 ， Hash 函数 是 指散列 函数 单向 函数 ， CC 表示 校验 和 ， MD 指由 Hash 函数 生成 的 消息 摘要 。 　 校园 信息 发布 系统 CIPS 的 模型 　 　 CIPS 结合 了 Web 页面 发布 和 数据库 发布 ， 通过 浏览器 以 静态 主页 和 发布 数据库 的 形式 提供 信息 ， 对于 一般 的 校园网 用户 则 提供 了 浏览 这 两类 信息 的 不同 方法 。 用户 通过 普通 浏览器 浏览 发布 的 主页 ， 由于 提供 了 可视化 数据库 查询方法 ， 需要 借助于 特定 的 客户程序 并 在 浏览器 的 帮助 下 才能 浏览 已 发布 的 数据库 信息 。 相应 的 客户端程序 也 分成 两类 ： 一类 是 提供 给 信息 资源 发布者 使用 的 信息 发布 工具 ； 另一类 是 提供 给 普通用户 用来 浏览 已 发布 的 数据库 信息 的 数据库 浏览 程序 ， 每 一类 客户程序 都 有 对应 的 CIPS 的 服务器端 程序 。 具体 见图 。 图 　 校园 信息 发布 系统 CIPS 的 结构 　 　 信息 发布 工具 的 主要 功能 是 通过 浏览器 访问 打算 发布 的 主页 和 本地 数据库 ， 进行 身份 认证 以及 完整性 控制 并 把 要 发布 的 信息 发送给 CIPS 服务器 驻留 的 WWW 站点 。 数据库 浏览 工具 是 用户 浏览 站点 上 已 发布 的 数据库 信息 的 界面 ， 根据 用户 的 请求 生成 相应 的 查询 条件 并 显示 查询 结果 。 资源管理 系统 进行 身份 认证 、 完整性 控制 ， 管理 已 发布 的 信息 资源 主页 和 数据库 并 记录 日志 。 数据库 管理系统 接收 Web 服务器 发来 的 数据库 访问 请求 并 返回 相应 的 结果 。 信息 发布 是 目前 Web 上 最 重要 的 应用 ， 传统 的 方法 只 支持 主页 形式 的 发布 ， 不能 充分利用 已有 的 数据库 资源 ， 不能 适应 Web 发展 的 要求 。 本文 提出 的 校园 信息 发布 系统 CIPS 在 保留 了 对 主页 发布 的 支持 的 基础 上 实现 了 数据库 发布 ， 发布者 可以 在 信息 发布 工具 的 帮助 下 获得 本地 数据库 中 的 部分 或 全部内容 ， 并 发布 到 CIPS 驻留 的 站点 中 ， 存储 在 站点 的 数据库系统 中 。 这样 本地 数据库 中 可以 公开 的 数据 就 被 上载 到 校园网 的 信息 发布 站点 中 ， 校园网 的 用户 就 可以 利用 浏览器 以及 所 提供 的 数据库 浏览 工具 浏览 、 查找 所 发布 的 信息 。 　 系统 原型 　 　 校园 信息 发布 系统 CIPS 的 主要 部分 已经 完成 ， 我们 的 Web 服务器 使用 的 是 著名 的 ApacheServer ， 数据库 管理系统 则 是 应用 广泛 的 SQLServer ， Web 浏览器 采用 了 流行 的 Netscape 和 微软 的 InternetExplorer 。 具体 的 ， 我们 修改 了 Apache 的 核心 ， 使得 Apache 服务器 可以 直接 与 SQLServer 交互 ， 响应 用户 的 请求 ， 接受 用户 的 SQL 查询 语句 ， 交给 SQLServer 执行 并 把 结果 返回 给 用户 。 用户 发出 的 消息 是 SQL 查询 语句 ， 服务器返回 的 是 数据库 表 。 为此 我们 开发 了 一个 专用 的 客户端 数据库 浏览 程序 SJKClient ， 作为 用户端 Web 数据库 浏览 界面 ， 由 浏览器 以 HelperApplication 的 形式 激活 。 用户 浏览 数据库 时 只 需 在 浏览器 中 输入 已经 在 CIPS 上 发布 的 数据库 的 URL 文件 的 扩展名 必须 是 db ， 浏览器 与 相应 的 服务器 建立 连接 ， 接收 服务器 的 响应 并 根据 接收 到 的 响应 的 内容 决定 是否 激活 客户程序 SJKClient 。 SJKClient 程序 被 激活 后 不再 依赖于 浏览器 ， 而是 直接 与 服务器 建立 连接 ， 接收 用户 所 请求 的 数据库 的 结构 信息 ， 然后 用户 根据 数据库 的 结构 信息 生成 查询 语句 ， 发给 服务器 ， 然后 接收 并 以 一定 的 格式 显示 结果 。 　 　 对于 打算 上载 已有 的 数据库 的 部分 或 全部内容 的 用户 ， 实现 中 我们 采取 了 一种 简单 的 方式 。 用户 只 需 利用 本地 数据库系统 提供 的 工具 把 数据库 转化成 文本文件 ， 然后 通过 浏览器 访问信息 发布 站点 的 主页 ， 在 主页 提供 的 FORMs 中 的 指定 位置 输入 文本文件 的 路径 和 名称 以及 其它 信息 ， 确认 提交 后 浏览器 就 会 把 文本文件 的 内容 发送给 服务器端 的 CGI 程序 ， 由 CGI 程序 完成 从 文本文件 到 SQLServer 数据库 格式 的 转化 并 生成 新 的 数据库 ， 然后 这个 数据库 就 可以 通过 Web 访问 了 。 　 结论 　 　 校园 信息 发布 是 校园 网络 的 重要 功能 ， 也 是 一种 Web 信息 资源 发布 应用 。 本文 提出 的 校园 信息 发布 系统 CIPS 结合 了 主页 发布 和 数据库 发布 两 方面 的 功能 ， 能够 满足 学校 各个 机关 和 院系 通过 校园网 发布 信息 的 要求 。 目前 系统 大部分 功能 都 已经 实现 ， 正在 努力 使 系统 达到 实用化 的 程度 。 吴志刚 哈尔滨工业大学 计算机科学 与 工程系 哈尔滨 方滨兴 哈尔滨工业大学 计算机科学 与 工程系 哈尔滨 马涛 哈尔滨工业大学 计算机科学 与 工程系 哈尔滨 李亚萍 哈尔滨工业大学 计算机科学 与 工程系 哈尔滨 参考文献 刘 欣然 基于 Web 的 计算资源 发布 研究 哈尔滨工业大学 工学 博士学位 论文 SChokhaniTowardsaNationalPublicKeyInfrastructureIEEECommunicationsMagazinep ～ September 盛焕页 王钰 基于 Kerberos 的 公开密钥 身份 认证 协议 计算机 工程 VolNo 收稿 日期 ： 年月日