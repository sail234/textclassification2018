计算机 研究 与 发展 JOURNALOFCOMPUTERRESEARCHANDDEVELOPMENT 　 Vol 　 No 　 P 自主 机器人 自 组织 结构 IRASO 的 仿真 研究 朱淼良 　 张新晖 　 吴春明 　 钱徽 摘 　 要 ： 自主 机器人 车辆 具有 智能性 和 快速反应 的 特点 ， 而 在 精确 推理 和 实时性 之间 寻求 最佳 折衷 是 体系结构 的 关键 文中 提出 基于 分布式 多 Agent 系统 的 自 组织 体系结构 IRASO ， Agent 之间 动态 组合 以 适应环境 变化 ， 公告 板系统 评估 环境 势态 和 指导 Agent 组织 ， 同时 设计 了 Agent 协调 工作 的 空间 和 时间 模型 基于 TCP ／ IP 的 计算 联通 域 为 异质 分布式 多 Agent 的 协作 运行 提供 支持 仿真 结果表明 该 结构 在 智能性 和 实时性 达到 了 期望 特性 关键词 ： 自主 机器人 ， 多 智能 体 系统 ， 分布式 人工智能 ， 公告 板系统 ， 势态 评估 分类号 ： TP ； TPSIMULATIONSTUDYOFTHESELFORGANIZINGARCHITECTUREIRASOFORAUTONOMOUSROBOTVEHICLESZHUMiaoLiangInstituteofArtificialIntelligenceZhejiangUniversityHangzhouZHANGXinHuiInstituteofArtificialIntelligenceZhejiangUniversityHangzhouWUChunMingInstituteofArtificialIntelligenceZhejiangUniversityHangzhouQIANHuiInstituteofArtificialIntelligenceZhejiangUniversityHangzhouAbstract ： IntelligenceandresponsivenessarethetwoissuesinarchitecturesofautonomousrobotvehiclesThekeyishowtomakegoodtradeoffbetweendeliberativereasoningandfastreactionThispaperexploresatypeofarchitecturewhichisbasedonadistributedmultiagentsystemAgentscanbedynamicallyreorganizedtosuitthevariousenvironmentsAbulletinboardsystemplaystheroleofassessingthesurroundingsituationandorganizationoftheagentsSeveralmodelsaredesignedtocoordinateagentsbothintemporalandspatialThecomputingcoherentfieldbasedonTCPIPsupportsagentstoworktogetherThesimulationshowsthatthearchitectureisdesirablebothinintelligenceandresponsibilityKeywords ： autonomousrobotvehicle ， multiagentsystem ， distributedartificialintelligence ， bulletinboardsystem ， situationassessment ▲ 　 引言 　 　 工作 在 复杂 和 动态变化 的 非 结构化 环境 中 的 自主 机器人 车辆 ARV 必须 具备 足够 的 智能 以便 处理 和 适应 各种 不可 预见 势态 有 多种 使 机器人 具有 智能 的 方法 ， 通常 把 任务 分解成 能 被 多个 模块 完成 的 子 任务 ， 这些 模块 具有 专门 的 领域 知识 且 能 单独 解决 特定 的 问题 ， 如 感知 、 规划 、 推理 等 体系结构 的 要点 在于 组织 各 功能模块 以 求得 优化 功能 ， 使 系统 在 智能 和 效率 方面 达到 较 高 的 性能 ， 对 动态 环境 作出反应 限于 机器人 系统 的 有限 资源 ， 有 必要 在 快速反应 和 精确 推理 之间 寻求 最佳 折衷 ARV 最 主要 的 体系结构 可 分为 分层 递解 式 结构 和 包容 式 结构 两种 在 分层 递解 式 结构 中 ［ ］ ， 精确 推理 在 高层 ， 而 在线 的 输入输出 在 底层 ， 从 底层 传感器 得到 的 数据 经过 层层 处理 传送 到 高层 进行 精确 评估 和 推理 ， 生成 控制 命令 再 层层 下 传 这样 的 结构 有 足够 的 智能 ， 但 效率 会 随着 层数 的 增加 而 降低 包容 式 结构 是 另 一种 形式 的 分层 结构 ， 每层 相当于 一个 行为 产生器 如 道路 跟踪 、 避障 ， 能 直接 感知 环境 和 作出反应 多个 行为 产生器 提供 并发 的 多种 行为 ， 使 系统 更加 敏捷 在 早期 的 结构 中 ［ ］ ， 多种 行为 的 裁决 通过 线 连接 实现 ， 高层 覆盖 低层 当 目标 复杂 时 ， 该 结构 暴露 了 一些 问题 ， 且 难以 利用 全局知识 　 　 一些 实际 系统 采用 一定 的 办法 来 结合 两者 的 优点 ， 如 美国 Demo 计划 中 的 SSV ［ ］ ， Liscano 提出 用 黑板 系统 协调系统 行为 ［ ］ ， Rosenblatl 在 DANM 系统 中 用 行为 器 的 投票 来 解决 多 目标 的 命令 融合 和 全局 导航 问题 ［ ］ 　 　 本文 通过考察 人 的 智能 行为 模型 ， 提出 相应 的 自主 机器人 体系结构 首先 考虑 人 驾驶 汽车 的 行为 ： 当 行驶 在 路况 良好 的 结构化 道路 时 ， 只要 简单 地 跟踪 道路 两边 或 中心线 ， 而 不 需要 更 多 的 智能 ， 然而 当 达到 某一 分叉 点时 ， 驾驶员 必须 深入 思考 ， 包括 使 车辆 减速 、 判断 分叉 点 的 地形 ， 从 地图 知识 中 找到 正确 的 分叉 方向 ， 然后 向 左 或 向右转 从该 例中 我们 可以 得到 如下 结论 ： 　 　 当 环境 势态 简单 时 ， 驾驶 任务 也 简单 ， 只要 执行 很少 几个 操作 行为 然而 当 周围环境 变得复杂 时 ， 必须 执行 更 多 更 精巧 的 任务 或子 任务 ； 　 　 处理 不同 的 势态 需 不同 的 任务 或子 任务 的 组合 ， 即 解决 不同 状态 下 问题 的 智能 行为 由 多种不同 的 操作 行为 组合而成 ； 　 　 势态 的 评估 对于 如何 操纵 行动 以 产生 智能 行为 非常 重要 　 　 因而 对于 驾驶 在 不可 预见 环境 中 的 车辆 ， 势态 评估 和 智能 行为 组织 是 非常 重要 的 ， 这两点 是 自主 和 智能 控制 的 内核 且 依赖于 体系结构 本文 提出 基于 分布式 多 Agent 的 体系结构 ： 自 组织 结构 IRASOIntelligentRoboticArchitecturewithSelfOrganization 该 体系结构 是 分布式 人工智能 的 协同 多 Agent 系统 ， Agent 产生 行为 ， 工作 中 只有 必需 的 Agent 被 激活 来 响应 当前 环境 公告 板 收集 外部 和 内部 事件 ， 进行 势态 评估 ， 作出 决策 和 协调 仿真 结果表明 该 体系结构 在 智能性 和 反应 能力 上 都 达到 了 期望 特性 　 体系结构 　 　 图是 机器人 在 执行 “ 道路 跟踪 ” 任务 时 IRASO 的 组织 它 组合 了 个 Agent 以 完成 该 任务 中心 信息处理系统 公告 板 显示 当前任务 状态 是 “ 道路 跟踪 ” ， 在 当前 状态 下 激活 道路 检测 、 路径 规划 、 驾驶 命令 、 移动 和 定位 等 Agent 分别 完成 不同 的 子 任务 ， 它们 共同 合作 完成 道路 跟踪 与此同时 障碍 检测 Agent 检测 道路 前方 区域 是否 有 障碍 ， 若 发现 障碍 ， 就 向 公告 板 报告 “ 发现 障碍 ” 的 事件 公告 板 评估 所有 Agent 提供 的 事件 ， 包括 新 事件 “ 发现 障碍 ” ， 然后 将 当前 状态 转变 为 “ 避障 ” ， 即 机器人 前方 发现 障碍 且 应 采取行动 来 避开 它 在 当前 状态 的 指导 下 ， 驾驶 命令 Agent 首先 送 出 命令 “ 减速 ” 给 移动 控制 Agent 其他 Agent ， 如 融合 Agent 也 被 激活 并 加入 来 完成 避障 任务 值得注意 的 是 已 激活 Agent 在 新 状态 下会 改变 其 功能 ， 如 障碍 检测 Agent 的 功能 从 检测 转变 为 准确 计算 障碍物 的 位置 融合 Agent 同时 接收 来自 路径 检测 和 障碍 检测 两个 Agent 的 数据 ， 生成 包括 道路 形状 和 前方 障碍物 的 局部 地图 ， 路径 规划 Agent 改成 避障 规划 算法 ， 全局 监控 Agent 定时 接收 定位 信息 并 计算 机器人 是否 进入 分叉 区 或 达到 目的地 其他 Agent ， 如 路标 定位 图中 的 虚 圆 没有 被 激活 ， 处于 睡眠 状态 分叉 是 更加 复杂 的 任务 ， 不仅 需要 视觉 信息 定位 分叉 点 ， 同时 需要 全局 地图 知识 如图所示 ， 在 该 状态 下有 个 Agent 从 不同 方面 协作 完成 分叉 任务 系统 在 不同 状态 下 参与 完成 任务 的 Agent 不 相同 ， 体系结构 表现 出自 组织性 　 　 　 　 图 　 道路 跟踪 状态 下 的 IRASO 结构 　 　 　 　 图 　 分叉 状态 下 的 IRASO 结构 　 　 以上 的 描述 体现 了 IRASO 的 如下 特性 ： 　 　 首先 IRASO 将 智能 行为 分布 在 Agent 中 ， 每个 Agent 是 自主 独立 工作 的 问题 求解 单元 ， 如果 需要 ， 它们 协作 解决 复杂 的 全局 任务 如避障 当前 状态 是 关键 信号 ， 它 告知 所有 Agent 当前 的 全局 任务 ， 在 当前 状态 下 ， 每个 Agent 根据 其 先验 知识 选取 不同 的 功能 包括 睡眠 或 激活 并 决定 如何 和 别的 Agent 合作 数据 的 输入输出 IRASO 中 Agent 之间 是 通过 公告 板来 协调 的 ； 　 　 其次 ， 当前 状态 必须 正确 反映 当前 势态 并 为 所有 Agent 的 工作 提供 全局 指导 公告 板 收集 所有 来自 Agent 的 事件 ， 每个 事件 描述 了 处理 数据 时所 发生 的 结果 如 障碍物 检测 Agent 从 激光 扫描 图像 数据 中 检测 到 障碍 ， 就 向 公告 板 报告 “ 发现 障碍 ” 事件 公告 板中 事件 集合 提供 了 车辆 系统 内外 的 全局 信息 基于 先验 知识 或 模型 ， 公告 板 评价 每个 事件 和 全局 势态 并 最终 推理 出 当前 状态 势态 评估 精确 地 基于 全局 信息 ， 从而 保证 了 当前 状态 的 正确性 　 　 整个 系统 中有 三类 消息 第一类 是 描述 图像 、 路径 等 对象 的 对象 数据 ， 它们 被 不同 的 Agent 依次 处理 且 只 在 Agent 之间 交换 ； 第二类 是 Agent 对 结果 数据 的 简单 描述 或 处理过程 评价 的 事件 信号 ， 编码 成 符号 形式 且 直接 提交 给 公告 板 ； 第三类 当前 状态 是 当前 势态 的 评估 结果 并 以 广播 的 方式 送给 所有 Agent 　 　 系统 中 存在 两个 信息 ／ 控制流 ， 分别 为 数据流 和 信号 流 数据流 由 对象 数据 组成 ， 形成 感知 规划 行为 的 环路 ， 产生 机器人 行为 信号 流是 由 Agent 与 公告 板 之间 的 事件 和 当前 状态 组成 ， 形成 状态 决策 行动 的 环路 显而易见 ， 后者 是 比 前者 更 高级 的 环路 ， 它 监控 前者 ， 包括 激活 和 组织 Agent 因而 系统结构 Agent 及 它们 之间 的 相互 关系 能够 根据 环境 动态 重组 ， 表现 出自 组织性 在 不同 状态 下 ， 系统 灵活 地 组织 各 Agent 形成 不同 的 拓扑 结构 ， 如 在 简单 环境 下 可能 只 含有 一个 传感器 和 一个 执行器 ， 而 在 复杂 环境 中 ， 为了 精确 推理 ， 包含 了 全局 和 局部 规划 该 体系结构 极大地提高 了 处理 复杂 动态 环境 的 能力 ， 而 不 需要 复杂 的 固定 结构 　 　 在 大多数 情况 下 只有 部分 必需 的 Agent 需要 保持 工作 ， 这是 由于 当前 状态 可以 精确 确定 当前情况 下 需要 哪些 Agent ， 另外 的 Agent 可以 安排 睡眠 在 计算机系统 中 ， 一个 Agent 可以 映射 成 一个 软件 模块 ， 睡眠 的 Agent 释放 其 占用 的 资源 CPU 和 网络资源 ， 使得 当前工作 的 Agent 效率 更高 　 　 下面 对 构成 体系结构 的 三要素 ： Agent 、 联通 域 和 公告 板 分别 加以 描述 　 专用 Agent 　 　 Agent 是 一 自主 和 异质 的 特定 领域 的 问题 求解 单元 ， 具有 自己 的 知识 模型 和 I ／ O 系统 ， 独立 工作 在 计算环境 中 Agent 的 变化 从 简单 的 设备 驱动器 到 复杂 的 专家系统 ， 一个 Agent 同时 有 多种 功能 处理 不同 的 势态 如 视觉 Agent 既要 能 找到 普通 路边 ， 同时 也 能 找到 道路 交叉点 Agent 能 柔性 改变 和 其它 Agent 的 IO 连接 为了 满足 上述 要求 ， 我们 设计 了 图 所示 的 IRASO 通用 Agent 结构 模型 ， 它 包含 个 部分 ； 内核 、 I ／ O 端口 和 “ 开关 ” 内核 含有 特殊 的 功能 函数库 或 知识库 系统 I ／ O 端口 提供 了 和 其它 Agent 互换 消息 的 多个 通道 ， 通道 不是 线 连接 ， 而是 软 连接 ， 就 像 软件 模块 之间 的 通信 一样 可以 建立 任何 两个 Agent 之间 的 连接 通道 ， 计算环境 联通 域 提供 了 一系列 这样 的 工具 “ 开关 ” 是 Agent 和 公告 板 的 接口 ， 接收 当前 状态 和 报告 事件 ， 由 它 选择 内核 功能 和 建立 I ／ O 通道 ， “ 开关 ” 的 工作 模型 可以 是 简单 的 查表 ， 也 可以 是 复杂 的 状态 自动机 　 　 　 　 　 　 图 　 Agent 结构 模型 　 　 Agent 在 一般 情况 下 按 如下 方式 工作 ： 首先 从 公告 板 的 广播 中 取得 当前 状态 ， 并 由 “ 开关 ” 作出 决策 ， 选择 特定 的 内核 功能 和 I ／ O 通道 ， 内核 处理 从 输入 通道 来 的 数据 ， 并 把 结果 输出 到 相应 的 输出 通道 Agent 同时 推断出 处理结果 ， 对 结果 数据 作出评价 作为 事件报告 给 公告 板 一个 Agent 有 两种 状态 ： 运行 激活 ， 睡眠 和 半 睡眠 在 半睡眠状 态 ， Agent 仍然 工作 ， 并 向 公告 板 报告 事件 ， 但 并 不 输出 数据 ， 起到 监视器 的 作用 ， 如 在 道路 跟踪 状态 下 的 障碍 检测 Agent “ 开关 ” 可以 使 Agent 睡眠 ， 实际上 睡眠 的 Agent 并 没有 真正 睡眠 ， 它 仍然 从 公告 板 接收 当前 状态 并 在 必要 时 唤醒 自己 　 　 上述 的 Agent 是 在 一个 称为 联通 域 的 环境中工作 的 ， 联通 域 是 所有 Agent 和 公告 板 协作 运行 的 分布式计算 环境 ， 它 所 支持 的 计算机系统 从 单片机 到 高级 工作站 ， 操作系统 都 不 相同 　 　 体系结构 的 首要任务 是 把 这些 异质 系统 结合 到 统一 的 联通 环境 中 ， 该 环境 是 多 Agent 协作 的 基础 在 不同 的 计算机系统 上 运行 的 Agent 可以 以 统一 的 通信 和 资源共享 方式 并发 ， 同步 工作 　 　 联通 域 底层 用 网络连接 不同 的 计算机 ， 基于 TCPIP 的 网络 邮件 发送 软件 支持 在 网络 任何 合适 的 节点 加载 Agent 和 实现 Agent 之间 点到点 的 实时 信息 传送 联通 域 的 另 一个 特点 是 统一 的 逻辑 名字 和 协议 一旦 Agent 登记 了 其 逻辑 名 ， 就 可以 “ 存活 ” 和 运行 在 任何 节点 Agent 传递 消息 就是 以 简单 的 格式 写 一封信 ， 传送 系统 按照 名字 可以 把 该 消息 通过 网络 送到 目的地 由于 传送 的 实时性 ， Agent 可以 通过 它 来 协调 工作 在 联通 域 中 ， Agent 之间 I ／ O 通道 的 建立 只是 简单 地 改变 相关 Agent 的 名字 就 可 实现 　 公告 板 — — Agent 协调 机构 　 　 公告 板 是 高层 的 监控器 ， 其 功能 是 收集 事件 和 评估 事件 所 表示 的 势态 ， 并 对 当前 状态 的 改变 作出 决策 当前 状态 是 Agent 活动 和 协作 的 关键 信号 ， 所以 状态 改变 必须 相当 精确 ， 状态 改变 依赖于 协作 模型 和 执行 机制 ， 后者 必须 高效 公告 板系统 有 和 黑板 相似 的 结构 ， 但 又 不是 传统 的 黑板 系统 ， 其 结构 如图所示 公告 板系统 由 布告板 、 知识库 和 推理机 部分 组成 布告板 作为 中心 黑板 是 所有 Agent 的 共享内存 ， 它 分为 部分 ： 第 部分 存放 全局 数据 ， 如 机器人 系统 参数 ； 第 部分 存放 收集 的 事件 ； 第 部分 是 周期性 更改 的 当前 状态 一个 监控器 管理 公告 板 的 入口 ， 包括 接收 事件 和 广播 当前 状态 知识库 包含 势态 评估 和 状态 转换 模型 ， 采用 基于 规则 的 知识库 系统 来 实现 精确 推理 推理机 观察 布告板 的 变化 ， 寻找 知识库 中 的 匹配 规则 并 执行 匹配 规则 ， 该 过程 重复 执行 直到 得到 新 的 当前 状态 由于 传统 的 符号 推理 系统 难以 实时 实现 ， 设计 了 基于 OPS 系统 的 Rete 网 结构 和 知识 编码 相结合 的 快速 推理机 FRete ， 推理 速度 大大提高 ， 通常 的 状态 转变 决策 可以 在 毫秒 级 完成 　 　 　 　 图 　 公告 板系统 　 　 需要 指出 两点 ， 第一 ， 公告 板系统 不同于 传统 的 黑板 系统 ， 虽然 公告 板中 有 中心 黑板 作为 全局 共享内存 的 布告板 ， 但 没有 传统 黑板 系统 中 的 知识 源 ， 用 规则 系统 执行 推理 ， 因而 更是 一个 产生式系统 布告板 相当于 工作 内存 ， 对 所有 Agent 开放 ， 不像 普通 产生式系统 中 只 对 推理机 开放 推理 过程 基于 势态 评估 和 状态 转换 模型 ， 该 模型 很 容易 用 规则 系统 表示 ， 且 推理 速度 可以 用 知识 编码 技术 提高 ； 第二 ， 公告 板系统 也 不同于 CMU 的 Navlab 中 的 白板 系统 在 白板 系统 中 ， 知识 源用 多个 并发 的 专用 模块 取代 ， 这些 模块 监视 中心 白板 以 决定 它们 的 行为 ， 同时 它们 也 把 中心 白板 作为 中心 数据库 和 模块 间通信 的 媒体 中心 白板 不可避免 地 成为 整个 系统 的 “ 瓶颈 ” 相反 ， 公告 板系统 只是 起到 收集 事件 和 作出 势态 评估 ， 当前 状态 以 不 占 多少 带宽 的 广播 方式 传送 ， 数据 直接 从 Agent 到 Agent 传送 ， 避免 了 通信 阻塞 　 协作 与 协调 模型 　 　 协作 和 协调 是 多 Agent 系统 的 实质问题 在 IRASO 中 同时 存在 信号 流 和 数据流 信号 流由 事件 和 状态 信号 组成 状态 决策 行动 的 高层 监控 回路 ， 机器人 的 行为 由 事件驱动 ， 即 Agent 间 的 协作 是 事件驱动 的 ， 因而 可用 离散 事件 系统 理论 DES ［ ］ 设计 Agent 的 协调 模型 行为 调度 器 ， 该 模型 用 基于 规则 的 知识库 表达 ， 由 推理机 完成 组成 感知 规划 行为 回路 的 数据 被 不同 的 Agent 依次 顺序 处理 ， 为了 提高 数据处理 能力 ， 设计 了 流水线 导航 模型 ［ ］ 而 冻结 坐标 模型 则 用来 解决 Agent 在 时间 和 空间 上 的 同步 个 模型 在 不同 层次 上 协调 多 Agent 系统 ， 表现 出 反应 的 实时性 和 智能性 　 　 调度 器 完成 势态 评估 和 当前 状态 转变 按照 DES 理论 ， 整个 系统 可以 看成 一个 被控 对象 和 监控器 ， 前者 是 真实 系统 ， 可以 用 有限 状态 自动机 或 形式语言 加以 描述 监控器 控制系统 中 事件 的 发生 ， 因而 使 对象 跟随 期望 的 状态 序列 直到 目标 状态 IRASO 中 ， 事件 由 Agent 报告 ， 而 期望 状态 改变 可以 描述 成图 所示 的 状态 变迁 图 在 通常 情况 下 ， 机器人 可以 成功 地 根据 状态 变迁 图 到达 最终目标 图 只是 原则上 描述 了 控制 过程 ， 实际 执行 模型 更加 细化 调度 器 模型 用 规则 库 系统 实现 并 考虑 了 更 多 的 细节 图是 图中 的 分叉 转弯 状态 的 详细描述 下面 是 它 的 解释 　 　 　 　 图 　 调度 器 模型 　 　 　 　 图 　 状态 “ 分叉 ” 的 详细描述 　 　 （ ） 子 状态 BT ： 警告 前方 区域 可能 有 分叉 道路 　 　 原因 ： 由 全局 监控 Agent 比较 机器人 当前 位置 和 地图 知识 ， 得到 事件 “ 进入 分叉 区 ” 　 　 结果 ： 　 　 　 　 ① 驾驶 命令 Agent ： 发出 减速 命令 ； 　 　 　 　 ② 道路 检测 Agent ： 集中 于 道路 形状 ， 检查 是否 有 分叉 特征 ； 　 　 　 　 ③ 路标 检测 Agent ： 被 激活 检查 路标 ； 　 　 　 　 ④ 全局 监控 Agent ： 从 全局 规划 中 得到 全局 路径 　 　 （ ） 子 状态 BT ： 检测 出 可能 的 分叉 路 类型 　 　 原因 ： 道路 检测 Agent 在 BT 下 发出 事件 “ 分叉 路 类型 ” 　 　 结果 ： 　 　 　 　 ① 道路 检测 Agent ： 仍然 集中 于 路边 形状 ； 　 　 　 　 ② 路标 检测 Agent ： 仍然 致力于 发现 路标 　 　 （ ） 子 状态 BT ： 确认 车辆 已 进入 分叉 ， 准备 转弯 　 　 原因 ： 路标 检测 Agent 在 BT 或 BT 状态 时 发现 路标 　 　 结果 ： 　 　 　 　 ① 全局 监控 Agent ： 输出 全局 道路 给 路径 规划 ； 　 　 　 　 ② 路径 规划 Agent ： 作出 跟随 左右 边 的 决定 ； 　 　 　 　 ③ 道路 检测 Agent ： 转为 集中 于 左右 路边 ； 　 　 　 　 ④ 全局 监控 Agent ： 进入 半 睡眠 ； 　 　 　 　 ⑤ 路标 检测 Agent ： 进入 睡眠 　 　 （ ） 子 状态 BT ： 左右 转 　 　 原因 ； 道路 检测 Agent 在 BT 或 BT 下 发出 “ 分叉 路 类型 ” 事件 　 　 结果 ： 　 　 　 　 ① 道路 检测 Agent ： 仍然 集中 于 路边 ； 　 　 　 　 ② 路径 规划 Agent ： 跟随 左右 路边 　 　 如果 道路 检测 Agent 已经 几次 发现 两条 路边 平行 或 全局 监控 Agent 发现 机器人 已经 出 了 分叉 区 ， 状态 BT 将 改变 为 路径 跟踪 　 　 由 上 可 看出 ， 事件 、 状态 和 行为 相互 制约 ， 能够 用 基于 规则 的 知识库 系统 方便 表达 　 仿真 实现 及 结果 　 　 为了 验证 IRASO 的 正确性 ， 我们 用 多台计算机 组成 “ 软 机器人 ” 进行 仿真 仿真 实验 在 由 多台 PC 微机 ， SGI 和 SUN 工作站 组成 的 网络 上 完成 ， 操作系统 主要 有 WindowsNT 和 Unix 两种 ， 基于 TCP ／ IP 协议 的 联通 域 Robix 使 所有 的 计算机 工作 在 一个 统一 的 逻辑 计算环境 中 为了 保证 各 计算机 的 计算 均衡 ， 优化 网络 负载 ， 提高 通信 速度 ， 将 不同 Agent 按照 处理机 的 效率 分布 ： 道路 检测 和 障碍 检测 两个 Agent 运行 在 微机 上 ， SGI 工作站 上 运行 的 Agent 有 驾驶 命令 ， 移动 及 全局 监控 ， 同时 还有 一个 实时 采集 各 Agent 数据 的 监视 Agent ， 而 公告 板 ， 融合 和 路径 规划 Agent 则 运行 在 SUN 工作站 上 为了 仿真 的 简单 起 见 ， 还有 一些 Agent 如 路标 识别 等 Agent 没有 实现 ， 但 已有 的 Agent 足以 说明 体系结构 的 问题 首先 由 全局 规划 生成 一条 从 起始 位置 到 目的地 的 全局 路径 在 机器人 行驶 过程 中 ， 道路 检测 和 障碍 检测 Agent 负责 采集 前方 道路 信息 ， 融合 Agent 根据 视觉 数据 生成 局部 地图 ， 规划 Agent 根据 局部 地图 规划 局部 路径 ， 控制 Agent 生成 驾驶 命令 送给 移动 Agent 为了 分析 仿真 结果 ， 所有 Agent 的 处理结果 都 送给 监视 Agent 公告 板 根据 Agent 所 报告 的 事件 作出 势态 评估 ， 确定 当前 总体 状态 ， 协调 各个 Agent 的 运行 仿真 结果 见 图图 　 仿真 结果 　 　 在 仿真 中 ， 道路 的 宽度 设为 m ， 摄像机 的 有效 范围 为 m × m 在 直道 行驶 时 ， 机器人 的 最大 速度 为 kmh ， 而 在 分叉 行驶 时 机器人 的 速度 为 kmh 从图 中 可以 看出 ， 在 直道 行驶 时 机器人 的 速度 明显 比 分叉 行驶 时快 根据 节 的 讨论 ， 分叉 状态 是 公告 板 根据 道路 检测 和 全局 监控 所 报告 的 事件 而 得到 的 ， 在 黑板 收到 这些 事件 后 马上 通知 控制 Agent 减速 ， 同时 全局 监控 Agent 将 全局 道路 输出 给 规划 Agent ， 向 正确 的 方向 行驶 ， 车辆 的 及时 减速 对 正确 分叉 有 很大 的 帮助 　 结论 　 　 IRASO 体系结构 中 ， 公告 板 、 调度 器 模型 起 了 关键作用 从 仿真 结果 知 IRASO 有 如下 特点 ： 　 　 该 模式 在 智能 和 效率 之间 有 较 好 的 平衡 Agent 根据 不同 的 环境 和 势态 动态 配置 ， 在 简单 势态 时 ， 安排 紧缩 配置 实现 快速 驾驶 ， 用 复杂 的 组织 处理 复杂 的 环境 ； 　 　 调度 器以 DES 理论 的 事件 状态 转变 为 知识 模型 ， 通过 精确 推理 得到 合理 状态 ， 保证 任何 环境 下 Agent 组织 的 正确性 　 　 IRASO 是 基于 多 Agent 系统 的 柔性 自 组织 体系结构 ， 采用 分布式 智能 系统 解决 动态 复杂 势态 评估 和 快速反应 的 难题 中心 公告 板 实现 势态 评估 和 多 Agent 的 协调 ， 在 公告 板 的 协调 下 ， 对于 不同 的 势态 ， Agent 能 柔性 重组 ， 形成 不同 的 车辆 行为 和 其它 体系结构 相比 ， IRASO 有 精确 推理 和 反应 快速 的 特点 　 　 仿真 结果表明 IRASO 在 高层 智能 和 快速反应 上 都 达到 期望 特性 ， 通过 仿真 同时 发现 IRASO 允许 自主 机器人 运行 在 大多数 地形 中 ， 如 高速公路 ， 普通 道路 和 越野 行驶 ■ 基金项目 ： 本 课题 得到 国防科工委 “ 九五 ” 攻关项目 基金 资助 作者简介 ： 朱淼良 ， 男 ， 年月生 ， 教授 ， 博士生 导师 ， 主要 研究 方向 为 人工智能 、 计算 　 　 　 　 　 　 机 视觉 、 智能 机器人 　 　 　 　 　 张新晖 ， 男 ， 年月生 ， 博士 研究生 ， 主要 研究 方向 为 分布式 实时 智能 系统 、 　 　 　 　 　 　 智能 机器人 　 　 　 　 　 吴春明 ， 男 ， 年月生 ， 博士 ， 副教授 ， 主要 研究 方向 为 人工智能 、 智能 机器人 　 　 　 　 　 钱徽 ， 男 ， 年月生 ， 博士 研究生 ， 主要 研究 方向 为 人工智能 、 图像处理 作者 单位 ： 朱淼良 浙江大学 人工智能 研究所 　 杭州 　 　 　 　 　 　 张新晖 浙江大学 人工智能 研究所 　 杭州 　 　 　 　 　 　 吴春明 浙江大学 人工智能 研究所 　 杭州 　 　 　 　 　 　 钱徽 浙江大学 人工智能 研究所 　 杭州 　 参考文献 ： ［ ］ AlbusJMcCainHLumiaRNASANASstandardreferencemodelfortelerobotcontrolsystemarchitectureNASREMNBSTechNotel ［ ］ BrooksRArobustlayeredcontrolsystemforamobilerobotIEEEJournalofRoboticsandAutomationSeriesA ～ ［ ］ ChunWHJochemTMUnmannedGroundVehicleDemoIIDemonstrationAInProcofSPIEMobileRobotIXSPIEPress ， ～ ［ ］ LiscanoRetalUsingablackboardtointegratemultipleactivesandachievestrategicreasoningformobilenavigationIEEEExpert ～ ［ ］ RosenblattJDAdistributedarchitectureformobilenavigationInProcofAAAISympoonLLISAPAAAAIPress ［ ］ RamadgePJWonhamWMThecontrolofdiscreteeventsystemsProcofIEEE ， ～ 收稿 日期 ： 修稿 日期 ：