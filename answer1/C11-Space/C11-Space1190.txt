航空 工艺技术 AERONAUTICALMANUFACTURINGTECHNOLOGY 年 　 第期 　 No 智能 自治体 及其 在 敏捷 制造 中 的 应用 AgentandItsApplicationsinAgileManufacturing 蔡 元龙 　 邬学礼 　 　 ［ 摘要 ］ 　 介绍 了 智能 自治体 及 多 智能 自治体 系统 MAS 理论 ， 在 分析 敏捷 制造 单元 特点 的 基础 上 ， 提出 基于 MAS 的 敏捷 制造 单元 框架结构 ， 用 协商 机制 实现 了 敏捷 制造 单元 的 分布式 动态 调度 和 控制 。 　 　 关键词 ： 智能 自治体 　 多 智能 自治体 系统 　 敏捷 制造 　 　 ［ ABSTRACT ］ 　 InthispaperAgentandMultiAgentSystemMASareintroducedandaMASbasedframeworkforagilemanufacturingcellispresentedThedynamicschedulingandcontrolofagilemanufacturingcellisimplementedwithnegotiationinthisframework 　 　 KeywordsAgent 　 MAS 　 Agilemanufacturing 　 智能 自治体 Agent 发展 背景 　 　 美国 MMinsky 教授 在 其 《 心智 社会 》 “ ThesocietyofMind ” ， 年 出版 一书中 ， 提出 了 Agent 这一 概念 ［ ～ ］ ， 用来 描述 具有 自 适应 、 自治 能力 的 硬件 、 软件 或 其他 任何 自然物 、 人 造物 。 Agent 思想 和 技术 的 迅速 发展 应 归功于 以下 领域 的 研究进展 ： 　 　 分布式 人工智能 DAI 。 　 　 Agent 思想 可追溯 到 年代 对 分布式 人工智能 的 研究 ， 特别 是 CarlHewitt 的 并行 行动者 模型 ［ ］ 。 在 DAI 的 研究 中 ， 研究 人员 发现 把 大型 集中式 人工智能 系统 分解 为 一组 小型 分布式 的 模块 ， 不仅 使 系统 易于 实现 ， 且 由于 各 模块 之间 既有 独立自主 性 ， 又 能 互相 协调 合作 ， 因而 比 集中式 系统 更具 灵活性 和 健壮性 ， 并 有 更 高 的 问题 求解 效率 。 所以 ， 分布 的 、 具有 一定 独立性 和 自治 性 、 能够 协调 合作 的 Agent 思想 和 技术 得到 广泛 关注 ， 成为 分布式 人工智能 研究 中 的 热点 。 　 　 信息技术 。 　 　 年代 ， 人类 进入 信息时代 。 一方面 ， 新 信息 不断涌现 ， 信息 的 组织 和 服务 方式 千差万别 ， 使得 异构 和 分布式 的 信息 环境 不断 增多 ； 另一方面 ， 人们 对 信息 的 需求 呈现 多样化 趋势 ， 对 信息 的 处理 和 服务 方式 的 要求 灵活 多变 。 因而 ， 帮助 消费者 方便 、 快速 地 找出 需要 的 信息 ， 甚至 主动 地为 消费者 提供 所 需 的 信息 ， 并 提出 合理 使用 这些 信息 的 建议 ， 也 就是 为 消费者 提供 智能 信息 服务 ， 是 对 传统 信息技术 新 的 挑战 。 具有 较 高智能 和 主动性 的 Agent 思想 和 技术 为 这种 新 的 信息 需求 和 信息 服务 形势 提供 了 理想 的 解决方案 。 　 　 计算机网络 。 　 　 计算机网络 及其 技术 的 迅速 发展 ， 为 来源于 人工智能 的 Agent 技术 提供 了 良好 的 发展 机遇 与 应用环境 。 实际上 ， Agent 软件 的 进展 是 人工智能 在 网络 技术 发展 基础 上 的 新 成果 、 新 阶段 ， 未来 的 计算机网络 将会 是 一个多 智能 自治体 系统 ［ ］ 。 多 智能 自治体 技术 目前 的 应用领域 如 工作 流 管理 、 商业 过程 重组 、 电子商务 、 信息 获取 、 电信 网络管理 、 电子邮件 过滤 等 大多 是 基于 计算机网络 的 。 Agent 技术 将 为 计算机网络 的 发展 提供 巨大 的 技术支持 。 　 Agent 概念 、 特点 和 结构 　 　 Agent 理论 和 技术 无论 在 学术界 还是 企业界 都 得到 广泛 关注 ， 研究 人员 对 Agent 进行 了 各种各样 的 描述 ［ ， ］ ， 但 到 目前为止 ， 仍然 没有 一个 统一 的 定义 。 笔者 拟 归纳 为 ： Agent 是 一个 充分 自治 的 、 具有 独立 决策制定 和 行为 控制能力 的 软 、 硬件 系统 或 其他 人造 系统 ， 能够 基于 对 所处 环境 的 感知 和 与 外界 交互 所 获取 的 信息 ， 控制 自身 的 决策制定 和 行为 ， 实现 既定目标 。 目前 ， 对 Agent 的 论述 偏重于 软件系统 方面 ， 但 这里 并 不 排除 用 硬件 或 其他 系统 实现 的 Agent 。 Agent 主要 有 以下 个 特点 ［ ， ］ ： 　 　 自治 Autonomy 。 在 没有 人 参与 或 干涉 的 情况 下 ， Agent 能 独立 执行 任务 ， 并 能 在 某种程度 上 控制 自己 的 行为 和 内部 状态 。 　 　 社会 能力 Socialability 。 通过 某种 或 某些 通信 语言 ， Agent 能 与 其他 Agent 系统 或 人类 等 外界 环境 进行 智能 的 、 富有 建设性 的 交互 ， 以 完成 自己 的 任务 或 协同 其他 Agent 完成 任务 ， 即 Agent 具有 一定 的 类似 于 人 的 社会 能力 。 　 　 反应 性 ResponsivenessorReactivity 。 Agent 通常 处于 一定 的 环境 中 ， 这一 环境 可以 是 一个 物理 世界 、 一个 使用 图形界面 的 用户 、 一个 Agent 集合 或是 计算机网络 如 Internet 等 。 Agent 能 感知 所 处 环境 ， 并 对 其中 的 变化 和 信息 及时 作出反应 。 　 　 主动性 Proactivity 。 Agent 不仅 能 对 所处 环境 作出 被动 的 反应 ， 而且 可以 表现 出 一定 的 投机性 和 由 目标 引导 的 行为 ， 在 适当 的 时候 可以 主动 去 获取 有利于 自己 的 信息 和 知识 ， 采取 合理 的 行动 。 　 　 图 给出 Agent 的 一种 典型 结构 ， 主要 包含 智能 信息处理系统 、 知识库 、 数据库 和 通信 系统 。 智能 信息处理系统 是 实现 Agent 智能 行为 的 核心 ， 具有 推理 、 自 学习 能力 和 某些 其他 能力 。 知识库 包括 通讯录 用于 与 外界 的 联系 、 领域 知识 、 决策 方法 等 知识 。 数据库 包含 工作 记录 、 自身 状态 信息 、 环境 信息 等 数据 。 通信 系统 负责 与 外界 的 通信 ， 并 将 自己 的 需求 和 状态 信息 传递 给 外界 环境 。 图 　 智能 自治体 组织 结构 Fig 　 Agentstructure 　 多 智能 自治体 系统 MultiAgentSystemMAS 　 MAS 的 概念 和 特点 　 　 MAS 是 一个 包含 多个 Agent 的 复杂 系统 ， 其中 的 Agent 相互合作 完成 一项 大 的 任务 ［ ， ］ 。 这种 Agent 间 既 独立自主 、 互相 竞争 ， 又 协调 合作 的 松散 耦合 系统 为 分布式 问题 提供 了 理想 的 求解 结构 。 其 主要 特点 有 ： 　 　 知识 和 数据 的 分布 存储 。 在 MAS 中 ， 单个 Agent 仅仅 包含 特定 于本 节点 的 知识 和 数据 ， 对于 一个 规模 较大 的 问题 的 求解 往往 需要 各 Agent 共同 协作 来 完成 。 Agent 间 共享 数据 和 知识 ， 也 可以 向 其他 Agent 提出 服务 请求 来 获取 需要 的 信息 。 因此 ， MAS 中 知识 和 数据 的 存储 、 决策 的 制定 和 任务 的 执行 都 表现 出 分布 的 特点 。 　 　 并行处理 。 各 Agent 选择 有利于 自己 局部利益 的 控制策略 和 决策 目标 ， 独立 地 作出 决策 ， 实现 自己 的 目标 ， 任务 的 执行 表现 出 并行 的 特点 。 这种 并行处理 机制 大大提高 了 问题 求解 效率 。 　 　 健壮性 。 MAS 中 Agent 的 自治 性 和 松散 耦合 关系 ， 使得 其中 个别 Agent 的 功能 丧失 后 ， 不会 影响 其他 Agent 的 正常 行为 ， 也 不会 给 整个 MAS 的 运行 造成 灾难性 后果 。 同时 ， 还 可以 通过 协商 、 协调 将 其 局部 任务 交给 其他 Agent ， 不 影响 总体 任务 的 完成 。 　 　 易 扩展性 。 只要 配置 相应 的 通信协议 和 控制策略 ， 以及 相应 的 知识 和 数据 ， 新 的 Agent 就 可以 加入 MAS 中 正常 运行 ， 原先 的 系统 不 需要 做 任何 改动 。 　 　 具 灵活性 ， 且 易于 实现 。 　 　 目前 ， MAS 已 在 分布式 人工智能 、 工作 流 管理 、 复杂 系统控制 、 工商业 过程 重组 、 调度 管理 等 领域 得到 广泛 研究 和 应用 。 　 MAS 的 主要 组织 结构 　 　 如何 将 多个 Agent 组织 成为 一个 高效 运行 、 协调 合作 的 有机 整体 ， 是 MAS 组织 结构 所 要 研究 的 重要 内容 。 目前 ， MAS 主要 采用 以下 组织 结构 形式 ： 　 　 黑板 控制结构 。 　 　 这种 组织 结构 借用 专家系统 中 的 黑板 概念 ， 采用 全局 数据结构 作为 各 Agent 了解 其他 Agent 状态 以及 任务 进展 情况 的 桥梁 ， 从而 实现 各 Agent 之间 的 信息 交换 ， 协调 各 Agent 的 行动 和 任务 处理过程 。 黑板 控制结构 是 一种 集中式 的 控制 和 调度 方式 。 　 　 合同 网 协议 Contractnetprotocol ［ ， ］ 。 　 　 合同 网 协议 是 由 美国 国家 科学基金 和 DARPA 于 年代 末 共同 资助 研究 ， 用于 分布式 问题 求解 的 高级 通信 和 控制协议 ， 是 MAS 中 采用 最 广泛 的 控制结构 。 　 　 合同 网 协议 模仿 经济 行为 中 的 招标 投标 中标 机制 ， 采用 任务 公布 的 方式 ， 通过 Agent 相互 协商 和 任务 竞争 来 解决 动态 、 分布 的 任务分配 问题 ， 使用 投标 值 Bids 作为 Agent 之间 任务 协调 和 分配 的 控制变量 ， 从而 以 最优 的 系统配置 和 代价 完成 特定 任务 ， 在 局部 最优 基础 上 达到 全局 最优 。 由于 不同 Agent 间 可以 共享 任务 和 结果 ， 所以 多个 Agent 可以 很 容易 地 通过 合作 完成 一项 复杂 任务 。 　 MAS 在 敏捷 制造 单元 动态 调度 和 控制 中 的 应用 图 　 基于 MAS 敏捷 制造 单元 控制结构 模型 Fig 　 ControlstructuremodelofagilemanufacturingcellbasedonMAS 图 　 任务 Agent 与 资源 Agent 之间 的 任务 协商 过程 Fig 　 TasknegotiationprocessbetweenTaskAgentandResourceAgent 　 敏捷 制造 单元 的 特点 　 　 敏捷 制造 单元 是 敏捷 制造 环境 下 生产 组织 的 基本 单位 ， 是 一组 具有 多种 加工能力 的 设备 通过 计算机网络 联结 起来 的 松散 耦合 、 分布 自治 、 协同 合作 的 网络化 制造 系统 ， 本质 上 属于 分散型 控制结构 ， 具有 以下 特征 ： 　 　 单元 中 的 智能 节点 需要 具备 独立 、 自主 地 作出 局部 决策 的 能力 。 由于 制造 单元 生产 过程 的 复杂性 和 多变性 ， 实时 获取 准确 的 全局 状态 生产 任务 、 工艺 规划 、 车间 状态 、 机床 状态 等 非常 困难 ， 中长期 计划 和 调度 对 生产 的 指导作用 越来越 弱 ， 所以 局部 决策 能力 十分 重要 。 　 　 设备 没有 主次 之分 ， 既 没有 受控 设备 ， 也 不 存在 中央 控制器 ， 设备 之间 呈 平等 关系 。 　 　 各 功能 节点 大多数 时间 按照 有利于 自己 的 价值 准则 和 控制 逻辑 工作 ， 只 在 必要 时才 与 其他 节点 交互 。 　 　 单元 中 的 设备 或 其 控制器 可以 借助于 计算机网络 以 通信 的 方式 交换 信息 。 　 　 单元 中 的 设备 能 互相 协作 共同完成 一项 任务 。 　 　 由于 制造 单元 生产 过程 和 控制结构 所 具有 的 分布式 特性 ， 对 现代 制造 系统控制 结构 和 控制技术 的 研究 和 实施 已经 由 递阶型 转向 分散型 ［ ， ， ］ ， 而 绝大多数 研究者 采用 了 在 分布式 问题 求解 中 得到 很多 成功 应用 的 MAS 体系结构 ［ ， ］ 。 　 基于 MAS 的 敏捷 制造 单元 调度 与 控制 框架结构 　 　 敏捷 制造 单元 调度 与 控制 框架结构 。 　 　 为 减小 模型 规模 ， 避免 不必要 的 网络通信 和 节点 间 协调 所 引起 的 处理 效率 低下 ， 应 根据 生产 控制 的 需要 和 制造 单元 的 实际 组成 情况 ， 将 敏捷 制造 单元 的 控制结构 模型 化为 MAS 。 本文 提出 的 用于 敏捷 制造 单元 调度 与 控制 的 MAS 框架结构 见图 。 　 　 图 所示 的 框架结构 包含 下列 类型 的 Agent 资源 智能 自治体 RAgent 。 在 控制结构 中 代表 敏捷 制造 单元 中 的 资源 。 任务 管理 智能 自治体 TMAgent 。 统一 管理系统 中 的 任务 ， 控制 任务 Agent 进行 招投标 ， 并 监督 任务 的 执行 。 任务 智能 自治体 TAgent 。 负责 任务 招投标 ， 并 将 结果 上报 任务 管理 智能 自治体 。 通信 智能 自治体 ComAgent 。 主要 负责 与 外界 的 通信 ， 收集 其他 制造 单元 或 系统 的 信息 ， 竞争 外部 加工 任务 ， 发送 本 单元 的 服务 请求 ， 选择 任务 执行 对象 等 。 图 　 敏捷 制造 单元 工作 流程 Fig 　 Workingflowofagilemanufacturingcell 　 　 　 　 敏捷 制造 单元 的 分布式 动态 调度 与 控制 。 　 　 采用 基于 合同 网 协议 的 任务 分解 和 分配 方法 ， 由 任务 节点 公布 任务 情况 ， 各 功能 节点 根据 自身 生产能力 及 成本 决定 投标 与否 以及 标值 大小 ， 任务 节点 根据 投标 情况 将 任务 授予 最优 节点 ， 并 监督 任务 的 完成 情况 。 资源 Agent 与 任务 Agent 之间 的 任务 协商 过程 如图所示 。 　 　 建立 在 任务 协商 和 协作 基础 上 的 任务 分解 、 分配 和 完成 的 敏捷 制造 单元 工作 流程 如图所示 。 　 结束语 　 　 本文 在 介绍 智能 自治体 Agent 及 多 智能 自治体 系统 MAS 的 基础 上 ， 提出 一种 基于 MAS 的 用于 敏捷 制造 单元 动态 调度 与 控制 的 框架结构 ， 该 结构 具有 以下 优点 ： 　 　 对 求解 问题 的 规模 不 敏感 。 通过 功能 分解 ， 将 敏捷 制造 单元 复杂 的 控制 问题 分散 到 各个 节点 如 每台 设备 的 智能 控制器 ， 单个 节点 的 局部 问题 规模 很小 ， 借助于 节点 间 的 协调 、 合作 实现 单元 的 整体 控制 功能 。 　 　 处理 效率高 。 各 节点 依照 自己 的 控制策略 ， 独立 地 作出 决策 ， 完成 自己 的 生产 任务 ， 制造 任务 的 执行 表现 出 并行 的 特点 。 这种 并行处理 机制 大大提高 了 问题 求解 效率 。 　 　 健壮性 。 敏捷 制造 单元 的 任务 信息 、 生产 信息 以及 解决问题 的 知识 分散 存储 在 各 处理 节点 ， 各 节点 以 松散 耦合 的 形式 互相 联结 ， 单个 节点 故障 只是 引起 局部 效率 的 降低 或 功能 的 丧失 ， 不会 影响 其他 节点 的 正常 行为 ， 整个 制造 单元 仍然 可以 维持 运转 。 　 　 易 扩展性 。 新 节点 只 需 配置 相应 的 知识库 和 数据库 ， 以及 相同 的 通信协议 和 控制 机制 ， 就 可以 加入 系统 中 运行 ， 不 需要 修改 制造 单元 的 任何 其他 部分 。 作者 单位 ： 　 北京航空航天大学 参考文献 　 ［ ］ 　 张 　 钹 网络时代 的 人工智能 计算机 世界 ， 　 ［ ］ 　 NWANAHSSoftwareagentsanoverviewTheKnowledgeEngineeringReview ～ 　 ［ ］ 　 JenningsNWooldridgeMSoftwareagentsIEEREVIEW ～ 　 ［ ］ 　 PauloSousaCarlosRamosAdynamicschedulingholonformanufacturingordersJournalofIntelligentManufacturing 　 ［ ］ 　 RabeloRJCamarinhaMatosLMNegotiationinmultiagentbaseddynamicschedulingRoboticsComputerIntegratedManufacturing ： ～ 　 ［ ］ 　 SMITHRGThecontractnetprotocalhighlevelcommunicationandcontrolinadistributedproblemsolverIEEETransactionsonComputersC ～ 　 ［ ］ 　 SaadAKawamuraKBiswasGetalEvaluatingacontractnetbasedheterarchicalschedulingapproachforflexiblemanufacturingIEEE ： ～