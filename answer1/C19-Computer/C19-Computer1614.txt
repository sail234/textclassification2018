信息 与 控制 InformationandControl 年 　 第卷 　 第期 　 Vol 　 No 　 基金会 现场 总线 数据 链路层 工作 机理 及其 实现 胥正川 　 王 　 宏 　 王 　 智 　 　 摘 　 要 ： 本文 概要 介绍 了 基金会 现场 总线 的 网络结构 ， 主要 讨论 了 基金会 现场 总线 数据 链路层 的 工作 机理 及其 实现 ． 　 　 关键词 ： 现场 总线 基金会 现场 总线 ， 协议 ， 网络 ， 工业 控制 　 　 中 图 分类号 ： TP 　 　 　 　 　 　 文献 标识码 ： BTHEMECHANISMOFFOUNDATIONFIELDBUSDATALINKLAYERANDITSIMPLEMENTATIONXUZhengchuanWANGHongWANGZhiComputerCenterShenyangInstituteofAutomationChineseAcademyofSciencesAbstractTheoutlineofthenetworkarchitectureoffoundationfieldbusisintroducedthemechanismandimplementationoffoundationfieldbusdatalinklayerisprimarilydiscussedKeywordsfieldbusfoundationfieldbusprotocolnetworkindustrycontrol 　 引言 　 　 近年来 随着 基金会 现场 总线 FoundationFieldbus 技术 的 蓬勃发展 ， 该 技术 引起 了 工程界 的 普遍 关注 ， 越来越 多 的 有关 人员 对 它 进行 了 大量 的 研究 和 开发 ． 本文 概要 介绍 了 基金会 现场 总线 的 网络结构 ， 主要 论述 了 基金会 现场 总线 数据 链路层 的 网络结构 、 工作 机理 及其 实现 ． 　 基金会 现场 总线 的 网络通讯 结构 　 　 基金会 现场 总线 使用 事先 组态 好 的 通讯 通道 （ 称为 虚拟 通讯 关系 ， 简称 VCR ） 在 设备 之间 传送 信息 ． 基金会 现场 总线 规范 中 定义 了 如下 三种 类型 的 VCR ： 　 　 A ） 发布 订阅 （ PublisherSubscriber ） VCR 　 　 数据 由 发布者 广播 到 网络 上 ， 订阅 者 侦听 网络 上 的 数据 广播 并 收取 相关 信息 ． 该 VCR 是 缓冲 的 、 网络 触发 的 、 单向 的 BNU ， 缓冲 的 即 指 它 是 通过 数据 链路层 的 发送 与 接受 缓冲区 ， 发送 和 接受 消息 的 ； 网络 触发 的 即 指 它 依照 数据 链路层 的 调度 发送 消息 ， 这个 调度 是 由 链路 活动 调度 器 （ LAS ） 来 维护 和 强制 实现 的 ； 单向 的 即 指 它 向 一个 或 多个 接收者 发送 无须 确认 的 消息 ， 数据 是 单向 传送 的 ． 　 　 B ） 客户服务器 （ ClientServer ） VCR 　 　 由 客户 发出 一个 请求 ， 服务器 作出 响应 ． 在 不同 的 VCR 中 ， 某 一个 设备 既 可以 是 客户 ， 也 可以 是 服务器 ． 该 VCR 是 排队 的 、 用户 触发 的 、 双向 的 QUB ， 排队 的 即 指 它 是 通过 数据 链路层 的 发送 和 接收 队列 ， 发送 和 接收 消息 的 ； 用户 触发 的 即 指 它 在 上层 用户 发出请求 后 ， 客户端 才 开始 动作 ， 并且 它 还 是非 调度 的 ， 即 是 在 调度表 规定 的 时间 之外 收到 通行 令牌 （ PT ） 时才 把 数据 发送 出去 ； 双向 的 即 指 它 在 客户 和 服务器之间 进行 有 确认 的 请求 和 应答 ， 仅 有 此类 VCR 是 双向 的 ． 　 　 C ） 报告 分发 （ ReportDistribution ） VCR 事件报告 由源 设备 广播 到 网络 上 ， 并 由 收集 设备 侦听 并 接收 ． 该 VCR 是 排队 的 、 用户 触发 的 、 单向 的 QUU ， 排队 的 即 指 它 是 通过 数据 链路层 的 发送 和 接收 队列 发送 和 接收 消息 的 ； 用户 触发 的 即 指 它 是 在 上层 用户 发出请求 后 ， 数据 链路层 才 开始 动作 的 ， 并且 它 是非 调度 的 ， 即 是 在 调度表 规定 的 时间 之外 收到 通行 令牌 （ PT ） 时才 把 数据 发送 出去 ； 单向 的 指 事件报告 只 向 网络 上 广播 而 不 要求 确认 ， 收方 只 收不发 ． 　 　 为了 支持 这些 VCRs ， 基于 国际标准化组织 （ ISO ） 的 OSI 参考模型 七层 协议 标准 ， 基金会 现场 总线 系统结构 定义 了 三层 通讯 结构 ． 第一层 是 物理层 — 规定 信号 是 如何 传送 ； 第二层 是 数据 链路层 — 规定 网络 在 设备 间 是 如何 共享 和 调度 ； 第三层 是 应用层 — 规定 通讯 的 报文格式 ． 其 三层 结构 如图所示 图 　 现场 总线 网络体系结构 　 数据 链路层 概述 数据 链路层 的 定义 　 　 数据 链路层 （ DLL ） 在 基金会 现场 总线 中 处于 第二层 ， 它 在 物理层 传 “ 位 ” 信息 的 基础 上 ， 在 相邻 节点 间 传送 被 称为 帧 的 数据 信息 ， DLL 也 可能 在 传输 中 出现 差错 ， 也 需 进行 检错 、 纠错 而 向 上层 提供 无错 的 透明 传送 ． 数据 链路层 软件 是 协议 栈中 最 基本 的 软件 ． 　 　 在 基金会 现场 总线 中 ， DLL 定义 了 一系列 服务 于 应用层 的 功能 ， 向下 与 物理层 接口 ， 使用 物理层 的 服务 ． DLL 提供 原语 服务 及 相关 事件 、 与 原语 服务 及 相关 事件 有关 的 参数 及 格式 ， 以及 这些 服务 及 事件 的 相互 关系 ． DLL 为 用户 提供 了 可靠 的 、 透明 的 数据 传送 服务 ． 在 基金会 现场 总线 网络结构 中 ， 数据 链路层 的 作用 尤为重要 ． 因为 所有 连接 到 同一 物理 通道 上 的 应用 进程 实际上 都 是 通过 链路层 的 实时 管理 来 协调 的 ． 由于 在 工业 过程 中 实时性 的 重要性 ， 在 现场 总线 中 采用 了 集中式 的 管理 方式 ． 在 集中式 管理 下 ， 物理 通道 可 被 有效 地 利用 起来 ， 并 可 有效 地 减少 或 避免 实时 通信 的 延时 ． ． 链路 活动 调度 器 （ LAS ） 的 定义 和 功能 　 　 在 基金会 现场 总线 中 所有 的 链路 上 都 要求 有 一个 且 仅 有 一个 链路 活动 调度 器 （ LAS ） ． 该 LAS 在 数据 链路层 被 用作 总线 仲裁 器 ． LAS 的 功能 如下 ： 　 　 — 能 认知 新 设备 并 将 新 设备 加入 到 链路 中 去 ． 　 　 — 能 从 链路 中 除去 没有响应 的 设备 ． 　 　 — 能 在 链路 上 发布 数据链 路 时间 和 调度 时间 ． 　 　 — 在 调度 时间 内 轮询 poll 那些 以 缓冲区 存储 数据 的 设备 ． 　 　 — 在 调度 时间 之间 发送 优先级 驱动 的 令牌 给 某 设备 ． 　 　 在 基金会 现场 总线 中凡 能够 成为 LAS 的 设备 称为 链路 主 设备 （ LinkMasterDevices ） ， 其他 所有 设备 被 称为 基本 设备 （ BasicDevices ） ． 见 图图 　 现场 总线 设备 类型 　 数据 链路层 的 功能 　 　 数据 链路层 被 分成 两个 工作 层 ， 一个 提供 对 总线 的 访问 （ 数据 链路层 低层 功能 ） ， 另 一个 是 在 数据链 路 使用者 之间 控制 数据传输 （ 数据 链路层 高层 功能 ） ． 这 两个 层 协同 集成 工作 ， 因此 不 把 它们 看成 是 两个 网络 子层 ． ． 数据 链路层 低层 （ 介质 访问 ） 功能 　 　 从 介质 访问 的 观点 来看 ， 数据 链路层 是 以 集中 令牌 传送 总线 的 补充 集合 运作 的 ． 每个 总线 有 一个 集中 的 介质 访问控制 点 ， 即 指 链路 活动 调度 器 （ LAS ） ， 以及 一个 或 多个 可 持有 令牌 的 设备 ， 即 指 基本 设备 ． 每个 网络 中 的 总线 即 是 指 一条 链路 ． 包含 一条 或 多条 链路 的 网络 被 看作 是 扩展 链路 ， 扩展 链路 中 的 链路 是 由桥 联接 起来 的 ． （ 本文 不 讨论 扩展 链路 ） ． 基本 设备 （ BasicDevices ） 　 　 基本 设备 是 指 那些 能 持有 令牌 并 作出 响应 的 设备 ． 所有 的 设备 ， 包括 LAS 都 有 基本 设备 的 功能 ， 即 它们 都 有 接受 令牌 （ 并 发起 数据传输 ） 的 能力 ． 　 　 令牌 给予 设备 在 总线 上 传送数据 的 权利 ． 在 任一 时刻 只能 有 一个 设备 持有 令牌 ． LAS 能 给 设备 分发 两种 令牌 ． 第一种 是 轮询 （ poll ） ， 在 轮询 时 必须 立即 给出 已知 地址 的 数据 ． 这种 令牌 通过 发送 强制 数据 帧 （ CDDLPPDU ） 得以 实现 ． 第二种 是 以 给予 设备 在 一定 时间段 内 的 对 总线 的 访问 权 ， 这种 访问 权有 三种 优先级 ， 这种 令牌 通过 发送 通行 令牌 数据 帧 （ PTDLPDU ） 得以 实现 ． 强制 数据 帧 （ CDDLPDU ） 仅 在 基金会 网络 中 被 用来 支持 发布 订阅 （ PublisherSubscriber ） VCR ． 每个 发布者 通过 数据链 路 缓冲区 发布 其 数据 ， 传送 缓冲区 的 内容 作为 对 CDDLPDU 的 响应 ． 通常 CDDLPDU 从 LAS 发往 发布者 的 缓冲区 数据链 路 地址 ． 在 这种 情况 下 ， LAS 依照 其 调度 循环 发送 CDDLPDU ． 　 　 CDDLPDU 也 可以 由 订阅 者 VCR 端点 发出 ， 但 仅 当 订阅 者 端点 收到 上层 的 强制 服务 请求 时 这种 情况 才 会 发生 ． 在 这种 情况 下 ， 仅 当该 设备 收到 通行 令牌 （ PT ） 才 发出 CDDLPDU ． 允许 以 这种 方式 发送 CDDLPDU 的 VCR 端点 是非 周期 的 ． 　 　 通行 令牌 数据 帧 （ PTDLPDU ） 用于 所有 其它 数据 的 发送 ． 当 设备 收到 通行 令牌 时 它 得到 在 一定 时间 内 发送数据 的 权利 ． 时间 大小 在 通行 令牌 数据 帧 中 被 给定 ． 　 　 通过 扫描 上层 放置 于 数据链 路 服务 访问 点 （ DLSAP ） 和 数据链 路 连接 端点 （ DLCEP ） 上 的 请求 的 类型 ， 设备 选择 要 发送 的 数据链 路 协议 数据 帧 （ DLPDU ） 类型 ． 数据链 路 服务 访问 点 用于 传送 所有 使用 无 连接 数据 链路层 服务 的 报文 ， 它 也 用于 传送 建立 发布 订阅 和 客户服务器 VCR 的 报文 ． 数据链 路 连接 端点 用于 传送 发布 订阅 和 客户服务器 上 所有 其它 报文 的 传送 ． 　 　 被 选择 的 请求 是 最 旧 的 （ 最早 放置 ） ， 优先级 最高 （ 大于 或 等于 在 通行 令牌 中 规定 的 优先级 ） 且 在 令牌 持有 时间 内能 被 发送 的 请求 ． 　 　 当 设备 没有 剩下 的 数据 需要 发送 时 ， 它 将 令牌 显式 地 返回 给 LAS ． 如果 它 仍然 有 尚未 发送 的 请求 需要 发送 ， 就 向 LAS 请求 更 多 的 令牌 持有 时间 ． 链路 主 设备 LinkMasterDevices 链路 主 设备 是 能 成为 LAS 的 设备 ． 如果 一个 链路 有 两个 以上 的 链路 主 设备 ， 在 启动 或 它 认为 当前 LAS 失败 期间 ， 链路 主 设备 通过 竞争 产生 LAS ． 竞争 的 过程 是 选择 节点 地址 最小 的 链路 主 设备 做 LAS ． 没有 成为 LAS 的 链路 主 设备 被 作为 LAS 的 备份 ． 数据 链路层 上层 （ 数据 传送 ） 功能 　 　 基金会 现场 总线 提供 三种 机制 传送数据 ， 一种 无 连接 方式 ， 两种 面向 连接 方式 ． 无 连接 方式 用于 支持 报告 分发 VCR ． 一种 面向 连接 的 方式 用于 支持 发布 订阅 VCR ， 另 一种 用于 支持 客户服务器 VCR ． 用于 发布 数据 （ PublishedData ） 的 面向 连接 的 数据传输 发布 数据 的 传送 主要 是 来自 于 发布者 的 数据链 路 数据 帧 通过 缓冲区 进行 发送 ． 发布者 不必 分辨 订阅 者 ， 被 发布者 传送 的 数据 传送 帧 只 包含 一个 地址 ， 即 发布者 的 地址 ． 订阅 者 事先 知道 发布者 的 地址 ， 由 订阅 者 侦听 并 接收 发布者 传送 的 数据 帧 ． 　 　 当由 发布者 建立 连接 时 ， 它 向 本 链路 的 所有 订阅 者 发送 建立 连接 数据 帧 （ ECDLPDU ） 此 ECDLPDU 不 要求 响应 ． 若 由 订阅 者 建立 连接 时 ， 它 和 发布者 一样 动作 ， 但 它 要求 发布者 对 它 进行 响应 ． 当 发布者 收到 来自 订阅 者 的 ECDLPDU 时 ， 它 再次 对本 链路 广播 ECDLPDU ． 订阅 者 把 它 发出 ECDLPDU 后 接收 到 的 第一个 ECDLPDU 用来 完成 打开 连接 的 过程 ． 订阅 者 所 使用 的 ECDLPDU 可能 是 一 开始 由 发布者 发送 的 ， 也 有 可能 是 发布者 响应 订阅 者 而 发送 的 ． 当 连接 被 打开 后 ， 订阅 者 开始 侦听 数据 传送数据 链路 数据 帧 DTDLPDU ） 并 忽略 以后 收到 的 来自 于 这个 发布者 的 ECDLPDU ． 　 　 若 发布者 收到 带有 发布者 DLCEP 地址 的 CDDLPDU ， 发出 DTDLPDU 作为 立即 响应 ， 此时 发布 数据传输 发生 ． 如果 该 地址 的 DLCEP 的 连接 还 未 被 打开 ， 或 相关 缓冲区 还 没有 收到 其 初始化 更新 ， 则 没有 响 应该 CDDLPDU 的 DTDLPDU 被 发出 ． 　 　 发布 数据传输 可以 是 调度 的 （ 由 LAS 发送 CDDLPDU ） 或非 调度 的 （ 由 订阅 者 发送 CDDLPDU ） ． 对 某 一个 连接 者 而言 ， 所有 DTDLPDU 都 以 相同 的 （ 为 该 VCR 规定 的 ） 优先级 进行 传输 ． 这种 传输 可能 是 有序 的 ， 比如 数据 的 重复 传送 能 被 检查 出来 ． 若 发布者 在 传送 间隔 之间 没有 更新 其 缓冲区 时 ， 其 数据 副本 被 传送 出去 ． 被 调度 的 发布 数据 仅 在 本地 链路 上 被 发送 ． 用于 进行 请求 ／ 响应 交换 的 面向 连接 的 数据传输 　 　 请求 ／ 响应 数据传输 主要 用于 客户 ／ 服务器之间 的 通过 队列 进行 数据传输 ． 作为 发起者 的 客户 VCR 端点 或 对 等 机 （ peer ） VCR 端点 ， 发送 请求 给 服务器 ， 服务器 对 之 作出 响应 ， 返回 信息 表明 它 上层 接 不 接受 该 请求 ． 一旦 开始 进行 在 连接 之上 的 数据传输 ， 则 所有 DTDLPDU 都 以 相同 的 优先级 进行 传输 ． 　 　 这种 连接 方式 提供 两种 服务质量 ， 经典 的 （ CLASSICAL ） 和 乱序 的 （ DISORDERED ） ． 经典 的 是 指 数据 链路层 将 竭力 有序 地 传输 和 递送 DTDLPDU ， 并且 在 不能 达到 此 目标 时 断开连接 ． 如果 必要 的话 它会 进行 一次 重试 ． 乱序 的 是 不同 的 ， 它 可以 按 到达 的 次序 向 上层 递送 被 传送 的 数据 ， 即使 数据流 中有 空隙 也 不予 理会 （ 这种 空隙 是 由 丢失 DTDLPDU 数据 帧 引起 的 ） ． 至于 经典 的 ， 进行 一次 重试 后 ， 若 失败 则 该 数据 链路层 将 被 断开 ． 无 连接 数据传输 　 　 无 连接 数据传输 主要 用于 在 DLSAP 之间 通过 队列 进行 独立 DLPDU 的 传送 ． 数据 链路层 不 保存 相关 信息 来 进行 传输 控制 ． 因为 目标 地址 可以 被 组态 成 DLSAP 组 Group 地址 （ 即 多点 传送 ） ， 即 允许 多 报告 源 （ 发布者 ） 来 发送给 同 一组 地址 ， 所以 这种 传输 类型 被 用来 分发 报告 ． 这 也 就 允许 报告 池 （ 接收者 ） 不必 分辨 报告 源 及其 位置 ． 因为 所有 无 连接 都 是 独立 的 ， 所以 每次 传送 优先级 都 得 分别 规定 ． 然而 对 每个 VCR ， 只能 有 一个 优先级 被 规定 ． 上层 使用 它 作为 该 VCR 规定 的 优先级 ， 所有 的 数据传输 都 必须 由 上层 给出 其 优先级 ． 　 数据 链路层 的 实现 　 　 我们 采用 ANSI C语言 和 一种 嵌入式 实时操作系统 进行 混合 编程 ， 已经 实现 了 基金会 现场 总线 规范 （ specification ） 和 协议 （ protocol ） 所 规定 的 数据 链路层 的 所有 功能 ． 在 我们 的 实现 方法 中 ， 这种 嵌入式 实时操作系统 完成 任务 的 创建 ， 任务 间 的 调度 、 通讯 、 同步 ， 内存 的 管理 和 定时器 的 创建 、 删除 和 管理 ． 其余部分 均 用 ANSIC 编程 实现 ． 图 给出 了 我们 编制 的 数据 链路层 程序 的 一个 简要 的 数据流 图 ． 下面 我们 来 讨论 下面 这个 数据流 图 ． 图 　 数据 键路层 简要 数据流 图 　 　 在 网络 的 层状 结构 中 ， 我们 称 上层 对 下层 的 命令 为 请求 ， 下层 对 请求 的 回应 为 确认 ， 下层 向 上层 报告 的 消息 为 指示 ， 上层 对 指示 的 回应 为 响应 ． 该图 第一 部分 给出 了 数据流 的 总体 走向 ． 在 发送 方 ， 应用层 进程 向下 的 数据流 为 请求 或 响应 ， 经过 A 发送 过程 的 处理 ， 形成 DLPDU 放入 非 调度 请求 队列 （ QUS ） ， 在 收到 PT 令牌 后 ， 发出 最早 放入 队列 且 优先级 最高 的 DLPDU ， 每个 DLPDU 都 有 一个 在 时间 集中 的 定时器 与 之 对应 ， 若 在 收到 PT 前该 定时器 超时 ， 则 进行 一系列 操作 ， 如 断开连接 等 ． DLPDU 发出 后 ， 取消 该 定时器 ． 该 DLPDU 发出 后 ， 若 需要 确认 ， 则 为 之 重新启动 一 定时器 来 进行 差错控制 ． 如果 数据 链路层 收到 CD 令牌 ， 则 从 发送缓冲区 中 取出 用户 数据 ， 形成 DTDLPDU 后 直接 发 往 物理层 ， 而 不用 发往 QUS ． 　 　 在 接收 方 ， 收到 的 DLPDU 经过 B 接收 过程 的 处理 后 ， 生成 指示 或 确认 后 ， 将 它 发送给 应用层 进程 ． 　 　 在 A 处理过程 中 ， 经过 请求 或 响应 判断 后 ， 根据 不同 的 情况 进行 处理 ． 具体地说 ， 若 收到 的 是 建立 连接 （ EC ） 请求 ， 则 形成 ECDLPDU 发往 QUS ； 若 收到 的 是 强制 服务 请求 ， 则 形成 CDDLPDU 发往 QUS ； 若 收到 的 是 数据 （ Data ） 请求 ， 则 形成 DTDLPDU 控制 帧 ， 当该 请求 是 发往 数据链 路 服务 访问 点 （ DLSAP ） 或 与 队列 相关 的 数据链 路 连接 端点 （ DLCEP ） 的 时侯 ， 则 从 发送 队列 中 取出 用户 数据 ， 与 已 生成 的 DTDLPDU 控制 帧 合在一起 形成 DTDLPDU ， 发往 QUS ， 当该 请求 是 发往 与 缓冲区 相关 的 数据链 路 连接 端点 （ DLCEP ） 的 时侯 ， 则 从 发送缓冲区 中 取出 用户 数据 ， 与 已 生成 的 DTDLPDU 控制 帧 合在一起 形成 DTDLPDU ， 发往 QUS ； 若 收到 的 是 单元 数据 （ UnitData ） 请求 ， 则 从 从 发送 队列 中 取出 用户 数据 ， 形成 DTDLPDU ， 发往 QUS ； 若 收到 的 是 响应 （ 注 ： 只 可能 是 建立 连接 响应 ） ， 则 形成 ECDLPDU ， 发往 QUS ． 　 　 在 B 处理过程 中 ， 经过 DLPDU 判断 后 ， 根据 不同 的 情况 进行 处理 ． 具体地说 ， 若 收到 的 是 ECDLPDU ， 则 当 连接 已 建立 时 ， 向 应用层 发送 建立 连接 确认 ， 并 形成 不带 用户 数据 的 DTDLPDU ， 发往 QUS ， 当 连接 未 建立 时 ， 向 应用层 发送 建立 连接 指示 ； 若 收到 的 是 DCDLPDU ， 则 向 应用层 发 断开连接 指示 ； 若 收到 的 是 DTDLPDU ， 则 向 应用层 发 数据 指示 （ DataIndication ） ， 且 根据 相关联 的 是 接收 队列 或 接收缓冲区 ， 分别 将 DTDLPDU 中带 的 用户 数据 送入 接收 队列 或 接收缓冲区 ； 若 收到 的 是 CDDLPDU ， 则 重发 发送缓冲区 内容 ， 形成 带 用户 数据 的 DTDLPDU ， 发往 QUS ． 　 　 数据 链路层 的 主要 数据流 向 就是 如此 ． 基于 这个 数据流 图 我们 编制 了 基金会 现场 总线 协议 栈中 数据 链路层 的 程序 ． 　 结语 　 　 本文 给出 了 基金会 现场 总线 数据 链路层 工作 机理 的 简单 介绍 ， 并 给出 了 实现 方式 的 简要 叙述 ． 我们 所 设计 的 程序 达到 了 预期 的 目标 ， 能 完成 基金会 现场 总线 协议 中 所 规定 的 数据 链路层 的 各项 功能 ． 基金会 现场 总线 在 我国 目前 仍 处于 发展 阶段 ， 还有 很多 工作 等 着 我们 去 做 ， 愿 与 诸君 共勉 ！ 作者简介 ： 胥正川 ， 年生 ， 硕士 研究生 ． 研究 领域 为 现场 总线 通信协议 栈 软件开发 ． 　 　 　 　 　 王 　 宏 ， 年生 ． 研究 领域 为 网络通信 及 工业 自动化 控制系统 ． 　 　 　 　 　 王 　 智 ， 年生 ， 博士生 ． 研究 领域 为 通信 系统 建模 ． 作者 单位 ： 中国科学院 沈阳 自动化 所 计算中心 　 沈阳 　 参考文献 　 FOUNDATIONtmFieldbusSpecificationsSystemArchitecture ． RevisionFieldbusFoundation 　 FOUNDATIONtmFieldbusSpecificationsDataLinkProtocolSpecification ． RevisionFieldbusFoundation 　 ComputerNetworkThirdEditionAndrewSTanenbaum 收稿 日期 ：