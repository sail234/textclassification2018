航空 计测 技术 Aviation 　 Metrology 　 　 Measurement 　 Technology 年 第卷 第期 VolNo 基于 边界 扫描 的 板级 BIT 技术 研究 现状及 发展趋势 温熙森 　 刘 冠军 　 黎琼炜 　 易晓山 　 　 摘 　 要 　 简要 介绍 了 边界 扫描 技术 ， 并 介绍 了 基于 边界 扫描 的 电路板 BIT 技术 的 研究 现状 ， 然后 分析 了 目前 此 技术 存在 的 关键问题 和 发展趋势 。 　 　 关键词 　 边界 扫描 　 板级 BIT 　 混合 技术 电路板 ResearchStatusandTrendofBoardLevelBITTechniqueBasedonBoundaryScanWenXisen 　 LiuGuanjun 　 LiQiongwei 　 YiXiaoshan 　 　 Abstract 　 InthispapertheboundaryscantechniqueandtheresearchingstatusofcircuitboardtechniquebasedontheboundaryscanarepresentedThekeyproblemexistinginthistechniqueanddevelopingtrendareanalyzed 　 　 Keywords 　 BoundaryscanBoardlevelBITMixedtechniquecircuitboard 　 　 引言 　 　 BITBuiltinTest ： 机 内 测试 是 系统 或 设备 本身 为 故障 监测 、 隔离 或 诊断 提供 的 自动测试 能力 。 BIT 技术 从 年代 提出 到 现在 ， 随着 武器 系统 复杂性 的 提高 ， 已 成为 改善 武器 系统 特别 是 航空 电子系统 测试 性 和 诊断 能力 的 一种 重要途径 和 技术 ～ ； 但是 ， 随着 VLSI 、 SMDSurfaceMountedDevices 、 MCMMultiChipModules 、 MPCBMultiLayerPrintedCircuitBoards 的 出现 及 发展 ， 器件 安装 密度 骤增 而 间距 锐减 达到 milmil ＝ μ m ， 器件 结构 和 功能 复杂性 大为 增加 gate ／ pin ＞ ／ 。 常规 的 电路板 BIT 技术 如 余度 技术 、 环绕 技术 和 BIBLO 内部 逻辑 块 监测技术 等 难以实现 或 实现 代价 太 大 ， 无法 解决 上述 现代 电子 技术 发展 带来 的 信息 获取 通道 、 不可 接触 测试 、 监测 精度 、 诊断 定位 的 精确性 与 一致性 等 问题 ， 从而 导致 BIT 诊断 能力差 ， 虚警率 较 高 ， 无法 适应 现代 电子系统 的 BIT 要求 。 　 　 为 解决 VLSI 的 测试 问题 ， 年 ， 由 Philips 、 Siemens 等 公司 成立 的 JETAGJointEuropeanTestActionGroup 提出 了 边界 扫描 技术 ， 它 通过 存在 于 器件 输入输出 管脚 与 内核 电路 之间 的 BSC 边界 扫描 单元 对 器件 及其 外围 电路 进行 测试 ， 从而 提高 了 器件 的 可控性 和 可 观察 性 ， 解决 了 现代 电子 技术 发展 带来 的 上述 测试 问题 ， 可以 较 方便 地 完成 由 现代 器件 组装 的 电路板 的 测试 ； 而且 ， 边界 扫描 技术 作为 DFT 可 测试 性 设计 的 一种 重要 技术 ， 体现 了 “ 并行 设计 ” 的 思想 ， 实现 了 与 功能设计 同步 的 测试 性 和 BIT 设计 。 所以 ， 边界 扫描 技术 已 成为 电路板 测试 包括 BIT 的 一种 重要 技术 途径 。 　 　 另外 ， 从 工程 背景 看 ， 边界 扫描 技术 在 年 被 IEEE 采纳 并 形成 了 IEEE 工业 标准 ， 得到 了 世界 大多数 集成电路 制造商 和 测试 商 的 支持 ， 如 Inte 以上 、 Motorola 、 Xilinx 的 XC 以上 系列 FPGA 等 芯片 都 具有 边界 扫描 结构 。 据 Schlumberger 公司 Wigley 预言 ， 今后 五年 内 ， 多于 ％ 的 半导体器件 将 包含 边界 扫描 结构 。 可以 看出 ， 由 边界 扫描 器件 组装 的 电路板 必将 越来越 多 ， 它们 面临 着 如何 应用 边界 扫描 实现 BIT 的 实际 问题 。 　 　 综上所述 ， 研究 基于 边界 扫描 的 板级 BIT 技术 具有 非常 重要 的 意义 。 　 基于 边界 扫描 的 板级 BIT 的 基本 形式 　 　 基于 边界 扫描 的 板级 BIT 的 基本 形式 如图所示 ， 其 基本 组成 主要 有板 上 测试 机 、 IEEE 测试 总线 和 设计 在 IC 内 的 边界 扫描 结构 。 其中 ， 测试 总线 由 TDI 测试数据 输入 、 TDO 测试数据 输出 、 TMS 测试 模式 选择 、 TCK 测试 时钟 、 TRST 测试 复位 ， 待选 五条 线 构成 ， IC 边界 扫描 结构 包括 芯片 管脚 和 内部 逻辑 之间 的 BSC 和 TAP 测试 存取 口 控制器 等 。 板级 BIT 的 基本 测试 原理 是 ： 板上 测试 机 产生 IEEE 测试 总线 信号 ， 将 测试 码以 串行 扫描 方式 由 TDI 输入 至 BSC ， 然后 通过 TMS 发送 测试 控制 命令 ， 经 TAP 控制器 控制 BSC 完成 测试 码 的 加载 和 测试 响应 的 采集 ， 最后 测试 响应 以 串行 扫描 方式 由 TDO 送到 测试 机 分析 处理 。 图 　 基于 边界 扫描 的 板级 BIT 基本 形式 图 　 基于 边界 扫描 的 板级 BIT 技术 研究 现状 　 　 边界 扫描 技术 一 出现 ， 基于 边界 扫描 的 板级 BIT 技术 研究 就 围绕 图 所示 的 基本 形式 迅速开展 起来 ， 其 研究 方向 主要 有 ： 测试 内容 方面 ， 实现 了 板 上 器件 的 离线 功能测试 和 器件 间 的 互连 测试 　 　 边界 扫描 技术 因 其 固有 的 结构 特点 ， 克服 了 现代 器件 的 不可 接触 测试 等 问题 ， 可以 实现 现代 器件 的 离线 功能测试 和 互连 测试 。 这是 边界 扫描 技术 的 基本功能 ， 已 进行 了 广泛 和 深入 的 研究 。 目前 ， 互连 测试 已经 从 简单 的 基于 电路板 拓扑 结构 深入 到 考虑 具体 的 电路 类型 。 如 NationalCentralUniversity 的 ChauchinSu 等 人 分析 了 三态 门 和 双向 门 的 互连 特征 ， 根据 电路 物理 特性 进行 互连 测试 ， 提高 了 故障 检测 率 和 隔离 率 。 板上 测试 机 方面 ， 设计 开发 了 适合 板级 BIT 的 边界 扫描 测试 控制器 　 　 由于 板上 资源 和 硬件 开销 的 限制 ， 测试 机 应该 结构 简单 ， 可以 方便 地 嵌入 到 已有 电路板 中 。 葡萄牙 波尔图 大学 的 JoseMFerreira 、 ATT 贝尔实验室 的 NajmiJarwala 以及 我国 北京 自动测试 技术 研究所 先后 设计 了 板级 BIST 机内 自测试 结构 ， 通过 实验 或 仿真 从 原理 上 探索 了 基于 边界 扫描 技术 的 板级 BIT 实现 的 可行性 ， 得到 了 较 满意 的 结果 。 另外 ， TITexasInstruments 研究 生产 了 适合 板级 BIT 的 嵌入式 测试 控制器 SNLVT ， 它 具有 体积小 、 低功耗 、 易 编程 、 可靠性 高等 特点 ， 采用 它 实现 的 板级 BIT ， 尤其 满足 武器 和 航空 电子系统 BIT 的 高可靠性 、 灵巧 化 和 嵌入式 要求 。 测试 结构 方面 ， 设计 了 多 扫描 链 结构 　 　 图中 ， 各 边界 扫描 器件 的 TDI 、 TDO 首尾相连 形成 扫描 链 ， 实现 测试数据 的 输入 与 输出 。 这样 ， 就 会 导致 含 边界 扫描 器件 较 多 的 复杂 电路板 的 扫描 链太长 ， 从而 带来 测试 速度慢 和 故障 定位 准确性 差 等 问题 为此 ， TI 公司 提出 了 多链 结构 ， 并 研究 生产 了 实现 多链 结构 的 扫描 链 连接器 SNACT 和 SNACT 。 利用 扫描 链 连接器 可以 将 单条 长链 分割 成 多条 短链 ， 从而 缩短 扫描 链 长度 ， 提高 BIT 测试 速度 和 故障 定位 能力 。 测试 向量 方面 ， 吸收 测试 生成 的 一般 研究成果 ， 形成 了 边界 扫描 测试 的 向量 格式 标准 　 　 基于 边界 扫描 的 板级 BIT 作为 测试 领域 的 一部分 ， 不仅 在 向量 生成 方面 吸收 了 测试 生成 的 一般 研究成果 ， 而且 结合 边界 扫描 的 串行 特点 ， 形成 了 标准 的 向量 格式 SVFSerialVectorFormat 和 EVFEmbeddedVectorFormat ， 从而 有利于 测试 向量 的 生成 和 存储 。 测试 过程 方面 ， 研究 了 高效 的 测试数据 扫入 扫出 方法 　 　 基于 边界 扫描 的 板级 BIT 中 ， 由于 BIT 资源 简单 以及 边界 扫描 测试 的 串行 特点 ， 测试 速度慢 是 一个 显著 的 问题 。 AllisonHEvans 基于 异码 输入 方式 研究 了 一种 数据 扫描 的 启发式 算法 ， 可以 有效 地 缩短 测试数据 的 扫入 扫出 时间 。 系统 扩展 方面 ， 研究 了 板级 BIT 和 系统 级 BIT 的 连接 方案 　 　 板级 BIT 是 系统 极 BIT 的 有机 组成部分 ， 接受 系统 级 BIT 的 测试 向量 和 控制 命令 ， 且 向 其 报告 测试 结果 。 TI 和 NationalSemiconductor 公司 设计 了 边界 扫描 环境 下板级 和 系统 级 的 连接 方案 和 接口 产品 ， 以 适应 大型 系统 的 BIT 要求 。 应用 方面 ， 在 军方 和 航空 部门 得到 了 成功 应用 　 　 ～ 年 ， SCOPE 公司 应用 边界 扫描 技术 对美 空军 HAIDE 敌机 识别 装置 进行 了 系统 级 和 板级 BIT 设计 ， 实现 了 ％ 的 故障 检测 率 和 ％ 的 故障 隔离 率 。 另外 ， 边界 扫描 技术 在 网络 、 电信 和 容错 计算机 等 高可靠性 领域 都 得到 了 成功 应用 。 　 基于 边界 扫描 的 板级 BIT 技术 的 可能 发展趋势 　 　 基于 边界 扫描 的 板级 BIT 技术 研究 虽然 取得 了 较大 的 进展 ， 现阶段 仍 围绕 一些 关键问题 向前 发展 ， 这 主要 有 ： 混合 技术 电路板 的 测试 问题 　 　 目前 ， 虽然 边界 扫描 器件 越来越 多 ， 非 边界 扫描 器件 仍 大量 存在 ； 而且 在 复杂 电路设计 中 ， VLSI 和 ASIC 专用 集成电路 虽然 能够 完成 电路 的 许多 功能 ， 但 并 不是 所有 的 逻辑 功能 都 可以 集成 ， 相当 多 的 功能 仍 需要 采用 分离 器件 或 通用 集成电路 实现 ， 而 它们 很少 支持 边界 扫描 所以 ， 由 边界 扫描 器件 和 非 边界 扫描 器件 组装 的 混合 技术 电路板 仍 将 在 今后 相当 长时间 内 广泛 存在 ， 它们 的 测试 问题 成为 板级 BIT 技术 需要 研究 的 关键问题 。 　 　 解决 此 问题 的 基本 思想 是 通过 电路板 上 存在 的 边界 扫描 器件 实现 非 边界 扫描 器件 的 测试 ， 实现 此 思想 需要 进行 如下 两个 方面 的 关键技术 研究 ： 　 　 在 综合 考虑 设计 复杂性 、 实现 代价 和 测试 完备 性 等 因素 的 情形 下 ， 基于 边界 扫描 的 电路板 可测性 设计 技术 研究 。 即 研究 如何 合理 选用 或 添加 边界 扫描 器件 以 最好 地 完成 电路板 测试 ， 同时 使得 实现 成本 最低 。 此 技术 具有 很 高 的 实际 应用 价值 ， 值得 开展 深入 的 研究 。 　 　 扫描 链 优化 配置 技术 研究 。 美国 南加州 大学 的 MelvinABreuer 在 美国 国防 高级 研究 计划局 DARPA 的 资助 下 对 部分 扫描 领域 中 扫描 链 优化 配置 技术 进行 了 研究 ， 取得 了 较为 满意 的 结果 。 明尼苏达 大学 的 TJung 借鉴 此 技术 对 混合 技术 电路板 测试 进行 了 简单 的 研究 ， 证明 扫描 链 优化 配置 技术 对于 提高 测试 效率 具有 很大 的 作用 ， 有 必要 在 此基础 上 开展 进一步 的 研究 。 测试 向量 生成 的 优化 问题 　 　 生成 序列 长度 短 、 故障 覆盖率 高 、 诊断 准确 的 测试 向量 一直 是 测试 领域 孜孜以求 的 目标 和 研究 的 问题 。 在 板级 BIT 中 ， 由于 BIT 资源 较 简单 、 测试 时间 受限 以及 边界 扫描 测试 的 串行 特点 ， 这个 问题 显得 更加 突出 。 目前 ， 传统 的 测试 生成 算法 如 计数 序列 算法 、 改良 计数 序列 算法 以及 移动 “ ” 算法 等 ， 虽然 在 数学 上 进行 了 一定 的 优化 ， 但 由于 没有 充分利用 电路板 的 结构 信息 ， 测试 向量 仍 不够 简练 。 如果 测试 生成 算法 能 充分利用 电路板 结构 信息 ， 生成 的 测试 向量 集将 更为 优化 ， 这是 测试 向量 生成 的 重要 发展趋势 。 板级 连续 BIT 在线 BIT 的 实现 问题 　 　 连续 BIT 是 连续 监控 系统 工作 状态 的 一种 BIT 形式 ， 它 要求 在 系统 工作 时 进行 并行 测试 ， 是 并行 技术 在 BIT 中 的 体现 ， 同时 也 是 BIT 的 较 高 要求 和 重要 发展趋势 之一 。 为 基于 边界 扫描 实现 电子系统 的 并行 测试 ， TI 开发 了 一种 DBMDigitalBusMonitor 器件 ， 能够 在 IEEEstd 测试 总线 信号 的 控制 下 实时 采样 工作 数据 ， 可以 在 其 基础 上 研究 基于 边界 扫描 的 板级 连续 BIT 实现 技术 。 　 结论 与 展望 　 　 过去 十几年来 ， 基于 边界 扫描 的 板级 BIT 技术 已经 开展 了 广泛 的 研究 ， 并且 取得 了 较大 的 理论 和 实践 成果 ， 但 仍 存在 一些 关键问题 ， 特别 是 混合 技术 电路板 的 测试 问题 需要 开展 深入 的 研究 。 这些 问题 的 解决 ， 不仅 具有 重要 的 理论意义 ， 而且 具有 重要 的 工程 应用 价值 。 基金项目 ： “ 九五 ” 国防 预研 项目 支持 作者简介 ： 岁 　 男 　 教授 　 国防科技大学 校长 　 博士生 导师 作者 单位 ： 温熙森 　 刘 冠军 　 黎琼炜 　 易晓山 　 国防科技大学 智能 监控 与 故障诊断 研究室 ， 湖南省 长沙市 ， 参考文献 　 　 　 曾 天翔 主编 电子设备 测试 性及 诊断 技术 北京 航空工业 出版社 　 　 　 杨 为民 主编 可靠性 维修性 保障性 总论 北京 国防工业 出版社 　 　 　 BIT 技术 发展 情况 与 分析 报告 国防科技大学 智能 监控 与 故障诊断 研究室 　 　 　 SuChauchinShyhJyeJouetalDecentralizedBISTforandBassedInterconnectsIEEE ～ 　 　 　 JoseMFerreiraAmodulararchitectureforBISTofboundaryscanboardsITC ～ 　 　 　 NajmiJarwalaChiWYauAchievingboardlevelBISTusingtheboundarysacanmasterITC ～ 　 　 　 赵振峰 VLSI 及 电子设备 层次化 自测试 结构 实验 验证 北京 自动测试 技术 研究所 　 　 　 TIIEEEJTAGTestabilityPrimer 　 　 　 GaryODonnellAnUpdateonUsingBoundaryScanforSystemlevelTestIntegrationEvaluationEngineering ～ 　 　 　 AllisonHEvansEnricoMaciiHeuristicalgorithmfortheminimizationoftestapplicationtimeindigitalcircuitswithboundaryscancapabilitiesProceedingsoftheMediterraneanElectrotechnicalConferenceMELECONIndustrialApplicationsinPowerSystemsComputerScienceandTelecommunicationsPartofMay ～ 　 　 　 LeeWhetselAProposedMethodofAccessinginaBackplaneEnviromentITC ～ 　 　 　 RobertJDoughertyAnIEEEBoundaryScanApplicationforBITEvaluationEngineering ～ 　 　 　 SridharNarayananRajeshGuptaMelvinBreuerAOptimalConfiguringofMultipleScanChainsIEEETransactionsonComputers ～ 　 　 　 ChoiYHJungTConfigurationofaBoundaryScanforOptimalTestingofClustersofnonBoundaryScanDevivesICCAD ～ 　 　 　 LeeWhetselAnIEEEBasedLogicSignatureAnalyzerinaChipITC ～ 收稿 日期 ：