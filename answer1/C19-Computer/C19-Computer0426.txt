信息 与 控制 INFORMATIONANDCONTROL 年 第卷 第期 VolNo 定量 反馈 理论 （ QFT ） 及其 设计 应用 肖 永利 　 张 　 琛 　 陈 文华 　 　 摘 　 要 ： 本文 总结 了 定量 反馈 理论 （ QFT ） 的 设计 特点 、 基本原理 和 设计 过程 ， 综合 论述 了 多 输入 多 输出 、 非 最小 相位 不 稳定 、 时变 非线性 不 确定 系统 的 QFT 研究 方法 ， 介绍 了 QFT 目前 在 国外 的 研究进展 及 应用 情况 ， 并 对 QFT 未来 发展 作 了 展望 ． 　 　 关键词 ： 定量 反馈 理论 （ QFT ） ， 鲁棒控制 ， 不确定性 系统 　 　 中 图 分类号 ： TP 　 　 　 　 　 　 文献 标识码 ： AQUANTITATIVEFEEDBACKTHEORYANDITSDESIGNAPPLICATIONSXIAOYongliZHANGChenCHENWenhuaInformationStorageResearchCentreShanghaiJiaotongUniversityShanghaiGlasgowUniversityUKAbstract 　 ThispapersummarizesthepropertiesbasicprinciplesanddesignprocessofquantitativefeedbacktheoryTheresearchideasofQFTappliedtoMIMOplantsnonminimumphaseorunstableplantstimevaryingornonlinearplantsaresurveyedThedevelopmentandapplicationstatusofQFTinoverseasareintroducedandthefuturedevelopmentsareoverviewed 　 　 Keywords 　 quantitativefeedbacktheoryrobustcontroluncertainsystem 　 引言 　 　 定量 反馈 理论 （ QuantitativeFeedbackTheory ） 是 以色列 学者 IssacHorowitz 提出 的 一种 鲁棒控制 设计 理论 ． 早 在 年代 末 ， 这种 理论 方法 就 已 基本 形成 ， 但 由于 其 在 控制系统 设计 中 需要 进行 大量 的 数字 计算 和 复杂 的 图形 分析 ， 因而 很长 一段时间 未 受到 很 高 的 重视 ． 到 了 年代 末 和 年代 初 ， 随着 计算机 的 普及 和 飞速发展 以及 各种 CAD 软件包 的 开发 应用 ， 数字 计算 和 复杂 图形 分析 已 不再 是 阻碍 QFT 研究 发展 的 障碍 ， 这种 理论 方法 才 逐渐 被 许多 学者 认可 并 很快 成为 现今 较为 流行 的 一种 鲁棒控制 设计 方法 ． 　 　 QFT 是 一种 频域 设计 方法 ， 它 将 经典 控制 理论 中 的 频域 校正器 设计 思想 推广应用 到 了 对 不确定性 系统 的 鲁棒控制 律 设计 ， 将 对象 的 不 确定 范围 和 系统 的 性能指标 用 定量 的 方式 在 Nichols 图上 形成 边界 ， 进而 以 基准 对象 的 开环 频率 曲线 满足 边界条件 为 要求 在 图上 对系统 进行 设计 与 综合 ． 由于 QFT 是从 工程 应用 角度 提出 的 ， 因而 它 是 目前 鲁棒控制 领域 中 具有 较强 工程 实用价值 的 一种 设计 方法 ． 　 QFT 的 研究 对象 和 设计 特点 　 　 QFT 属于 一种 鲁棒控制 设计 方法 ， 它 是 针对 当 对象 具有 不确定性 和 存在 干扰 情况 下 ， 如何 利用 反馈 信息 设计 出 满足 一定 要求 的 控制系统 这一 问题 而 提出 来 的 ． 对象 的 不确定性 包含 参数 不确定性 和 结构 不确定性 ， 干扰 包括 系统 输入输出 干扰 及 传感器 噪声 干扰 等 ． QFT 也 是 一种 频域 设计 方法 ， 当 不 确定 对象 在 Bode 图中能 表示 成 一些 幅值 和 相位 曲线 时 ， 应用 QFT 就 可以 很 简单 地 设计 出 一个 控制器 G 和 前置 滤波器 F ， 使得 设计 对象 具有 期望 的 鲁棒 特性 ． QFT 之所以 近年来 能 引起 广泛 兴趣 ， 主要 原因 在于 它 本身 所 具有 的 独特 优越性 ， 其 设计 特点 主要 包括 以下 几个 ． 　 　 （ ） 设计 的 控制系统 具有 鲁棒性 ． QFT 可以 综合 考虑 对象 的 不 确定 范围 和 系统 的 性能指标 ， 并 能 实现 具有 大 范围 不确定性 系统 的 稳定 鲁棒性 和 性能 鲁棒性 设计 要求 ． 　 　 （ ） 反馈 代价 直接 由 对象 的 不 确定 范围 、 干扰 大小 以及 设计 指标 高低 来 决定 ． 　 　 （ ） 设计 过程 能够 在 每 一个 设计 频率 点处 明确 反映 系统 的 设计 要求 、 不确定性 与 控制器 复杂程度 、 带宽 等量 之间 的 约束 关系 ． 　 　 （ ） 并不一定 需要 知道 对象 的 具体 模型 ． 当 对象 具有 复杂 动态 特性 ， 很难 建立 解析 式 模型 时 ， 可以 用 实验 方法 得到 不 确定 对象 的 频率响应 集合 ， QFT 可以 在 只 知道 这些 频率响应 集合 的 条件 下 设计 控制系统 ． 　 　 （ ） 可以 用 非线性 对象 的 简化 线性 模型 设计 固定 参数 控制系统 ． 对于 象 飞机 、 导弹 这 类 不确定性 非线性 对象 ， 传统 的 处理 方法 是 先 在 对象 的 不同 工作 点 进行 解 耦 线性化 ， 得到 一组 传递函数 集合 ， 然后 用 增益 调参法 设计 控制器 ． QFT 可 直接 对 传递函数 集合 设计 ， 得到 固定 参数 的 控制器 ． 　 　 （ ） 应用 范围 较广 ． QFT 可 用于 单 变量 、 多 变量 、 非 最小 相位 不 稳定 、 各种 高度 非线性 以及 时变 系统 的 鲁棒控制 律 设计 ． 　 　 （ ） 设计 过程 简单 ． 当 设计 指标 无法 满足 时 ， 可以 很快 重新 进行 调整 设计 ． 　 　 （ ） 工程 实用性 强 ． QFT 是 一种 工程设计 方法 ， 它 不象 某些 鲁棒控制 方法 要求 设计者 必须 具备 较 深 的 数学 功底 ． 一般 只要 懂得 经典 控制 理论 的 工程 技术人员 都 可以 很 好 地 掌握 这一 设计 方法 ， 且 用 QFT 方法 设计 的 控制系统 在 实际 应用 中 也 是 比较 容易 实现 的 ． QFT 的 这 一 特性 也 是 它 最具 吸引力 的 地方 ， 有人 称 它 是 在 控制 领域 为 理论 研究 与 实际 应用 架起 了 一座 桥梁 ． 　 QFT 的 基本原理 和 设计 过程 　 　 QFT 的 发展 过程 首先 是 研究 具有 不确定性 的 线性 时 不变 单 输入 单 输出 （ LTISISO ） 系统 ， 然后 进一步 推广 到 多 输入 多 输出 、 非 最小 相位 不 稳定 、 时变 以及 非线性 等 系统 ． LTISISO 系统 是 QFT 方法 研究 的 核心内容 ， 其它 的 多 输入 多 输出 、 时变 以及 非线性 等 系统 都 可 通过 数学方法 先 转化 为 等效 的 LTISISO 系统 ， 再 进行 设计 研究 ． 由于 QFT 研究 的 核心内容 是 LTISISO 系统 的 控制 设计 问题 ， 所以 下面 以 LTISISO 系统 为 对象 来 介绍 QFT 的 基本原理 及 设计 过程 ． ． QFT 的 设计 结构 　 　 QFT 的 一般 设计 结构 是 一种 如图所示 的 两 自由度 控制结构 ． 图中 P 是 有着 不确定性 的 被控 对象 ， G 和 F 为 所要 设计 的 控制器 和 前置 滤波器 ， d 和 d 为 外部 干扰 输入 ， r 和 y 分别 为 输入 和 输出 ． 图 QFT 两 自由度 控制系统 结构 ． 对象 模板 　 　 QFT 对 不 确定 对象 P 的 描述 采用 的 是 对象 模板 形式 ． 对象 模板 表征 的 是 对象 在 某 一 频率 点处 的 不 确定 范围 ， 映射 到 Nichols 图上 是 一个 区域 ． 例如 ， 选定 一个 频率 点 ω i ， 在 这个 频率 点 对 不 确定 对象 P 进行 频率响应 分析 ， 所有 的 频率 特征 点 Pj ω i 在 Nichols 图上 所 形成 的 区域 就是 在 频率 点 ω i 下 的 对象 模板 ． QFT 设计 通常 要 根据 系统 频率特性 在 ∞ 范围 内 选取 一组 有 代表性 的 频率 点 ， 针对 不同 频率 点 可以 得到 多个 在 不同 频率 点处 反映 系统 不确定性 的 对象 模板 ． 在 QFT 设计 中 ， 绘制 系统 的 对象 模板 并不需要 将 所有 的 频率 特征 点 Pj ω i 全部 求 出 ， 而 只 需 选取 能够 表征 对象 模板 最大 范围 的 频率 特征 点 即可 ， 与 这些 频率 特征 点 对应 的 系统 模型 称为 选样 模型 ． 选样 模型 必须 能 较 准确 地 反映 对象 的 最大 不确定性 ， 否则 会 导致 设计 的 不 准确 ． 一般 模板 越大 ， 表明 被控 对象 的 不确定性 越强 ， 反之 则 表明 被控 对象 的 不确定性 越弱 ． 作出 合理 、 准确 的 对象 模板 在 QFT 设计 中是 非常 重要 的 ． ． 性能 设计 指标 与 边界 　 　 前面 我们 提到 ， QFT 设计 是 在 Nichols 图上 进行 的 ． 它 的 基本 设计 思想 是 先 将 对 闭环 系统 的 设计 要求 转化 为 在 Nichols 图上 对 基准 对象 开环 频率响应 曲线 进行 约束 的 一系列 边界 ， 然后 通过 调整 基准 对象 的 开环 频率响应 曲线 ， 并 使 其 满足 边界条件 来 设计 控制器 G ． 　 　 将 闭环 系统 的 设计 要求 转化 为 在 Nichols 图上 的 边界 是 QFT 设计 中 的 重要一环 ． 针对 控制系统 要求 ， QFT 的 一般 设计 指标 包括 稳定性 和 稳定 裕度 指标 、 跟踪 性能指标 、 抗干扰 性能指标 等 ． 下面 以 跟踪 性能指标 为 例来 介绍 如何 在 Nichols 图上 生成 跟踪 边界 ． 图 系统 的 闭环 传递函数 为 ： 　 　 　 　 　 　 其中 Ls 为 开环 传递函数 ， LsGsPs ． 由 闭环 传递函数 表达式 （ ） 知 ， 闭环 传递函数 Trs 的 不确定性 只 取决于 Ls （ 或 Ps ） 的 不确定性 ， 即 有 　 　 　 　 　 　 　 设 闭环 跟踪 指标 要求 系统 闭环 响应 必须 满足 Trl ω ≤ Trj ω ≤ Tru ω 　 　 　 　 　 　 　 　 　 　 　 　 　 其中 Trl ω 和 Tm ω 为 给定 的 上 下界 跟踪 指标 ． 由 （ ） （ ） 得 　 　 由 开环 传递函数 LsGsPs 可知 ， 在 Nichols 图上 ， 通过 平行 移动 （ 移动 幅度 为 Gs 的 相位 角度 ） 和 垂直 移动 （ 移动 幅度 为 Gs 的 幅值 ） 对象 模板 ， 可 将 对象 模板 放置 到 两条 等 M 线 之间 ． 当 两条 等 M 线 之间 的 幅值 差 恰好 等于 δ r ω 时 ， 就 保证 了 闭环 Tr 的 变化 量 小于 或 等于 设计 允许值 ． 通过 在 对象 模板 中 选择 一个 基准点 （ 对应 的 模型 称为 基准 对象 模型 ） ， 再 在 每个 相角 对应 的 垂直线 上 重复 上述 移动 过程 ， 记住 基准点 的 这些 位置 并 连成 曲线 ， 就 构成 了 对 基准 对象 开环 频率响应 进行 约束 的 跟踪 边界 曲线 ． 类似 地 ， 可 根据 其它 性能指标 计算 出 稳定性 边界 、 抗干扰 边界 等 ． 对 这些 边界 取 交集 ， 就 可 得到 设计 控制器 所 需 的 复合 频域 边界 ． ． 控制器 G 和 前置 滤波器 F 设计 　 　 在 Nichols 图上 计算 并 绘制 出 复合 频域 边界 后 ， 接下来 的 工作 就是 设计 控制器 G ． 由于 QFT 是 一种 图形 设计 方法 ， 所以 控制器 G 的 设计 过程 也 叫 设计 整形 过程 （ LoopShaping ） ． 　 　 在 绘 有 复合 频域 边界 的 Nichols 图上 作出 基准 对象 的 开环 频率响应 曲线 Lj ω 由 Lj ω Gj ω Pj ω 知 ， 当 G ， 即不加 控制器 时 ， Lj ω Pj ω ， 当给 G 加入 零 极点 及 增益 时 ， 可以 调整 Lj ω 的 位置 和 形状 ． QFT 设计 是 使得 开环 频率响应 曲线 Lj ω 在 所 选则 的 设计 频率 点处 的 位置 位于 对应 频率 点处 的 边界 的 上方 ， 且 离 边界 越近 越 好 ， 在 高频 处 还 应 保证 Lj ω 不 与 稳定 边界 相交 ． 当 Lj ω 满足 边界 要求 后 ， 用来 调整 的 极点 和 零点 以及 增益 就是 控制器 G 的 表达式 ． 控制器 G 的 作用 仅能 使 闭环 频率响应 的 变化 量 小于 或 等于 允许 变化 范围 ， 而 不能 使 闭环 的 频率响应 满足 上下 边界 要求 ， 因此 还 需 加入 前置 滤波器 F 以 调整 系统 的 整体 频率响应 特性 ． 控制器 G 和 前置 滤波器 F 的 设计 一般 都 要 借助 CAD 软件 ， 并且 要 经过 多次 试探 才能 成功 ． 有 经验 的 设计者 通常 很快 就 能 完成 ， 而 对 初学者 来说 则 相对 困难 一些 ． 值得一提的是 ， 当有 多个 不同 的 G 和 F 都 满足 设计 要求 时 ， 设计者 应 根据 实际 情况 选择 一组 最为 合适 的 设计 结果 ． ． QFT 设计 过程 总结 　 　 基于 前面 的 介绍 并 根据 QFT 的 CAD 软件设计 工具 ， 可以 把 LTISISO 系统 的 QFT 一般 设计 过程 总结 成 这样 几个 部分 ． 　 　 第一 部分 ： 设计 前 的 数据 准备 及 定义 过程 ． 包括 选择 设计 频率 点集 ， 选择 基准 对象 ， 并 根据 不 确定 对象 在 所选 频率 点集处 的 频率响应 数据 生成 对象 模板 ． 　 　 第二 部分 ： 计算 并 绘制 设计 边界 ． 根据 对象 模板 和 设计 要求 ， 在 Nichols 图上 生成 基准 对象 开环 频率响应 的 各个 设计 边界 ， 并取 不同 边界 的 交集 得到 复合 频域 边界 ． 　 　 第三 部分 ： 设计 整形 过程 ． 在 Nichols 上 调整 基准 对象 的 开环 频率响应 曲线 ， 使 其 满足 设计 边界 要求 ， 从而 先 得到 控制器 G ， 接着 根据 闭环 系统 频率响应 要求 再 设计 前置 滤波器 F ． 　 　 第四 部分 ： 设计 结果 分析 ． QFT 是 一种 近似 设计 方法 ， 所选 的 设计 频率 点 是 有限 的 点 ， 设计 出来 的 控制系统 是否 满足 整个 系统 的 要求 ， 还 必须 加以分析 才能 确定 ． 如果 控制系统 不 满足 设计 要求 ， 应 返回 到 第一 部分 重新 选择 设计 点 并 重新 设计 ． 　 多 输入 多 输出 、 时变 非线性 、 非 最小 相位 不 稳定 系统 的 QFT 设计 思想 ． 多 输入 多 输出 （ MIMO ） 系统 的 QFT 设计 　 　 在 实际 系统 中 ， 大多数 的 控制 对象 都 具有 多 输入 多 输出特性 ， 因此 多 变量 系统 的 控制 设计 问题 一直 是 控制 界 的 研究 热点 ． 针对 具有 不确定性 的 MIMO 系统 ， 人们 投入 了 很大 精力 对 它 进行 了 研究 ． 鲁棒控制 理论 和 综合 是 近年来 极具 代表性 的 解决 方法 ． 这 两种 方法 自 年代 以来 受到 了 普遍 关注 ， 至今 已 取得 了 很大 发展 ． 但 由于 种种原因 ， 这些 方法 在 实际 应用 中 却 遇到 了 很大 困难 ． 与 这 两种 方法 不同 的 是 ， QFT 并 没有 以 现代 控制 理论 为 基础 去 研究 一些 抽象 的 数学 问题 ， 而是 直接 延续 了 传统 的 经典 控制 理论 ， 用单 输入 单 输出 系统 方法 来 解决 多 输入 多 输出 问题 ． 它 的 基本 思想 是 ， 先 将 n × n （ 如果 不是 n × n ， 应先 转化成 n × n ） 的 MIMO 系统 分解成 个 等价 的 MISO 系统 ， 然后 再 利用 前面 介绍 的 LTISISO 系统 设计 方法 对 其 进行 设计 ． 设 n × n 的 MIMO 系统 的 闭环 传递函数 阵为 TsIPsGsPsGsFs 　 　 　 　 　 设 P 存在 且 G 为 对角 阵 ， 由 （ ） 可 推导 得 IGsPsTsFs 　 　 　 　 　 　 　 　 取 P ≡ pij ≡ qij ， 则 Ts 中 的 元素 可 表示 为 　 　 　 　 　 　 系统 闭环 传递函数 阵 Ts 中共 有 n 个子 传递函数 tij ， tij 表示 从 第 j 个 输入 到 第 i 个 输出 的 闭环 传递函数 ． 不难看出 ， 式 （ ） 中 的 前半部 分是 标准 的 SISO 闭环 系统 形式 ． 其中 qij 为 控制 对象 ； gi 与 fij 为 所要 设计 的 控制器 和 前置 滤波器 ． 当 把 后面 的 dij 项 看作 是 干扰 输入 时 ， 就 可以 用 SISO 系统 的 QFT 设计 方法 对 每 一个 tij 进行 设计 了 ， 设计 后 的 最终 解 就是 MIMO 系统 的 设计 结果 ． 　 　 由于 各个 tij 之间 具有 相互 耦合 的 约束 关系 ， 所以 多 输入 多 输出 系统 QFT 设计 的 难点 在于 转化成 MISO 系统 后 的 设计 问题 ． Horowitz 先后 提出 了 两种 处理 方法 ， 一种 是 考虑 每个 子 MISO 系统 的 最坏 情况 ， 逐个 单独 设计 ， 另 一种 是 后面 子系统 的 设计 利用 了 前面 子系统 的 设计 结果 ， 是 前 一种 方法 的 改进 ． 在 此基础 上 ， 一些 学者 对 上述 方法 又 提出 了 一些 改进 意见 ． 例如 Yaniv 将 设计 指标 转化 为 模型 匹配 问题 得到 了 MIMO 系统 设计 的 简化 形式 ； Chine 用 等价 抗干扰 的 方法 也 简化 了 设计 步骤 ． CCCheng 等 人 则 使用 了 一种 指标 替代 结构 形式 使得 设计 变 的 容易 ． 尽管 这些 改进 方法 简化 了 多 输入 多 输出 系统 的 QFT 设计 过程 ， 但 先 将 MIMO 系统 分解成 MISO 系统 这一 总 的 设计 思想 并 没有 改变 ． 非 最小 相位 不 稳定 系统 的 QFT 设计 　 　 非 最小 相位 系统 和 不 稳定 系统 在 实际 控制 对象 中 相当 普遍 ． 在 一般 情况 下 ， 飞机 和 导弹 的 纵 、 侧向 线性 模型 就 是非 最小 相位 系统 和 不 稳定 系统 ． 早 在 二十多年 前 ， Horowitz 就 研究 了 用 QFT 方法 来 解决 非 最小 相位 系统 问题 ， 在 他 后来 出版 的 专著 中 也 用 同样 方法 研究 了 不 稳定 系统 的 QFT 设计 问题 ． 文 也 通过 具体 设计 证明 了 QFT 方法 在 解决 非 最小 相位 不 稳定 系统 问题 上 的 有效性 ． 　 　 用 QFT 设计 非 最小 相位 不 稳定 系统 的 基本 思想 是 ， 通过 移动 鲁棒 稳定 边界 和 性能 边界 ， 将 非 最小 相位 不 稳定 系统 的 设计 整形 问题 转化成 最小 相位 稳定 系统 的 设计 整形 问题 ． 对 任意 的 具有 不确定性 的 非 最小 相位 不 稳定 系统 可 写成 如下 形式 其中 s 和