航空 工艺技术 AERONAUTICALMANUFACTURINGTECHNOLOGY 年 第期 No 基于 神经网络 的 机械加工 信息 融合 王 清明 　 卢泽生 　 　 摘要 　 概述 了 基于 神经网络 的 信息 融合 技术 在 机械加工 中 的 刀具 状态 监控 、 加工 精度 预测 、 误差 补偿 等 方面 的 应用 ， 并 展望 了 该 技术 的 应用 前景 。 　 　 关键词 ： 神经网络 　 信息 融合 　 机械加工 NeuralNetworkBasedInformationFusioninMachining 　 　 ABSTRACT 　 Thispaperintroducestheapplicationofneuralnetworkbasedinformationfusioninmachiningformonitoringthetoolstateforecastingthemachiningaccuracyandcompensatingtheerrorsandgivesitsforegroundinthefuture 　 　 KeywordsNeuralnetwork 　 Informationfusion 　 Machining 　 　 神经网络 由于 和 其他 方法 相比 具有 如下 许多 优点 而 被 广泛应用 于 机械加工 中 ， 即 ： 并行 结构 ， 便于 融合 多 信号 ； 学习 功能 ， 有 很 强 的 知识 获取 能力 ； 联想 推理 功能 和 自 调整 功能 ； 很强 的 非线性 映射 功能 ， 便于 复杂 系统 建模 。 基于 神经网络 的 这些 特征 ， 神经网络 在 机械加工 中 最 有 前途 的 应用领域 是 多 传感器 信息 融合 。 首先 Lmonostori 提出 了 用 人工神经网络 代替 传统 的 模式识别 技术 如 统计 方法 ， 取得 了 良好效果 。 机械加工 的 最终目标 是 以 低成本 、 高速度 、 高质量 加工 出所 需 零件 ， 要 达到 该 目标 ， 核心 任务 是 实现 加工过程 自动化 。 为了 保证 加工过程 自动化 的 顺利进行 ， 必须 对 加工过程 进行 及时 而 有效 的 监控 。 加工过程 非常复杂 ， 有 很多 因素 影响 着 加工 精度 和 加工过程 的 顺利进行 。 实践证明 ， 单一 的 传感器 很难 正确 反映 加工 状态 ， 向 多 传感器 信息 融合 发展 是 必然 之 路 。 多 传感器 能够 提供 加工过程 多方面 的 信息 ， 对 这些 信息 进行 综合 和 知识 提取 即 信息 融合 ， 进而 对 加工过程 进行 正确 的 预测 和 控制 。 信息 融合 需要 很强 的 数据处理 能力 和 有效 的 算法 ， 计算机 和 人工神经网络 为此 提供 了 强有力 的 支持 ， 使得 信息 融合 技术 在 机械加工 中 得到 了 广泛 的 应用 。 下面 针对 信息 融合 技术 在 机械加工 中 的 应用 作一 概述 。 　 机械加工 中 刀具 状态 监控 　 　 刀具 状态 监控 是 FMS ， CIMS 等 系统 中 的 关键技术 ， 包括 刀具 磨损 监控 和 破损 监控 。 检测 刀具 状态 主要 采用 间接 方法 。 加工过程 中 与 刀具 状态 有关 的 量 很多 ， 主要 包括 切削力 Ffxfyfz 、 电机 电流 功率 IsPsIfPf 、 声 发射 信号 AE 、 振动 信号 VB 和 切削 参数 fvap 等 ， 前项 需要 在 加工过程 中 实时 测量 ， 称为 测量 信号 。 最初 的 刀具 状态 监控 大都 基于 一种 因素 如 切削力 检测法 ， 误报率 较 高 ， 甚至 将 两种 因素 结合 在 一起 可靠性 仍然 有限 。 如 钻削 过程 中 ， 在 不同 切削 条件 下用 主轴 电流 信号 检测 刀具 状态 正确率 为 ， 用进 给 电流 信号 检测 的 正确率 为 ， 两者 结合 起来 检测 正确率 为 ［ ］ 。 因此 利用 人工神经网络 对 多种 信息 进行 融合 ， 就 能 基本上 消除 外界 干扰 ， 提高 检测 的 可靠性 。 神经网络 的 并行 结构 不 限制 输入量 的 个数 ， 为了 保证 每 项 输入 均 与 输出 有 较大 的 相关 程度 ， 通常 采用 方差分析 和 序贯 向前 寻优法 sequentialforwardsearch ［ ］ 决定 输入 的 种类 和 数量 。 输入 大致 分为 两种 情况 ， 一是 把 全部 测量 信号 或 其 一部分 作为 输入 ； 二是 把 测量 信号 或 其 一部分 和 切削 参数 作为 输入 ， 在 各种 切削 条件 下 对 网络 进行 训练 ， 如 在 钻削 过程 中 把 主轴 、 进 给 电流 信号 和 切削 参数 作为 三层 神经网络 的 输入 ， 刀具 磨损 状态 作为 输出 ［ ］ 。 信息 融合 刀具 状态 监控 通用 模型 如图所示 。 考虑 到 神经网络 不能 解决 模糊 问题 ， 而 刀具 磨损 恰是 一个 模糊 概念 ， LiS 把 模糊 系统 引进 神经网络 ， 根据 刀具 状态 监控 的 要求 ， 设计 了 合理 的 模糊 神经网络 模型 ， 融合 切削力 、 振动 、 主轴电机 功率 信号 ， 把 刀具 状态 划分 为 新刃 、 初期 磨损 、 中期 磨损 、 急剧 磨损 和 破损 ， 获得 很大 成功 ， 将 神经网络 的 应用 又 推进 了 一步 ［ ］ 。 神经网络 的 输入 既 可以 用 信号 本身 又 可以 用 其 统计 量 和 谱 特征 量 如 有效值 、 均值 、 方差 等 ， 把 某 一 信号 的 统计 量 和 谱 特征 量 的 一部分 或 全部 作为 输入 ， 将 该 信号 的 各种 信息 融合 到 一起 ， 也 可 称为 信息 融合 。 如 采用 进 给 切削力 的 二阶 标准化 中心 谱矩 、 有效值 、 均值 ， 切削 分量 的 功率 、 均 方值 、 均值 个 输入量 ， 通过 × × 网络 检测 刀具 状态 效果 很 好 ［ ］ 。 图 　 刀具 状态 监控 模型 原理图 Fig 　 Principleoftoolstatemonitoringmodel 　 机械加工 精度 预测 　 　 加工 精度 的 正确 预测 是 加工过程 自动化 技术 发展 的 迫切需要 ， 它 主要 包括 尺寸 精度 、 形状 精度 、 表面 粗糙度 的 预测 ， 目前 加工 精度 预测 研究 的 重点 是 表面 粗糙度 。 从 理论 上 讲 ， 用 神经网络 信息 融合 模型 把 相关 误差 源 和 加工 精度 指标 联系 起来 ， 可以 预测 任意 项 加工 精度 指标 。 实际上 ， 加工过程 是 一个 非常复杂 的 动态 系统 ， 影响 加工 精度 的 误差 源 很多 ， 包括 机床 几何 精度 、 温度 变形 、 力 变形 、 工艺 系统 振动 、 刀具 磨损 、 切削液 类型 和 润滑 情况 、 切削 参数 、 刀具 类型 、 工件 材质 等 ， 而且 其中 有些 项 还 包括 多个 分量 ， 如 机床 加工 中 温度 变形 是 一个 非常复杂 的 问题 ， 需要 加工 系统 内外 多处 的 温度 分布 值 ， 有时 温度传感器 的 数量 有 数十个 甚至 近 百个 。 因此 用 神经网络 建立 所有 加工 精度 指标 与 所有 误差 源 的 通用 预测 模型 有 一定 难度 这 也 是 目前 研究 的 一个 方向 。 另外 为了 保证 基于 神经网络 的 融合 模型 的 有效性 ， 训练样本 最好 能 全部 覆盖 或 尽可能 多地 覆盖 所有 加工 状态 ， 这 需要 很多 的 训练样本 ， 即使 采用 正交 设计 法 Orthogonalarrays 安排 试验 ， 试验 次数 也 是 惊人 的 ， 基于 此 ， 现在 常用 的 方法 是 把 一项 或 数项 加工 精度 作为 三层 神经网络 融合 模型 的 输出 ， 把 与其 相关 程度 较大 的 误差 源 作为 输入 来 预测 加工 精度 。 文献 ［ ］ 在 车削 过程中将 刀具 磨损 作为 影响 表面 粗糙度 的 主要 因素 ， 考虑 到 切削力 和 声 发射 信号 与 刀具 磨损 状态 有 直接 关系 ， 因此 把 切削力 和 声 发射 信号 测量 值 及其 历史 值 作为 神经网络 融合 模型 的 输入 来 预测 刀具 状态 ， 效果 良好 。 文献 ［ ］ 用 正交 设计 安排 车削 试验 ， 将 切削 参数 、 润滑 情况 、 刀具 磨损 状态 、 工件 材质 和 工件 直径 作为 神经网络 融合 模型 的 输入 ， 先 把 表面 粗糙度 和 工件 直径 误差 作为 输出 ， 然后 再 分别 将 切削力 、 系统 振动 、 声 发射 信号 及 刀具 的 偏斜 作为 输出 ， 最后 用 统计分析 方法 得到 影响 表面 粗糙度 和 工件 直径 误差 的 主要 因素 为进 给 速度 、 工件 直径 、 径向 切削力 和 进 给 分量 ， 把 这个 因素 作为 神经网络 融合 模型 的 输入 ， 表面 粗糙度 和 工件 直径 误差 作为 输出 ， 用 × × 模型 预测 ， 效果 令人满意 。 　 机械加工 误差 补偿 　 　 误差 补偿 是 机械加工 中 的 一个 重要 研究 方向 ， 被 认为 是 在 一定 机床 制造 精度 基础 上 进一步提高 加工 精度 的 主要 手段 ， 在 质量保证 中 扮演着 十分 重要 的 角色 。 国内外 很多 文献 对 误差 补偿 进行 了 大量 研究 ， 提出 了 多种 建立 误差 补偿 模型 的 方法 ， 如 三角 关系法 、 有限元法 、 有限 差分法 、 变分法 、 齐次 坐标 变换 法 和 神经网络 法等 ， 其中 人工神经网络 法有 非常 强 的 学习 能力 和 非线性 映射 能力 ， 并且 与 其他 方法 相比 具有 直接 性 ， 经过 适当 训练 能 准确 地 实现 从 误差 源到 定位 误差 的 映射 ， 避免 了 其他 方法 工作量 大 或 边界条件 不 充分 的 缺点 ， 在 误差 补偿 中 得到 了 广泛应用 ， 已经 成为 实现 误差 补偿 的 有效 工具 。 一般 认为 机床 在 加工 时 刀具 相对 工件 的 运动 精度 决定 着 零件 的 加工 精度 ， 影响 运动 精度 的 主要 因素 是 机床 的 几何 精度 、 热 变形 和力 变形 。 在 一定 温度 和 不 受力 条件 下 ， 机床 的 几何 精度 造成 的 刀具 运动 误差 是 位置 的 函数 ， 机床 的 温度 变化 后 ， 刀具 的 运动 误差 变为 位置 和 温度 分布 的 函数 。 加工过程 中 ， 在力 的 作用 下 ， 加工 系统 会 发生 变形 ， 这时 刀具 相对 工件 的 运动 误差 成为 位置 、 温度 分布 和力 的 函数 ， 考虑 到力 是 切削 参数 的 函数 ， 用力 或 切削 参数 作为 融合 模型 的 输入 在 很大 程度 上 是 一致 的 。 现在 普遍 应用 齐次 坐标 变换 法 建立 误差 补偿 模型 ， 各 分量 的 辨识 情况 是 ： 把 运动 部件 直线度 误差 的 个 分量 拟合 为 温度 和 位置 的 多项式 函数 ， 把 轴 之间 的 垂直 度 和 平行 度 拟合 为 温度 的 多项式 函数 ， 最后 合成 误差 模型 的 结果 是 温度 和 位置 的 函数 ［ ］ 。 总之 ， 刀具 相对 工件 的 运动 误差 是 位置 、 温度 分布 和 切削 参数 的 函数 。 从 位置 、 温度 分布 和 切削 参数 到 运动 误差 是 一个 复杂 的 非线性 映射 ， 利用 神经网络 的 非线性 映射 能力 ， 基于 神经网络 的 信息 融合 误差 补偿 模型 的 一般 形式 如图所示 。 误差 补偿 模型 的 输入 应 根据 不同 的 情况 进行 调整 ， 如 在 哈尔滨工业大学 研制 的 亚 微米 超 精密 车 床上 进行 加工 ， 由于 该 车床 采用 了 气浮 轴承 和 气浮 导轨 ， 且 床身 、 溜板 和 主轴 箱 的 材料 是 花岗石 ， 因此 加工 中 温度 的 变化 是 很小 的 ， 误差 补偿 模型 的 输入 可以 去掉 温度 矢量 。 考虑 到 模型 结构复杂 ， 学习 速度慢 ， 针对 个 误差 分量 分别 建立 个 模型 会 更 方便 。 为了 保证 基于 神经网络 的 信息 融合 误差 补偿 模型 的 补偿 精度 ， 得到 合理 的 训练样本 和 检验 样本 是 十分必要 的 ， 所谓 合理 是 指 样本 能 覆盖 机床 的 整个 加工 范围 、 温度 变化 范围 和 常用 切削 参数 的 各种 组合 。 样本 的 获得 主要 有 两种 方法 ： 用 标准 样件 如 塔轮 、 球棒 等 和 测量 设备 如 激光 测量 设备 离线 校正 机床 ， 该 方法 没有 考虑 切削力 的 影响 ， 补偿 模型 输入 不 包含 切削 参数 ； 用 比 机床 加工 精度 更 高 的 测量机 测量 机床 加工 的 典型 零件 的 误差 ［ ］ 。 随着 测量 技术 的 进步 ， 基于 神经网络 的 信息 融合 技术 将 在 误差 补偿 中 得到 更 广泛 的 应用 。 图 　 误差 补偿 模型 原理图 Fig 　 Principleoferrorcompensationmodel 　 机械加工 在线 测量 　 　 在线 测量 是 加工 测量 一体化 的 关键技术 ， 能够 大大提高 产品质量 和 生产率 。 机床 的 在线 测量 与 坐标 测量机 的 功能 相似 ， 把 刀具 换成 传感器 即可 测量 已 加工 表面 ， 因此 需要 补偿 机床 的 运动 误差 ， 这里 指 加工 完后 对 工件 进行 测量 。 在 机床 上 测量 过程 的 误差 补偿 与 加工 中 的 误差 补偿 不同 ， 它 没有 切削 ， 不 存在 切削力 的 影响 ， 从 加工 误差 补偿 模型 中 去掉 切削 参数 的 影响 即可 得到 在线 测量 的 误差 补偿 模型 。 训练样本 和 检验 样本 的 获得 基本上 和 机械加工 误差 补偿 中 的 方法 相同 ， 只是 第二种 方法 需 减去 力 变形 部分 ， 即 零件 在 高精度 测量 机上 测得 的 误差值 减去 在 机床 上测 得 的 误差值 。 　 　 基于 神经网络 的 信息 融合 技术 已 在 机械加工 中 得到 了 广泛 的 应用 ， 但 它 并 不是 完美 的 ， 还有 许多 问题 需要 解决 ， 如 学习 速度慢 、 局部收敛 、 合理 输入 和 模型 结构 的 确定 以及 解决问题 的 黑箱 性 等 ， 随着 这些 问题 的 解决 ， 它 必将 在 机械加工 中 得到 更 广泛 更 深入 的 应用 。 作者 单位 ： 王 清明 　 卢泽生 （ 哈尔滨工业大学 机电 学院 ） 参考文献 　 李小 俚基 于小波 和 模糊 神经网络 的 刀具 状态 智能 检测 技术 研究 ： ［ 博士学位 论文 ］ 哈尔滨 ： 哈尔滨工业大学 ， 　 DornfeldDANeuralnetworksensorfusionfortoolconditionmonitoringAnnalsoftheCIRP 　 LiSElbestawiMAFuzzyclusteringforautomatedtoolconditionmonitoringinmachiningJournalofMechanicalSystemsandSignalProcessing 　 MonostoriLAsteptowardsintelligentmanufacturingmodellingandmonitoringofmanufacturingprocessesthroughartificialneuralnetworksAnnalsoftheCIRP 　 唐英 等 基于 神经网络 的 表面 粗糙度 智能 预测 系统 机床 与 液压 ， 　 AzouziROnlinepredictionofsurfacefinishanddimensionaldeviationinturningusingneuralnetworkbasedsensorfusionIntJMachToolsManufact 　 MouJAnadaptiveerrorcorrectionmethodusingfeaturebasedanalysistechniquesformachineperformanceimprovementparttheoryderivationASMEJournalofEngineeringforIndustry 　 普罗 尼科夫 AC 数控机床 的 精度 与 可靠性 北京 ： 机械 工业 出版社 ， 责编 　 宇 　 迪