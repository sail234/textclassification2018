微型机 与 应用 MICROCOMPUTERITSAPPLICATIONS 年 第卷 第期 VolNo 如何 为 WindowsNTServer 制做 应急 引导 软磁盘 孙印杰 　 牛 改芳 问 　 题 ： 　 　 WindowsNTServer 中文版 以下 简称 NT ， 具有 优良 的 图形用户界面 、 高可靠性 、 安全性 、 良好 的 兼容性 及 开放性 ， 功能强大 、 容易 使用 ， 是 任何 部门 建立 局域网 、 尤其 是 建立 InternetIntranet 等 理想 的 网络操作系统 。 NT 不仅 功能强大 ， 而且 具有 自动 修复 功能 。 为了 充分发挥 出 NT 的 巨大 优越性 ， 安装 人员 在 安装 NT 时 往往 选择 “ NTFS ” 注 ： 选择 NTFS 时 不 支持 多重 引导 而 不再 选择 FAT 。 且 NT 的 “ 系统管理员 ” 都 知道 制作 应急 修复 磁盘 ， 一旦 系统 出现 不测 时 ， 可用 此 紧急 修复 磁盘 来 修复 系统 。 但 遗憾 的 是 该 “ 应急 修复 磁盘 ” 不带 引导 功能 ， 一旦 有人 误删 了 硬盘 引导 分区 中 的 NTLDR 、 BOOTINI 或 NTDETECTCOM 等 文件 时 ， 系统 便 不能 自动 引导 。 由于 在 安装 NT 时 选择 了 NTFS ， 此时 无论是 用 MSDOS 引导盘 或 “ WIN 应急 引导盘 ” 引导 ， 均 无法 识别 原 安装 NT 的 分区 。 如何 解决 这个 问题 呢 解决 方法 ： 　 　 下面 我们 以 X 产品 为 例来 分析 NT 的 启动 过程 ， 以便 从中 找出 预防措施 。 在 硬盘 的 根目录 下 存有 NTLDR 、 NTBOOTDDSYS 若 是 SCSI 控制卡 的话 、 BOOTINI 、 BOOTSECTDOS 及 NTDETECTCOM 等 隐含 文件 。 系统 刚 启动 时先 将 NTLDR 程序 载入 并 运行 ， 若 是 SCSI 磁盘驱动器 的话 SCSI 控制卡 上 的 BIOSDisabled ， NTLDR 会 将 NTBOOTDDSYS 载入 并 运行 。 然后 NTLDR 读取 BOOTINI 文件 ， 检查 是否 有 多个 操作系统 存在 ， 并 建立 一个 重启动 菜单 供 用户 选择 。 如果 你 在 多重 启动 菜单中选择 由 “ MSDOS ” 或 “ MicrosoftWindows ” 指 WIN 启动 的话 ， 则 会 载入 BOOTSECTDOS 文件 ， 并 将 控制权 交给 BOOTSECTDOS 。 若 当初 安装 NT 时 选择 FAT ， 则 到 此 进入 单一 的 DOS 环境 或 Windows 环境 ； 若 安装 NT 时 选择 “ NTFS ” ， 即使 你 选择 了 由此 “ MSDOS ” 或 “ MicrosoftWindows ” 启动 也 不会 引导 MSDOS 或 Windows 。 如果 你 在 多重 菜单中选择 “ WindowsNTServer ” 启动 的话 ， 则 NTLDR 载入 NTDETECTCOM 并 运行 。 NTDETECTCOM 会 检查 你 的 硬件 配备 ， 并 将 此 数据 返回 给 NTLDR ， 然后 载入 并 启动 系统核心 ， 继而 运行 WinlogonEXE ， 屏幕 上 出现 “ 请 按 CtrlAltDel 键 登录 ” ， 请 输入 用户 名称 与 密码 ， 屏幕显示 “ 正在 登录 ” 的 画面 。 　 　 由 以上 分析 不难 发现 ， NTLDR 、 NTBOOTDDSYS 、 BOOTINI 、 BOOTSECTDOS 及 DETECTCOM 在 NT 的 启动 过程 中起 着 举足轻重 的 作用 ， 若 上述 文件 之一 受损 ， 都 将 导致系统 不能 自动 引导 。 我们 可以 在 安装 好 NT 后 ， 除了 作 “ 应急 修复 盘 ” 外 ， 还应 制作 “ 应急 引导盘 ” 。 　 　 制作 “ 应急 引导盘 ” 具体方法 如下 ： 　 　 第一步 ， 在 NT 平台 上 格式化 张 空白 软磁盘 ″ MB ； 　 　 第二步 ， 利用 “ WindowsNT 资源管理 器 ” ， 将 NTLDR 拷入 该 空白 磁盘 中 ； 　 　 第三步 ， 再 将 NTBOOTDDSYS 若 是 SCSI 控制卡 的话 、 BOOTINI 以及 BOOTSECTDOS 及 NTDETECTCOM 也 拷入 该 空白 磁盘 中 ， 并 将 该 磁盘 标记 为 “ WindowsNTServer 应急 引导 磁盘 ” 。 一旦 WindowsNT 服务器 中 的 这些 关键性 文件 遭受 到 破坏 ， 则 可 利用 此 “ 应急 引导 磁盘 ” 来 引导 WindowsNT 系统 ， 且 引导 成功 后 ， 还 可 重新 将 该 软盘 上 的 内容 再 复制 回 硬盘 上 ， 以便 下次 再启动 时 可 直接 用 硬盘 启动 。 　 　 该 方法 简单 易用 ， 安全可靠 ， 笔者 已用 此盘 “ 救活 ” 了 数台 WindowsNT 服务器 。 作者 单位 ： 新乡 河南师范大学 计算机系 收稿 日期 ： 上接 第页