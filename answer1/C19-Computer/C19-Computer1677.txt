软件 学报 JOURNALOFSOFTWARE 　 Vol 　 No 　 P 进化 式 信息 过滤 方法 研究 田范江 　 李丛蓉 　 王鼎兴 摘要 　 进化 式 信息 过滤 方法 从 多个 角度 描述 用户 的 信息 需求 通过 类似 自然选择 的 过程 达到 系统 整体 过滤 性能 的 优化 同时 还 从 面向对象 程序设计 语言 的 设计 思想 中 获得 启发 引入 了 继承 、 类树 的 概念 增加 了 过滤 系统 的 易用性 这种 方法 可以 缩短 训练 时间 ， 提高 过滤 质量 同时 减小 过滤 结果 与 训练 次序 的 相关性 关键词 　 信息 过滤 信息处理 中图法 分类号 　 TPEvolvingInformationFilteringMethodTIANFanjiang 　 LICongrong 　 WANGDingxingDepartmentofComputerScienceandTechnologyTsinghuaUniversityBeijing 　 Abstract 　 EvolvinginformationfilteringmethodpresentedinthispaperdescribesusersinformationneedsfrommultiaspectssimultaneouslyandimprovessystemfilteringperformancethroughaprocesslikenaturalselectionInspiredbyobjectorientedprogramminglanguagethismethodalsointroducesconceptssuchasinheritandclasstreewhichmakefilteringsystemseasytouseThismethodcanshortentrainingtimeimprovefilteringprecisionandreducetherelevancebetweenfilteringresultsandtrainingsequenceKeywords 　 Informationfilteringinformationprocessing 　 　 随着 因特网 上 信息量 的 迅速 增加 信息 过滤 informationfiltering 技术 正 得到 越来越 广泛 的 关注 信息 过滤 系统 根据 用户 的 信息 需求 对 动态 信息流 进行 过滤 仅 把 满足用户 需求 的 文档 传送 给 用户 可以 提高 获取信息 的 效率 对 信息 过滤 最 主要 的 需求 是 对 文档 与 用户 信息 需求 相关性 的 判断 要 准确 ， 同时 训练 时间 应 尽可能 短 在 SIFT ［ ］ 等 传统 信息 过滤 系统 中 用户 手工 输入 关键词 生成 信息 需求 定义 文件 profile 并 提供 相关 反馈 进行 优化 这些 系统 的 缺点 是 过滤 结果 与 起始 状态 及 训练 文档 次序 相关性 很大 Amalthaea 系统 ［ ］ 引入 自然选择 的 概念 用于 个人信息 过滤 取得 了 较 好 的 结果 但 训练 过程 太 长 而且 是 在 用户端 实现 无法 实现 离线 操作 也 无法 借鉴 其他 用户 的 浏览 经验 清华大学 计算机科学 与 技术 系 设计 的 信息 收集 和 服务 系统 THInfoBase 引入 了 自然选择 、 突变 、 杂交 、 移植 等 概念 在 服务器端 实现 了 进化 式 信息 过滤 该 系统 可 提供 针对 大量 用户 的 离线 个人信息 过滤 服务 实验 结果表明 该 系统 中 采用 的 进化 式 信息 过滤 方法 有效 地 缩短 了 训练 时间 ， 并 提高 了 准确度 进化 式 信息 过滤 　 进化 式 信息 过滤器 概述 　 　 传统 的 信息 过滤器 都 是 定义 profile 然后 通过 一定 的 学习 方法 进行 学习 本文 的 进化 式 信息 过滤器 引入 自然选择 的 概念 并 借鉴 了 面向对象 程序设计 中类 树及 继承 的 思想 　 　 简单 来说 就是 ， 首先 由 系统管理员 定义 类 的 框架 并 训练 出 基本 的 信息 需求 定义 文件 用户 通过 多种 方式 根据 系统 中 已有 的 信息 需求 定义 文件 ， 迅速 得到 一个 较 高质量 的 信息 需求 定义 文件 同时 引入 进化 式 信息 需求 定义 文件 EProfile 每个 EProfile 中 包含 多个 信息 需求 的 描述 它们 从 不同 角度 反映 用户 的 信息 需求 它们 之间 互相 竞争 又 互相合作 在 竞争 中 失败 的 个体 将 被 淘汰 优秀 的 个体 可以 繁殖 后代 这样 通过 多个 个体 的 竞争 和 合作 经过 一个 类似 于 生物界 中 自然选择 的 过程 使 系统 性能 达到 最优 　 进化 式 信息 过滤器 结构 简图 　 　 在 图 中 菱形 框 表示 数据 实体 方框 表示 行为 实体 Fig 　 Evolvinginformationfilterarchitecture 图 　 进化 式 信息 过滤器 结构 简图 　 概念 及 数据 实体 说明 进化 式 用户 信息 需求 定义 文件 EProfile 见表 TableEProfile 表 EProfileParentTNumBProfileNumBProfileCreditBProfileCredit 　 BProfilenCredit 　 　 在 传统 信息 过滤 系统 中 ， 用户 信息 需求 定义 文件 profile 大多 是 一个 包含 若干项 T 及其 权重 Tw 的 序列 其 形式 为 ｛ TWTWTnWn ｝ 本文 将 profile 扩展 为 EProfileevolvingprofile 为 清晰 起 见 传统 形式 的 profile 被称作 基本 profileBProfileEProfile 的 首部 是 属性 域 主要 包括 指向 其父 节点 的 Parent 指针 、 训练 次数 TNum 和 BProfile 个数 等 其后 是 多个 BProfile 及 该 BProfile 的 信任度 Credit 　 　 为了 便于管理 所有 由 站点 管理者 Webmaster 创建 的 EProfile 构成 一个 树形 结构 的 系统 EProfile 库 systemEprofilelib 而 所有 由 用户 创建 的 EProfile 则 保存 在 UserEProfileLib 中 倒置 列表 invertedlists 、 特征 项 词典 termdictionary 　 　 倒置 列表 包含 最能 反映 该 文档 特征 的 特征 项 及其 权重 集合 形式 与 BProfile 相同 为 降低 计算 量 及 存储空间 在 生成 倒置 列表 时 系统 并 不是 将 所有 出现 的 词 都 作为 特征 项 只有 在 EProfile 中 出现 的 项 才 可能 作为 特征 项 特征 项 词典 根据 SystemEProfileLib 和 UserEProfileLib 生成 作为 分析 文档 时 的 依据 文档 document 、 过滤 后 的 文档 集 filtereddocuments 　 　 文档 是 信息 过滤 系统 处理 的 基本 单位 一个 文档 就是 一个 具有 相对 独立 意义 的 自然语言 片断 过滤 后 的 文档 集是 所有 文档 按照 与 用户 信息 需求 相关 的 程度 排序 后 按照 相关 程度 阈值 截断 的 文档 集合 形式 为 ｛ DSDSDnSn ｝ 反馈 信息 feedbackinformation 　 　 用户 可以 对 过滤 后 文档 集中 的 文档 按照 与其 信息 需求 的 相关 程度 打分 分数 分为 个 级别 最低 为 最高 为 反馈 信息 形式 为 ｛ DSDiSiDmSm ｝ m ≤ n 　 行为 实体 作用 及 算法 说明 类树 建造 器 classtreebuilder 　 　 在 系统 初始化 时 WebMaster 使用 类树 建造 器 构建 作为 系统 基础 的 系统 EProfile 库 系统 EProfile 库 采用 树形 结构 最 顶层 是 包含 所有 文档 的 World 类 一篇 文档 可以 被 归入 一个 或 多个 类 不能 归入 任何 类 的 都 被 归入 “ 其他 others ” 类 　 　 类别 个数 、 层次结构 及 每个 类别 的 EProfile 使用 标注 过 类别 的 训练 文档 集合 进行 训练 每个 类别 的 EProfile 根据 被 标注 为 该类 别的 训练 文档 生成 生成 方法 是 设 类别 个数 为 m 类别 集合 Cset ｛ CCCm ｝ ； 训练 文档 数为 n 训练 文档 集合 Dset ｛ DDDn ｝ 其中 Di ｛ ViSiSiSim ｝ Vi 是 文档 Di 的 向量 表示 Sij 是 文档 Di 与 类 Cj 的 相关 程度 则 类 Cj 的 BProfilePj 可以 用下式 得到 　 　 上式 的 含义 是 ， 属于 类 Cj 的 文档 必须 与 分值 高于 ξ 的 文档 相似 而 与 分值 低于 ξ 的 文档 不 相似 在 经过 上述 处理 的 Profile 中 可能 包含 很多 项 截取 权重 最高 的 N 项 构成 最终 的 BProfile ， N 是 一个 系统 参数 取 ξ 的 不同 值 可以 得到 多个 不同 的 BProfile 它们 共同 构成 类 Cj 的 EProfile 用户 信息 定义 文件 生成器 userEprofilegenerator 　 　 系统 EProfile 库 建立 后 用户 可以 浏览 类 的 结构 及 各类 的 典型 文档 选择 与 自己 的 需求 最 接近 的 类 并 在 此类 EProfile 的 基础 上 生成 自己 的 EProfile 生成 的 方法 有 　 　 移植 transplant 记为 P → P 实际上 就是 完全 复制 一个 EProfile 　 　 杂交 crossbreeding 记为 P × PPP 根据 已有 的 两个 信息 需求 定义 文件 PP 生成 两个 新 的 信息 需求 定义 文件 PP 以 如下 方式 实现 ： 　 　 首先 得到 两个 交叉点 ： nrandsizeofP 　 　 nrandnsizeofP 然后 PP 从 PP 继承 　 　 嫁接 inoculation 记为 P 根据 已有 的 信息 需求 定义 文件 P 和 示例 文档 集合 Ds 生成 新 的 信息 需求 定义 文件 P 以 如下 方式 实现 ： 其中 nsizeofDs 训练 文档 集合 Ds ｛ DDDn ｝ Di ｛ ViSiSiSim ｝ Vi 是 文档 Di 的 向量 表示 Sij 是 文档 Di 与 类 Cj 的 相关 程度 　 　 通过 以上 种 操作 用户 在 注册 时 可以 很 方便 地 根据 系统 中 已有 的 类别 及 自己 提供 的 示例 文档 得到 自己 的 初始 EProfile 词典 管理器 dictionarymanager 　 　 词典 管理器 首先 根据 一个 计算机 术语 词表 生成 特征 项 词典 并 根据 系统 EProfile 库 和 用户 的 EProfile 不断 扩充 该 词典 另外 也 负责 同义词 、 词根 化等 预处理 工作 文档 分析器 documentparser 　 　 文档 分析器 负责 在 不 遗漏 关键 信息 的 同时 把 文档 转换成 便于 高效 处理 的 结构 文档 使用 向量 空间 模型表示 关键词 Tk 在 文档 i 中 的 权重 Wik 计算 如下 ： WikTik × logNnklogN ， 　 　 Tik 是 文档 i 中 关键词 Tk 的 出现 次数 ； logNnk 是 训练 文档 集合 中项 Tk 的 倒置 文档 频率 N 是 训练 文档 集合 中 文档 的 总数 nk 是 训练 文档 集合 中 包含 项 Tk 的 文档 数 比较 器 classifier 　 　 过滤 时 EProfile 中 的 每个 BProfile 都 与 文档 进行 比较 ， 并 得到 一个 相似 度 计算 相似 度 的 方法 是 余弦 相似 度 ［ ］ 设 BProfile 为 P ［ pppt ］ t 文档 向量 为 D ［ dddt ］ t 其中 t 是 词典 中 所有 的 特征 项 的 个数 向量 中 的 每个 单元 是 权重 它们 的 相似 度 可以 用 以下 公式 计算 　 　 所有 文档 向量 为 的 文档 全部 被 归入 “ 其他 ” 类中 不 需要 计算 相似 程度 　 　 设在 一个 EProfile 中共 有 n 个 BProfile 那么 对 任意 文档 d 将 得到 由 n 个 相似 度 组成 的 相似 度 向量 S ［ SSSn ］ T 同时 ， EProfile 中 n 个 BProfile 的 信任度 credit 也 构成 一个 信任度 向量 C ［ CCCn ］ T 文档 的 最终 相似 度 向量 S ′ CTS 对于 一批 文档 Dset ｛ DDDj ｝ 根据 相似 度 ， S 可以 得到 每个 BProfile 的 文档 排序 根据 最终 相似 度 ， S ′ 可以 得到 该 EProfile 的 文档 排序 用户界面 与 反馈 representationfeedback 　 　 过滤 后 的 文档 按照 最终 相似 度 排序 后 提供 给 用户 用户 首先 见到 的 是 系统 判断 与 用户 信息 需求 相似 度 最高 的 前 N 个 文档 N 值 可以 由 用户 指定 用户 可以 对 见到 的 文档 作出评价 评价 分为 级 进化 控制器 evolvingcontroller 　 　 隐式 学习策略 　 　 BProfile 采用 激励 reinforcement 算法 ［ ］ 进行 学习 ： 　 　 其中 Sij 是 第 i 个 BProfile 对 文档 dj 的 评分 Vj 是 文档 dj 的 向量 表示 ξ 是 我们 的 准确度 的 期望 τ 是 一个 被 精确 选择 的 步长 通过 上 式 每个 BProfile 在 每次 反馈 后 都 向 用户 的 实际 信息 需求 发生 一次 小 的 移动 从而 达到 提高 过滤 准确度 的 目的 　 　 当 同时 存在 多个 BProfile 时有 可能 出现 一个 BProfile 认为 相关度 很 高 的 文档 全部 不能 被 系统 选中 的 情况 在 Amalthaea 系统 中 这 意味着 该 过滤器 永远 无法 提高 其 分值 上面 的 方法 可以 称为 隐式 学习 所有 的 BProfile 有 同等 的 学习 机会 避免 了 这个 问题 　 　 奖惩 策略 　 　 所有 BProfile 的 信任度 被 初始化 为 nn 是 EProfile 中 BProfile 的 个数 这样 在 系统 初始 时 所有 的 BProfile 具有 相同 的 机会 在 进行 过滤 并 得到 反馈 信息 后 它们 的 信任度 被 更新 更新 的 基本 原则 是 ， 如果 非常 肯定 却 被 用户 否决 或 否决 却 被 用户 肯定 那么 信任度 降低 ； 如果 与 被 否决 的 一致 或 类似 或者 是 与 被 肯定 的 一致 或 类似 则 信任度 提高 公式 为 　 　 计算 过 所有 BProfile 更新 后 的 信任度 以后 将 所有 信任度 映射 到 ［ ， ］ 区间 ： 　 　 淘汰 策略 　 　 用户 提供 的 反馈 次数 达到 一定 值后 系统 通过 杂交 操作 进行 更新 方法 是 ： 首先 选择 信任度 credit 最高 的 两个 BProfile 作为 祖先 这 是因为 只有 表现 好 的 BProfile 才 有 繁殖 后代 的 资格 根据 杂交 操作 得到 两个 新 的 BProfile 后 寻找 两个 表现 不佳 的 BProfile 替代 它们 选择 的 依据 是 生命期 信任度 C ′ ： C ＇ C × τ FmaxFnN 　 ＜ τ ＜ 　 　 其中 C 是 信任度 ； Fmax 是从 当前 EProfile 的 各个 BProfile 中 得到 的 最 多 反馈 次数 ； Fn 是 该 profile 得到 的 反馈 次数 ； N 是 一次 提交 给 用户 的 文档 数即 一次 反馈 的 最小 单位 ； 是 系统 参数 引入 生命期 信任度 是 基于 以下 假设 ： 即 经过 多次 反馈 和 很少 几次 反馈 达到 相同 的 信任度 的 BProfile 质量 是 不同 的 越 “ 年轻 ” 的 越 有 前途 　 实验 结果 　 数据 集合 与 评价 指标 　 　 实验 使用 的 数据 集合 是 个 HTML 文档 用种 不同 的 信息 需求 代表 个 用户 对个 文档 进行 人工 标注 每个 文档 与 个 信息 需求 的 相关 程度 记 为 ｛ SSS ｝ 评价 准确度 的 指标 是 正规化 的 精度 和 查全率 normalizedprecisionandrecall ［ ］ 其中 N 表示 过滤 集合 中 的 文档 总数 REL 表示 相关 文档 的 总数 　 　 精度 值越 高 表明 选择 出 的 文档 与 用户 的 实际 信息 需求 越 相关 查全率 值越 高 表明 遗漏 的 有用 文档 越 少 理想 情况 是 两个 值 同时 取得 较 高值 　 　 学习 速度 用 系统 过滤 性能 稳定 地 达到 用户 满意 程度 时 的 文档 总数 来 衡量 学习 速度 没有 严格 的 定义 后文 将 通过 数据 和 图示 直观 地 说明 在 学习 速度 方面 的 性能 　 　 为了 研究 过滤 结果 与 训练 次序 之间 的 关系 现在 引入 变形 均 方差 指标 Diff 来 衡量 两次 过滤 结果 之间 的 差异 设 过滤 集合 为 Dset ｛ DmDmDmn ｝ 两次 对 该 过滤 集合 的 相关度 判断 分别 为 SmSmSmn 和 S ′ mS ′ mS ′ mn 则 Diff 为 　 　 Diff 值越 大 表明 过滤 结果 差异 越大 在 我们 的 实验 中则 表明 过滤器 过滤 效果 与 训练 次序 的 关系 越大 因此 Diff 越小越 好 　 对照 实验设计 　 　 实验 对种 过滤器 进行 比较 ： 　 　 进化 式 过滤器 每个 EProfile 有个 BProfile 每 获得 个 文档 的 反馈 信息 进行 一次 淘汰 每次 更新 两个 BProfile 　 　 自 学习 的 基本 过滤器 每个 EProfile 包含 个 BProfile 只 学习 不 淘汰 　 　 无 学习 的 基本 过滤器 每个 EProfile 中 包含 个 BProfile 不 学习 不 淘汰 　 　 为 测试 过滤 结果 与 训练 次序 的 关系 使用 随机 生成 的 两组 文档 次序 进行 对照 实验 　 实验 结果 学习 速度 与 过滤 质量 　 　 从图 和 图 可以 看出 进化 式 信息 过滤器 学习 快 过滤 质量 包括 精度 和 查全率 都 比 基本 过滤器 的 过滤 效果 要 好 在 实验 过程 中 我们 发现 在 部分 文档 和 个别 过滤器 中 进化 式 信息 过滤器 的 过滤 有 波动 这 是 由 淘汰 操作 所 引起 的 但 就 整体而言 进化 式 信息 过滤器 的 性能 是 很 优秀 的 即使 出现 波动 其 性能 也 比 另外 两种 方法 要 好 其 影响 仅仅 是 表现 在 不稳定性 上 当然 研究 更加 稳定 的 淘汰 策略 是 我们 进一步 的 工作 之一 Fig 　 Comparisonoftheprecisionoftherefilters 图 　 种 过滤器 过滤 精度 的 比较 Fig 　 Comparisonoftherecallofthreefilters 图 　 种 过滤器 查全率 的 比较 与 训练 次序 无关 性 　 　 图 显示 进化 式 过滤器 在 与 训练 次序 无关 性 方面 表现 较 好 而且 值得注意 的 是 ， 从 一 开始 其 表现 就 比 另外 两种 过滤器 要 好得多 因为 每个 EProfile 本身 就 包含 多个 BProfile 也就是说 每个 EProfile 本身 就 试图 从 多种 角度 来 对 文档 进行 判断 所以 表现 比较 出色 Fig 　 Comparisonofthreefiltersdiffvaluediffisthedifferencebetweenfilteringresultscausedbydifferenttrainingsequences 图 　 种 过滤器 diff 值 的 比较 diff 是 不同 训练 序列 导致 的 过滤 结果 之间 的 差异 结 　 论 　 　 本文 介绍 了 一种 进化 式 信息 过滤 方法 该 方法 在 分类 方案 生成 、 结果 合并 、 过滤器 训练 等 方面 都 作出 了 新 的 尝试 初步 的 实验 结果表明 该 方法 具有 过滤 准确 、 训练 时间 短 、 与 训练 次序 无关 的 优点 适合 于 高 准确度 的 定制 化 信息 服务 系统 本文 研究 得到 国家 高科技 项目 基金 Nozt 和 IBM 另 研究 中心 基金 资助 任务 田范江 年生 博士生 主要 研究 领域 为 WWW 应用 系统 信息 采集 信息检索 与 过滤 李丛蓉 年生 硕士生 主要 要 研究 领域 为 信息检索 和 过滤 王鼎兴 年生 教授 博士生 导师 主要 研究 领域 为 并行 分布 计算 系统 WWW 应用 系统 本文 通讯 系统 联系人 田范江 北京 清华大学 计算机科学 与 技术 系 作者 单位 ： 田范江 清华大学 计算机科学 与 技术 系 　 北京 　 李丛蓉 清华大学 计算机科学 与 技术 系 　 北京 　 王鼎兴 清华大学 计算机科学 与 技术 系 　 北京 　 参考文献 ， YanTYGarciaMolinaHSift — — atoolforwideareainformationdisseminationInUSENIXAssociationedProceedingsoftheUSENIXTechnicalConferenceBerkeleyCAUSENIXAssociation ～ ， MoukasAAmalthaeainformationdiscoveryandfilteringusingamultiagentevolvingecosystemAppliedArtificialIntelligence ～ ， SaltonGMcGillMJIntroductiontoModernInformationRetrievalNewYorkMcGrawHill ， NarendraKSThathacharMALLearningAutomatic — — AnIntroductionEnglewoodCliffsNJPrenticeHall 本文 收到 原稿 收到 修改稿