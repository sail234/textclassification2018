计算机 工程 ComputerEngineering 年 　 第卷 　 第期 　 VolNo 一种 基于 主动 网络 技术 的 曜 网络管理 模型 袁 　 俊 　 何 　 丹 　 杨 培根 　 　 摘 　 要 ： 介绍 了 TMN 的 基本概念 ， 从 技术 的 角度 探讨 了 TMN 的 体系结构 ， 并 指出 了 现行 TMN 的 不足之处 ． 最后 提出 了 一种 基于 主动 网络 技术 的 电信 网络管理 模型 － ATMN 　 　 关键词 ： 电信 管理网络 ； 网络管理 ； 主动 网络 ； 可编程 交换 结点 ATelecommunicationsNetworkManagementModelBasedonActiveNetworkTechniologyYuanJunHeDanYangPeigenStateKeyLaboratoryforNovelSoftwareTechnologyNanjingUniversityNanjingDepartmentofComputerScienceandTechnologyNanjingUniversityNanjing 　 　 Abstract 　 ThispaperintroducesthebasicconceptofTMNdiscussesthearchitectureofTMNintechnologicalperspectiveandpointsoutitslimitationsAtlastweproposeanewnetworkmanagementmodelofTMNbasedonactivenetworktechnologyATMN 　 　 Keywords 　 TelecommunicationsmanagementnetworkNetworkmanagementActivenetworkProgrammableswitch 　 　 网络管理 是 电信 行业 最 重要 也 是 最 复杂 的 课题 之一 。 电信 网络管理 的 功能 包括 运行 、 管理 、 维护 和 供给 功能 OAMP ， 这些 功能 是 提供 和 监控 网络 及其 传输 的 一些 业务 所 必需 的 。 ITUT 于 年代 中期 提出 了 电信 管理网络 TMN ， TelecommunicationsManagementNetwork 的 概念 及 相应 的 建议 M 。 　 　 根据 ITUTM 建议 ， TMN 的 基本概念 是 一种 有 组织 的 体系结构 ， 可以 使 不同 类型 的 管理系统 和 电信 设备 之间 以 一致 的 方式 交换 管理 信息 。 　 TMN 的 体系结构 　 　 ITUT 在 M 建议书 中 从 功能 、 物理 、 信息 方面 定义 了 TMN 的 体系结构 。 　 TMN 的 功能 结构 　 　 TMN 的 功能 体系结构 见图 引入 了 一组 标准 的 功能块 和 参考点 ， 从 逻辑 上 描述 TMN 内部 功能 分布 。 TMN 的 功能 模型 中 包括 网元 功能 NEF 、 协调 功能 MF 、 操作系统 功能 OSF 、 工作站 功能 WSF 、 Q 接口 适配 功能 QAF 和 数据通信 功能 DCF 。 OSF 主要 对 管理 信息 进行 处理 ， 支持 各种 管理 功能 的 实现 。 MF 起 协调 作用 ， 使 没有 共同 接口 的 OSF 与 NEF 、 QAF 能 正常 通信 。 NEF 直接 或 通过 MF 与 OSF 通信 ， 以便 受其 监控 ， 它 主要 提供 通信 和 支持 功能 。 QAF 能 将 那些 不 具备 标准 TMN 接口 的 网元 设备 接入 TMN 。 WSF 提供 TMN 与 用户 之间 的 交互 能力 。 为了 在 TMN 个 功能块 之间 交换 信息 ， TMN 的 功能 结构 还 提供 了 DCF ， 以 保证 各个 功能块 之间 管理 信息 的 正常 传送 。 图 　 TMN 功能 结构 　 　 TMN 定义 了 类 参考点 ： q 包括 q 与 qx 、 x 、 f 、 g 、 m ， 这些 参考点 是 互不 重叠 的 功能块 之间 的 信息 交换 场所 。 MF 与 NEF 、 QAF 、 MF 在 qx 参考点 交换 信息 。 OSF 与 NEF 、 QAF 、 MF 、 OSF 在 q 参考点 交换 信息 。 不同 的 TMN 实体 信息 交换 发生 在 x 参考点 。 m 参考点 位于 TMN 的 外部 ， 在 QAF 和 非 TMN 管理 实体 之间 ， 这样 就 可以 通过 TMN 环境 管理 非 TMN 的 NE 。 g 参考点 也 在 TMN 之外 ， 供 WSF 和 使用者 交换 信息 。 　 TMN 的 物理 结构 　 　 TMN 的 物理 结构图 中 引入 了 一组 物理 块 及 这些 物理 块间 的 接口 。 TMN 的 物理 结构 是 功能 结构 的 物理 实现 ； TMN 的 物理 块 是 与 它 相对 应 的 功能块 的 物理 实现 ； TMN 接口 是 功能 结构 中 参考点 的 物理 实现 。 OSOperationSystem 　 　 MDMediationDeviceDCNDataCommunicationNetwork 　 　 QAQAdaptorWSWorkStation 　 　 NENetworkElement 图 　 TMN 的 物理 结构 　 TMN 的 信息结构 　 　 TMN 的 信息结构 基于 面向对象 和 信息 建模 技术 ， 并 运用 OSI 系统管理 原则 对 网络 中 的 资源 进行 管理 。 网络 中 的 资源 被 抽象 为 管理 对象 ， GDMOGuidelineforDefinitionofManagedObjects 为 这些 对象 的 定义 提供 了 语法 规则 。 这些 管理 对象 在 系统 内 被 组织 成 一个 管理 信息库 MIBManagementInformationBase 。 TMN 信息结构 引入 了 OSI 系统管理 原则 中 管理者 代理 的 概念 ， 管理者 发送 管理 命令 给 代理 ， 代理 对 被 管理 的 资源 实行 管理 操作 。 　 TMN 存在 的 问题 　 　 TMN 框架 反映 了 现代 电信 网络管理 技术 的 最新 发展 。 然而 ， 通过 对 TMN 体系结构 的 分析 ， 我们 认为 TMN 还 存在 着 一些 问题 。 从 TMN 的 功能 结构 可以 看出 ， TMN 的 管理 功能 集中 于 OSF ， 而 TMN 的 信息结构 运用 了 OSI 的 管理 原则 ， 所以 实现 上 采用 了 以 中央 平台 为 中心 的 管理 ， 管理 应用 在 中央 平台 上 执行 ， 向 网元 设备 上 的 代理 发送 管理 命令 ， 接收 、 处理 由 代理 返回 的 管理 信息 。 这种 网络管理 模型 主要 有 以下 缺陷 ： 第一 ， OSI 系统管理 最初 在 年代 中期 提出 ， 当时 的 电信 网络 规模 小 ， 网元 设备 的 功能 和 管理 任务 都 比较简单 ， 且 管理 信息 较 少 ， 将 对 网元 设备 的 管理 功能 集中 于 中央 平台 完全 可以 适应 当时 电信 网络管理 的 需求 。 然而 ， 近年来 电信 网络 规模 扩大 ， 管理 任务 和 网元 复杂性 增加 ， 中央 平台 所 要 分析 、 处理 的 数据量 急剧 增长 ， 使得 中央 平台 难以 管理 大规模 的 电信 网络 。 因此 ， 以 平台 为 中心 的 管理模式 限制 了 网络管理 的 可伸缩性 。 第二 ， 代理 的 功能 过于 简单 。 代理 只是 根据 管理者 的 管理 命令 访问 MIB ， 然后 回送 管理 信息 。 在 网元 处理 能力 有限 的 情况 下 ， 这种 管理 模型 是 合理 的 。 然而 ， 如今 的 网元 处理 能力 越来越 强 ， 采用 管理者 代理 模型 导致 一些 网元 资源 如 CPU 、 内存 等 没有 得到 充分利用 。 第三 ， 管理 通路 太 长 ， 即 由 管理者 到 代理 的 连接 跨越 的 空间 太广 ， 通信 的 延时 太 长 ， 容易 造成 管理者 获得 的 网络 状态 信息 与 当前 网络 的 实际 状态 不 一致 。 如今 ， 网元 设备 功能 越来越 强 ， 完全 能 承担 一些 力所能及 的 管理工作 ， 例如 ： 可以 对 告警信息 进行 必要 的 过滤 处理 ， 级别 较 低 的 告警信息 由 网元 设备 自动 处理 ， 而 级别 较 高 的 告警信息 则 交给 网管 中心 的 网络管理员 处理 。 另外 ， 网元 的 软件体系结构 也 在 改变 ， 一些 原先 用 通过 代理 软件 完成 的 管理 功能 现在 则 通过 MIB 实现 ， 因而 网元 设备 有 更 多 的 闲置 资源 。 　 　 从 以上 的 讨论 可以 看出 ， OSI 的 系统管理 模型 中 的 管理者 和 代理 的 负载 严重 失衡 。 一方面 ， 中央 平台 处理 的 数据量 急剧 增长 ， 难以 管理 大规模 的 电信 网络 ； 而 另一方面 ， 网元 设备 的 资源 得不到 充分利用 。 因此 OSI 系统管理 模型 已经 难以 适应 现代 电信 网络管理 的 需求 。 　 一种 主动 网络管理 模型 ATMN 　 　 主动 网络 ActiveNetwork 技术 为 TMN 的 发展 提供 了 新 的 思路 。 主动 网络 是 一种 新型 的 网络体系结构 ， 它 的 主要 特征 是 它 的 主动性 。 主动性 主要 表现 在 两个 方面 ： 第一 ， 报文 可以 嵌入 程序代码 ， 可以 在 主动 结点 上 执行 ， 主动 结点 可以 改变 报文 的 报头 和 内容 ； 第二 ， 主动 网络 的 一些 中间 结点 如 交换机 、 路由器 等 可以 对 接收 到 的 报文 进行 特定 的 计算 ， 从而 改变 了 传统 网络 存储转发 的 计算 模式 ， 使得 中间 结点 至少 增加 了 计算 的 能力 。 利用 主动 网络 ， 用户 不但 可以 完成 传统 网络 的 数据 传送 功能 ， 而且 可以 传送 程序代码 以供 在 中间 结点 或 远程 主机 上 执行 。 这些 特点 使得 主动 网络 可以 加快 标准化 工作 的 步伐 ， 网络 的 互操作性 不 完全 是 象 IP 一样 统一 于 一种 报文格式 和 寻址 方式 ， 而是 可以 统一 于 一种 计算 模型 。 主动 网络 的 实现 一般 可 采用 可编程 交换 结点 ， 这种 方法 提供 了 一种 程序 报文 的 下载 、 处理 机制 。 主动 网络 技术 适合 应用 到 TMN 中 ， 潜在 的 好处 是 ： 第一 ， 传统 的 TMN 中 管理者 与 代理 经常 传送 大量 管理 信息 ， 若 采用 可编程 交换 结点 技术 传送 执行 代码 ， 在 网元 设备 上 处理 管理 信息 ， 可以 减少 网络 的 信息 流量 ； 第二 ， 管理程序 在 网元 设备 上 执行 ， 可以 利用 闲置 的 网元 资源 ， 同时 可以 缩短 管理 通路 ， 减少 延时 ， 使得 管理 进程 可以 在 网元 设备 上 获取 当前 的 信息 ， 实施 网管 操作 的 精确性 高 。 　 ATMN 　 　 图 给出 了 一个 利用 主动 网络 技术 的 TMN 模型 ATMNActiveTelecommunicationsManagementNetwork 。 该 模型 保留 了 OSI 管理 模型 中 的 代理 及 管理 信息库 ， 并 对 网元 设备 进行 扩充 ， 使 其 支持 主动 网络 技术 。 图 　 ATMN 网络管理 模型 　 　 该 模型 主要 由 部分 组成 ： 管理 应用 MA ： 将 TMN 功能 模型 的 OS 进行 分解 ， 每 一个 管理应用程序 完成 特定 的 网络管理 功能 ， 如 计费 管理 、 告警 等 。 这些 管理 应用 可以 被 动态 地 分发 到 远程网 元 的 ActiveServer ， 由 ActiveServer 启动 执行 该 管理 应用 。 Dispatcher ： 为了 使 远程网 元有 一定 的 管理 功能 ， 必须 将 管理 应用 分发 到 远程网 元 系统 。 Dispatcher 负责 将 管理 应用 及 管理 要求 组成 一个 主动 报文 并 发送给 完成 管理 任务 的 网元 设备 。 代码 下载 执行 协议 CDEP ： 对 现有 的 通信协议 进行 扩充 ， 使得 它 支持 主动 报文 ActivePacket 的 传送 。 主动 报文 中 封装 可 在 网元 设备 环境 中 执行 的 管理程序 目标 代码 。 ActiveServer ： 为了 处理 主动 报文 ， 网元 设备 要 支持 主动 网络 技术 。 ATMN 中 的 网元 设备 是 一个 可编程 交换 结点 ， ActiveServer 可以 由 网元 设备 生产 厂商 、 网络 运营 部门 采用 高级 程序设计 语言 ， 如 C 、 Java 等 实现 。 ActiveServer 提供 了 一种 程序代码 的 下载 和 执行 机制 ， 作用 是 负责 接收 主动 报文 ， 然后 根据 报文 中 的 管理 要求 在 网元 设备 上 执行 管理 程序代码 。 代理 ： 与 OSI 系统管理 模型 中 的 代理 作用 相同 ， 通过 访问 MIB 来 执行 具体 的 网络管理 任务 。 　 　 ATMN 与 TMN 相比 ， 主要 有 以下 几个 优点 ： 第一 ， 管理 的 主动性 。 传统 的 TMN 采用 OSI 管理者 代理 的 管理 模型 ， 管理者 需要 执行 大量 的 数据处理 、 分析 工作 ， 而 网元 设备 只是 根据 管理者 的 要求 ， 简单 地 执行 网管 操作 将 管理 信息 回 送给 管理者 。 ATMN 通过 CDEP 传输 管理 应用 ， 由 网元 设备 的 ActiveServer 启动 运行 ， 数据 在 网元 上 进行 分析 处理 ， 充分利用 了 网元 的 资源 。 第二 ， 管理 的 灵活性 好 。 网络管理员 可以 根据 管理 的 需求 开发 管理程序 ， 增加 管理 功能 。 而 传统 的 管理 功能 的 增加 、 修改 要 受 OS 具体 实现 的 限制 。 因而 ATMN 很 适合 于 动态性 很强 的 业务管理 的 开发 。 第三 ， 管理 应用 在 网元 上 获取 当前 的 管理 信息 实施 网络管理 ， 在 网元 上 处理 管理 信息 ， 管理 更加 精确 ， 同时 节约 了 网络带宽 。 例如 ， 对于 计费 管理 ， 完全 可以 在 网元 上 进行 计费数据 的 分拣 和 分类 ， 而无须 将 数据 传送 到 中央 平台 集中处理 。 对于 告警 管理 ， 则 可以 由 网元 上 的 管理 应用 自动 处理 一些 告警 ， 而 将 告警 级别 较 高 或 需要 网络管理员 介入 的 告警信息 返回 给 网管 中心 。 　 实例 　 　 作者 根据 ATMN 模型 ， 在 某 通信 公司 的 交换机 上 实现 了 计费 管理 应用 。 该 公司 的 计费 管理 采用 集中式 管理 方式 ， 网络管理 及 监控 中心 的 集中 计费 台 启动 自动 拷贝 命令 从 指定 局 的 交换机 中将 计费数据 拷贝到 集中 计费 台上 ， 并 进行 验证 存盘 。 由于 计费数据 信息量 大 ， 将 各 本地 局 的 计费数据 拷贝到 监控 中心 会 占用 大量 的 网络带宽 ， 定时 时 长 设置 不当 会 影响 告警 及 话务 数据 的 传送 。 从 应用 的 角度 考虑 ， 没有 必要 将 本地 局 的 计费数据 信息 传送 到 监控 中心 ， 因为 用户 的 计费数据 完全 可以 在 用户 所在 局 的 交换机 上 直接 处理 ， 并 由 用户 所在 局 的 脱机 计费 系统对 数据 进行 处理 。 因而 ， 利用 ATMN 网管 模型 传送 计费 管理程序 ， 在 用户 所在 局 进行 计费 管理 是 合理 的 。 　 　 对 计费 管理 的 具体 实现 如下 ： 在 交换机 的 实时操作系统 IMX 平台 上用 C语言 实现 了 一个 处理 计费数据 的 计费 管理程序 ， 该 程序 的 主要 功能 是 对 计费数据 进行 分拣 、 分类 和 结算 。 在 交换机 的 IMX 平台 上用 C语言 实现 了 一个 简单 的 ActiveServer ， 它 是 一个 后台 驻留 程序 ， 监听 TCP 端口 。 同时 在 网管 平台 用 VisualC 提供 的 Socket 编程 接口 实现 了 Dispatcher ， 它 的 主要 任务 是 根据 网络管理员 的 要求 ， 将 可 在 交换机 上 执行 的 网络管理 程序 目标 代码 传送 给 ActiveServer 。 ActiveServer 接收 到 管理程序 后 ， 在 IMX 平台 上 启动 执行 该 程序 。 　 相关 的 工作 　 　 本文 提出 了 一个 利用 主动 网络 技术 对 电信 网络 进行 管理 的 模型 ATMN ， 目前 我们 的 实现 与 理想 中 的 模型 还有 一定 的 差距 。 实现 中 的 不足之处 主要 表现 在 ： 第一 ， 主动 报文 传送 机制 有待于 进一步 完善 。 程序代码 通过 TCPIP 协议 被 当作 传统 的 报文 进行 传输 。 我们 根据 计费 管理 的 实际 要求 ， 约定 将 封装 程序代码 的 报文 交给 特定 的 进程 处理 ， 模拟 实现 主动 网络 中 传送 主动 报文 的 过程 。 第二 ， 对 计费 管理 应用 的 实现 对 不同 平台 间 传送 程序 的 情况 进行 了 简化 ， 实际 传送 的 是 在 交换机 上 能够 执行 的 目标 代码 。 对 这 两个 问题 ， 目前 国际 上 的 一些 研究 ， 如 ANTSActiveNetworkTransportSystem 研究 的 是 一般 的 主动 网络 传输 机制 、 MBDManagementByDelegation 研究 的 是 采用 代理 的 管理 模型 等 ， 这些 研究 的 成果 和 经验 都 值得 借鉴 。 我们 将 进一步 研究 和 完善 ATMN 。 　 结束语 　 　 电信 管理网络 TMN 的 研究 涉及 到 面向对象 、 分布式计算 、 计算机网络 等 很多 技术 ， 是 一个 比较 活跃 的 研究 领域 。 很多 的 研究 机构 ， 如 ITUT 、 OMG 、 NMFNetworkManagementForum 都 为 TMN 的 研究 和 发展 做 了 大量 工作 。 我们 认为 主动 网络 技术 在 TMN 的 应用 是 有 一定 创新 意义 的 ， 由于 现代 电信 网络 的 高度 复杂 、 异构 性 ， 标准化 周期长 ， TMN 的 研究 和 实践 中 引入 主动 网络 技术 将 是 一项 极具 挑战性 的 工作 。 作者简介 ： 袁 　 俊 ～ ， 男 ， 研究生 ， 研究 方向 为 计算机网络 作者 单位 ： 南京大学 计算机软件 新 技术 国家 重点 实验室 ， 南京 　 　 南京大学 计算机科学 与 技术 系 ， 南京 　 参考文献 GlithoRHHayesSTelecommunicationsManagementNetworkVisionvsRealityIEEECommunicationsMagazineSidorDJManagingTelecommunicationsNetworksUsingTMNInterfaceStandardsIEEECommunicationsMagazineITUTRecommendationMPrinciplesforaTelecommunicationsManagementNetwork 收稿 日期 ：