信息 与 控制 INFORMATIONANDCONTROL 年 第卷 第期 VolNo 化工 批处理 过程 调度 综述 李慧芳 　 李人厚 　 陈浩勋 　 　 摘要 　 综述 了 化工 批处理 过程 调度 问题 的 特点 、 难点 及 一般 框架 ， 总结 了 近年来 该 领域 取得 的 进展 和 存在 的 问题 ， 并 指明 了 将来 的 发展 方向 ． 　 　 关键词 　 化工 批处理 过程 ， 多 产品 过程 ， 多 目的 过程 ， 调度 ， 集成 THESURVEYOFSCHEDULINGOFBATCHCHEMICALPROCESSLIHuifang 　 LIRenhou 　 CHENHaoxunInstituteofSystemEngineeringXianJaotongUniversityXianPRC 　 　 Abstract 　 Thispaperdescribesthecharacteristicsdifficultiesandgeneralframeworkofschedulingprobleminbatchchemicalprocessthensummarizestheprogressmadeandexistingproblemsinthisareaduringthelastfewyearsandfinauypointsoutthedevelopmentgtrendsinthefuture 　 　 Keywords 　 batchchemicalprocessmultiproductplantsmultipurposeplantsschedulingintegration 　 　 　 引言 　 　 在 化学 处理 工业 ChemicalProcessingIndustry ， 简称 CPI 中 ， 生产 调度 是 研究 确定 产品 在 过程 中 每 一 设备 上 被 加工 的 次序 ， 以 优化 某些 经济 的 或 系统 的 性能指标 ． 调度 问题 是 由于 不同 产品 对 共享 和 有限 资源 如 原材料 、 处理 设备 的 竟争 产生 的 ． 调度 的 目标 是 寻找 一种 方法 去 分配 这些 公用 资源 ， 以 使 生产 约束 得到 满足 ， 生产 代价 最小 ． 关于 离散 制造 操作 的 调度 理论 已经 很 好 地 建立 了 ． 而批 化工 过程 的 调度 未能 得到 较 好 的 发展 ， 多半 因为 所 涉及 操作 的 额外 复杂性 及 被 处理 物料 的 连续 性质 ． 　 　 连续 过程 适合 于 大批量 的 生产 ， 而 批处理 适合 于 生产 小批量 、 多 品种 且 产出 价值 较 高 的 产品 ． 批 化工 过程 同时 涉及 批 操作 及半 连续 操作 ． 近来 有人 对 批处理 使用 的 调查 表明 ， 批处理 中 ， 仅 有 的 处理 可能 被 连续 处理 代替 ， 由此可见 批处理 的 重要性 及 持久 permanence 性 ． 批处理 更 显著 的 优点 就是 它 固有 的 灵活性 ， 即 通过 对 处理 设备 及 不同 生产 资源 的 共享 ， 在 同一 过程 中 生产 多种产品 ， 而且 更 适合 处理 复杂 的 合成 过程 ． 　 　 过去 ， 批处理 过程 主要 是 依靠 操作者 的 技巧 及 经验 来 指导 生产 ． 结果 ， 计划 时间 长 ， 又 不能 得到 更好 的 经济效益 ； 同时 考虑 到 批处理 的 特点 ， 受 CIM 计算机 集成 制造 思想 的 激发 ， 有人 倡导 研究 批处理 过程 调度 ， 实现 生产 的 自动化 ． 这方面 ， 国际 上 已有 了 一定 的 研究成果 ～ ， 而 国内 的 化工 过程 大多 采用 连续 或 半 间歇 生产 模式 ， 工艺流程 基本 不变 ， 其 生产 调度 的 研究 主要 集中 于 流程 工业 ， 而 批处理 过程 调度 的 研究 才 刚刚开始 ． 在 市场经济 的 激烈 竞争 下 ， 批处理 生产 模式 为 企业 快速 适应 变化 的 市场 提供 了 选择 ， 为此 开展 批处理 调度 的 研究 ， 无疑 具有 相当 的 社会 及 经济 意义 ． 　 　 批 化工 过程 可 被 分为 两类 ： 多 产品 multiproduct 过程 及 多 目的 multipurpose 过程 ． 在 多 产品 过程 中 ， 所有 的 产品 必须 遵循 同样 的 加工 路径 ． 在 多 目的 过程 中 ， 产品 可能 经过 过程 中 的 不同 路径 ， 且 对 不同 的 产品 具有 不同 的 加工 路径 ． 批处理 的 一个 重要 特点 就是 ， 它们 的 总体 生产率 及 经济效益 严格 地 依赖于 过程 的 生产 调度 ． 由于 多 产品 之间 ， 存在 时间 及 资源共享 ， 为 达到 总体 最优 的 生产 目标 ， 必须 协调 原材料 及 化学 中间 在 制品 因素 的 影响 ； 资源 限制 ， 如 劳动力 、 存储 能力 ， 及 最大 可用 公共资源 如水 、 电 、 煤气 、 冷却水 等 ； 合适 的 生产 周期 及 批量 大小 ， 设备 维护 及 故障 时间 ， 长期 需求预测 等 问题 ． 显然 ， 这些 因素 必须 与 调度 函数 协调 或 配合 ， 以 达到 整体 最优 过程 的 生产 计划 ． 　 　 本文 将 首先 总结 化工 批处理 过程 调度 研究 的 主要 难点 ， 然后 对 当前 批 化工 过程 调度 的 主要 方法 ， 进行 评价 、 分析 ， 从此 阐述 化工 批处理 调度 研究 的 新 方向 ． 　 　 　 化工 批处理 过程 调度 研究 的 主要 难点 　 　 化工 批处理 过程 不同于 离散 制造 系统 的 一个 重要 特点 ， 就是 它 除了 同时 涉及 离散 与 连续 操作 外 ， 还有 许多 内在 的 限制 和 约束 ， 如 ： 　 　 涉及 多种 生产 资源 与 辅助 资源 ； 与 生产 顺序 有关 的 准备 时间 ， 包括 设备 的 清洗 与 更换 时间 ， 如 必须 清理 反应器 中 的 残留物 、 清洗 甚或 更换 过滤器 等 ； 批量 产品 的 非 零 传输 时间 ， 即 产品 在 处理 中 从 一台 设备 进入 另一台 设备 所 需要 的 时间 ； 不同 的 中间 存储 策略 或 混合 的 中间 存储 策略 ； 中间 产品 的 不稳定性 ； 批量 与 加工 路径 可变 ． 　 　 从而 使 化工 批处理 过程 调度 的 研究 存在 以下 几个 难点 　 　 　 建模 复杂 　 　 首先 ， 批 化工 过程 涉及 多种 生产 资源 ， 如 原料 、 公共资源 、 中间 存储 、 人力 及 辅助 设备 ； 其次 ， 具有 不同 的 中间 存储 策略 ； 第三 ， 依赖于 产品 生产 次序 的 设备 准备 和 更换 ； 第四 ， 物料 从 一种 操作 到 另 一种 操作 的 转移 transfer ， 必须 在 时间 与 数量 上 协调 ； 还应 考虑 批量 与 路径 的 柔性 ． 这些 应 在 过程 模型 中 充分体现 ． 　 　 　 计算 复杂 　 　 调度 问题 的 求解 受 诸多 因素 的 影响 ， 如 处理 网络 的 结构 ， 有无 中间 存储 ， 用于 评价 调度 的 性能 判据 等 ． 当 全面 建模 后 ， 问题 的 规模 也 急剧 增大 ． 由于 调度 问题 大都 是 NPhard 的 组合 优化 问题 ， 求解 时间 随 问题 规模 呈 指数 增长 ． 为此 ， 如何 在 模型 全面 化 与 有效 求解 之间 权衡 ， 是 批 化工 过程 调度 急需解决 的 问题 ． 　 　 　 动态性 　 　 在 批 化工 过程 中 ， 许多 研究 是 在 有限 的 假设 下 进行 的 ． 如 忽略 批量 传输 与 设备 调整 时间 ， 假设 整个 过程 只有 一种 中间 存储 interstagestorage 等 ， 并且 在 短期 调度 中 ， 总是 假设 所有 被 调度 的 产品 在 一 开始 是 已知 的 ． 然而 ， 从 CPI 的 出发点 应 考虑 ： 当 现在 的 调度 正在 运作 时 ， 一个 或 更 多 的 产品 可能 要 加入 生产 ， 因而 对 调度 提出 了 动态 的 要求 ． 　 　 　 化工 批处理 过程 调度 　 　 　 生产 计划 的 层次结构 　 　 Reklatics 认为 整体 生产 计划 问题 有 两种 研究 方法 ， 单层次 和 多层次 方法 ． 在 单层次 方法 中 ， 同时 考虑 总体 生产 计划 及 详细 的 调度 ． 将 计划 时间 范围 分为 有限 数目 的 时间段 ， 对 每 一 时间段 指定 产品 的 确定性 及 随机 需求 ． 分析 的 目标 是 确定 要 生产 的 产品 数目 批量 ， 资源 要求 ， 库存 水平 ， 产品 到 设备 的 分配 ， 各 时间段 内 产品 的 生产 次序 ， 以 使 生产 、 库存 、 资源 及 延误 用户 定单 的 费用 最小 ． 其 研究 方法 一般 采用 混合 整数 线性规划 MILP 方法 ． 　 　 在 多层次 方法 中 ， 问题 被 分为 高层 长期 或 中期 计划 子 问题 和 一 低层 短期 排序 调度 子 问题 ． 高层 计划 子 问题 实际上 相当于 单层次 方法 中 的 多 时间段 线性规划 问题 ， 而 低层 子 问题 则 要 确定 产品 在 每台 设备 上 处理 的 次序 及其 详细 的 时间表 以 满足 产品 的 交货期 或 使 某个 性能指标 最优 ． 关于 短期 与 中期 调度 之间 的 区别 并 不是 很 明显 的 ． 本文 将 着重 讨论 短期 排序 调度 子 问题 ， 简称 调度 问题 ． 　 　 　 化工 批处理 过程 调度 问题 的 一般 框架 　 　 一般 生产 调度 问题 定义 为 ： 对 生产 过程 中 的 每 一台 设备 ， 必须 确定 在 每 一 时刻 应 处理 哪个 产品 ， 以 优化 某个 合适 的 指标 ． 对 化工 批处理 过程 ， 归纳起来 ， 有 以下 个 方面 　 　 生产 需求 ： 是 指 过程 生产 应 满足 的 具体 要求 ． 一般 有 两种 情况 ． 当 过程 生产 是 为 满足 某种 固定 的 需求 时 ， 应 采用 循环 调度 即 “ closedshop ” ， 这时 用户 定单 可以 从 完成 产品 的 库存 中 得到 满足 ． 如果 生产 需求 是 变化 的 ， 则 应 采用 非 循环 调度 即 “ openshop ” ． 此时 生产 是 直接 面对 用户 ， 要求 针对 用户 的 每项 定单 来 生产 相应 批量 的 产品 ． 　 　 批量 限制 ： 在 多 产品 处理过程 中 ， 产品 的 批量 大小 batchsize 与 生产 产品 的 设备 容量 密切相关 ， 产品 的 最大 批量 等于 顺序 处理 它 的 设备 的 最小 容量 ． 在 许多 研究 中 都 假定 产品 的 批量 是 固定 不变 的 ， 实际上 ， 批量 可变 是 化工 批处理 过程 的 重要 特点 ， 也 是 使 问题 变得复杂 的 主要 原因 之一 ． 　 　 过程 结构 ： 处理 网络 的 结构 直接 影响 调度 问题 的 求解 ， 一般来说 可以 分为 四类 ： ① 单台 设备 过程 ， ② 并行 设备 过程 ， ③ 串行 设备 过程 如 flowshop ④ 一般 的 串 并 系统 ． 如下 图 ～ 所示 图 　 单台 设备 过程 图 　 并行 设备 过程 图 　 串行 设备 过程 图 　 一般 过程 　 　 　 每步 并行 设备 ， 又 可 根据 设备 之间 的 相互 关系 分为 三类 ， 即 相同 设备 ， 相似 设备 每一 设备 具有 与 产品 无关 的 处理 速率 和 无关 设备 每一 设备 对 不同 的 产品 有 不同 的 处理 速率 ． 由于 化工 批处理 常 需要 多种 操作 ， 因而 串 并 系统 是 CPI 中 最为 常见 的 ． 　 　 中间 存储 ： 在 多 处理 级 的 批 化工 过程 中 ， 根据 中间 产品 的 化学性质 稳定 与否 ， 常需 一定 数目 的 存储设备 用来 暂存 处理 级 之间 的 批量 产品 ． 常见 的 有 以下 几种 存储 模式 ． 　 　 ① 无限 中间 存储 UnlimitedIntermediateStorage 即 UIS ； ② 有限 中间 存储 FiniteIntermediateStorage 即 FIS ； ③ 没有 中间 存储 NoIntermediateStorage 即 NIS ； ④ 零 等待 ZeroWait 即 ZW ； ⑤ 有限 等待 FiniteWait 即 FW ． 　 　 这里 的 存储 能力 是 以 存储设备 的 数目 ， 而 不是 以 存储 的 物理 尺寸 来 衡量 的 ． 在 NIS 、 ZW 与 FW 模式 中 ， 各 处理 级 之间 无 存储 ． 在 UIS 、 FIS 、 NIS 或 FW 模式 中 ， 一批 产品 在 一台 设备 上 处理 完成 后 ， 可以 暂存 于 该 设备 中 ， 而 在 ZW 模式 中 ， 它 必须 立即 传送 至 后续 处理 设备 中 ． 当 中间 产品 不 稳定 时 ， 应 采用 ZW 存储 策略 ． 因此 能 最好 地 描述 批 化工 过程 的 存储 策略 ， 应该 是 以上 几种 策略 的 组合 ， 即 混合 的 中间 产品 存储 策略 MixedIntermediateStorage 即 MIS ． 　 　 调度 目标 ： 一般 包括 两类 ， 一类 是 基于 经济指标 ， 另一类 是 基于 性能指标 的 ． 在 多层 调度 结构 中 ， 高层 的 生产 计划 完成 原料 的 分配 ， 常用 基于 经济 的 目标 函数 ； 低层 的 调度 完成 任务 的 排序 与 调度 ， 常用 基于 性能 的 调度 目标 ． 　 　 基于 经济 的 调度 目标 主要 有 ： 　 　 ① 总体 生产 费用 最小 ， 包括 可变 生产 费用 ， 库存 保持 费用 及 产品 更换费用 等 ； ② 由 一种 产品 到 另 一种 产品 的 切换 引起 的 更换 与 准备 费用 最小 ； ③ 生产 利润 最大 ， 生产 利润 等于 产品 总价值 减去 总体 生产 费用 ． 　 　 基于 性能 的 调度 目标 主要 有 ： 　 　 ① 生产 所有 产品 所 需要 的 总 时间 即 makespan 为 最小 ， 它 可 使 过程 的 资源 利用率 与 生产率 最大 ； ② 所有 产品 的 平均 流 时间 flowtime 即 产品 完全 通过 生产 过程 所 需要 的 时间 最小 ； ③ 平均 延迟时间 tardiness 最小 ， 延迟时间 等于 产品 的 生产 完成 时间 与 交货期 之差 ， 只取 正值 ； ④ 最大 延迟时间 最小 ． 　 　 总的来说 ， 化工 批处理 过程 调度 问题 大致 有 两类 ： 一类 是 批量 固定 的 排序 调度 问题 ， 另一类 是 批量 可变 的 调度 问题 ． 　 　 　 当前 化工 批处理 过程 调度 的 主要 研究 方法 　 　 如果 产品 批量 固定 ， 则 调度 问题 可 视为 两个 子 问题 组成 ， 即 排序 和 时间表 ． 排序 用于 确定 产品 被 加工 的 次序 ； 而 给定 顺序 的 生产 时间表 ， 用于 确定 每个 产品 在 所有 设备 上 处理 的 开始 与 完成 时间 ． 如果 批量 可变 ， 则 不仅 要 确定 排序 与 时间表 ， 而且 要 确定 产品 的 批量 ． 　 　 调度 问题 是 一个 有 约束 的 组合 优化 问题 ， 常 具有 NP 完全性 ， 且 没有 一个 有效 的 调度 算法 用于 求解 一般 目标 函数 的 调度 问题 ． 只 在 很 特殊 的 的 情况 下 存在 求得 最优 解 的 有效 方法 ， 如 ： 两级 、 串行 的 UIS 、 NIS 及 ZW 的 multiproduct 问题 ， 调度 目标 是 使 makespan 最小 ． 因此 在 研究 化工 批处理 过程 调度 时 ， 人们 除了 寻求 普遍 适用 于 一般 问题 的 算法 外 ， 还 常常 通过 对 不同 问题 作 适当 的 假设 ， 研究 适用 于 某种 特殊 情况 下 的 算法 ， 包括 精确 解 算法 与 近似 解 算法 ～ ． 　 　 　 多 产品 过程 调度 　 　 化工 批处理 过程 有 不同于 制造 系统 的 特点 ， 可 它们 仍然 很 相似 ， 特别 当 产品 的 批量 固定 时 ． 因此 ， 研究 一般 调度 问题 的 几类 常用 方法 如 最优化 方法 、 近似 启发 及 随机 优化 方法 都 已 在 化工 批处理 过程 中 得到 了 应用 ． 　 　 最优化 方法 包括 混合 整数 线性规划 MILP 及 分支 定界 BAB 方法 ， 它们 常常 是 结合 使用 的 ． 如 Pekny 用 MILP 方法 分析 了 生产 费用 依赖于 产品 生产 次序 情况 ， 并 给出 了 一个 精确 的 并行 求解 算法 ； Pekny 用 BAB 方法 描述 了 一类 资源 受限 的 化工 批处理 过程 ， 并 将 问题 转化 为 资源 约束 的 旅行 商 问题 ； Rajagopalan 对 具有 混合 中间 存储 策略 、 非零 传输 时间 及 与 顺序 有关 的 setup 时间 的 串行 多 产品 批半 连续 过程 进行 了 研究 ， 给出 了 一系列 计算 完成 时间 的 循环 关系 ． 可是 ， 这些 方法 都 是 隐 枚举法 ， 因而 只 适用 于 较 小规模 的 问题 ． 　 　 近似 启发 方法 则 以 牺牲 解 的 最优性 而 争取 了 计算 时间 ． 这 类 算法 大多 是 基于 启发 推理 且 具有 多项式 计算 时间 ， 一般 可 分为 两类 ： 一种 是 借助 启发 推理 产生 一好 的 顺序 集 ， 然后 再 从中 选出 最好 的 顺序 ； 另 一种 是 以 一 试验 顺序 开始 ， 然后 循环 地 改善 它 直至 不能 再 改善 ． 其 共性 是 它们 均 应用 了 两 设备 的 UIS 及 NISZW 的 flowshop 问题 的 精确 结果 ． 在 应用 方面 ， 传统 的 CD 及 RAES 都 已 在 化工 批处理 过程 中 得到 了 应用 ． Muiser 研究 了 单级 并行 的 多 产品 过程 ， 给出 了 一 并行 的 启发 算法 ， 并 考虑 了 依赖于 生产 次序 的 清洗 时间 及 产品 到 设备 的 分配 约束 ． 近似 启发 方法 的 缺点 是 算法 的 最优 程度 不易 确定 ． 　 　 随机 优化 方法 ， 如 模拟退火 方法 用于 单 目标 多 变量 的 优化 问题 ， 它 是 基于 Montecarlo 方法 对 物理 系统 的 模拟 ． 模拟退火 方法 为 NP 完全 问题 提供 一 近似 解 ， 近来 已 被 用于 化工 批处理 过程 调度 ． Das 在 假设 排列 调度 的 情况 下用 模拟退火 方法 对 多 产品 过程 进行 了 研究 ， 借助 模拟退火 及 闲置 矩阵 搜索 IdleMatrixSearch 即 IMS 启发法 ， 考虑 了 UIS 、 NIS 、 ZW 、 FIS 及 MIS 五种 中间 存储 策略 ， 调度 目标 是 使 makespan 为 最小 ． 　 　 实际上 ， 以上 方法 在 应用 时 常常 是 结合 起来 的 ， 因为 许多 启发式 方法 是 基于 MILP 及 BAB 的 ． 在 基于 BAB 的 启发 方法 中 ， 对 下界 的 计算 采用 启发式 方法 ． 文用 启发 方法 作为 对 特定 问题 的 分支 规则 ． 　 　 　 多 目的 过程 调度 　 　 在 多 产品 过程 调度 中 ， 调度 主要 涉及 时间 的 分配 ， 而 无 处理 设备 的 选择 ． 在 多 目的 过程 中 ， 情况 却 很 复杂 ， 因为 产品 的 一项 操作 可以 在 多台 设备 上 进行 ， 并且 常 要求 产品 的 批量 可变 ． 在 确定 每 项 操作 的 开始 时间 的 同时 ， 还要 确定 操作 的 设备 及 产品 的 批量 ． 关于 多 目的 过程 调度 的 研究 主要 集中 于 短期 调度 ， 且 远远不如 多 产品 过程 深入 ． 研究 方法 大多 采用 MILP 及 BAB 方法 ． 　 　 Wellon 研究 了 单一 产品 生产线 问题 ， 这 是 多 目的 过程 调度 的 重要 子 问题 ． 文中 通过 对 生产线 操作 特性 的 分析 说明 了 设备 分组 排序 与 可变 路径 批量 是 生产线 调度 问题 的 重要 方面 ， 用 MINLP 求出 了 调度 的 最优 解集 ； 提出 了 主导 路径 集合 的 概念 及 寻找 主导 路径 集合 的 方法 ． Kondili 则 用 状态 － 任务 网络 statetasknetwork 即 STN ， 来 描述 一般 的 化工 批处理 过程 ． 用 MILP 方法 建立 了 多 目的 过程 调度 问题 的 一般 模型 ． STN 摆脱 了 “ recipenetwork ” 固有 的 不 清楚 性 ， 具有 更强 的 表达能力 ， 可 明确 地 表示 任意 复杂 的 处理 网络 ． 它 含有 两类 节点 ： 状态 节点 和 任务 节点 ， 其中 状态 节点 表示 原料 ， 中间 产品 及 最终 产品 ， 而 任务 节点 表示 处理 操作 ， 该 操作 将 一种 或 多种 输入 状态 转化 为 一种 或 多种 输出 状态 ． 文中 以 产品 在 设备 上 开始 处理 的 时间 ， 变化 的 产品 批量 及 产品 在 各 状态 的 的 存储 能力 为 决策 变量 ， 对 设备 处理 能力 ， 原料 或 中间 产品 的 平衡 ， 开始 或 生产 期间 原料 的 限制 ， 设备 故障 ， 辅助 资源 如 蒸汽 ， 电 ， 冷却水 等 和 或 人力 的 限制 ， 设备 清洗 时间 等 约束 进行 了 建模 ． 通过 引入 “ 存储 任务 ” 的 概念 ， 解决 了 存储设备 的 共享 及 产品 在 设备 上 暂存 的 问题 ； 通过 对 处理 任务 的 适当 分解 即 STN 的 巧妙 改变 ， 考虑 了 过程 结构 的 复杂 约束 ； 将 处理 时间 表示 为 批量 的 分段 函数 ， 解决 了 处理 时间 依赖于 产品 批量 的 情况 ． Shan 则 对文 提出 的 问题 框架 ， 给出 了 种 简化 的 计算技术 ． 　 　 在 有些 调度 问题 中 ， 要求 两 处理 级 之间 有 一定 的 时间 间隔 ． Hadson 研究 了 一个 食品 加工过程 ． 该 过程 涉及 准备 、 烹制 与 冷却 个 阶段 ， 要求 在 烹制 完成 到 开始 冷却 之间 的 等待时间 不能 超过 分钟 ． 问题 是 对 每天 要 加工 的 食品 进行 调度 ， 要求 所有 食品 的 加工 ， 必须 在 正常 工作 时间 内 完成 ． 文中 给定 食品 加工 的 优先级 ， 采用 时间 倒推 的 方法 ， 得到 了 较 好 的 可行 解 ． 　 　 在 应用程序 方面 ， Egli 开发 了 用于 多 产品 多 目的 批 过程 短期 调度 的 计算机程序 SRSBP 它 可 确定 一组 批量 产品 的 生产 次序 及 时间表 ， 满足 某些 特定 的 要求 ， 并 使 产品 库存 费用 、 转换 费用 及 公共资源 费用 最小 ． 该 程序 通过 对 一 特定 生产 路径 上 的 所有 可能 顺序 的 考察 来 寻求 最优 调度 ， 其实质 是 BAB 方法 ， 且 能 处理 种 产品 ， 台 设备 及 计划 时间 天 规模 的 问题 ． 　 　 　 化工 批处理 过程 设计 、 调度 交互 与 监控 的 集成 　 　 在 过程 设计阶段 考虑 调度 问题 　 　 在 化工 批处理 过程 中 ， 特别 是 多 产品 过程 中 ， 设计 与 调度 问题 往往 是 相互 关联 的 ． 在 设计阶段 预测 调度 的 影响 ， 将 与 调度 有关 的 约束 融入 最优 系统 的 设计 可 大大减少 过程 的 投资 费用 ， 提高 设备 利用率 ． Birewar 将 这 一 思想 用于 每一 处理 级 仅 有 一台 处理 设备 的 多 产品 过程 ， 在 UIS 与 ZW 策略 下 ， 为 使 生产 周期 最小 研究 了 有效 的 调度 模型 ， 并 将 代表 这些 调度 策略 的 简化 的 约束 并入 系统 设计 问题 ． 　 　 交互 调度 　 　 在 复杂 调度 问题 的 求解 中 ， 许多 算法 试图 研究 某些 特殊 的 问题 ， 因此 仅 适合 于 某些 特定 的 问题 结构 及 模型 假设 ． 由于 实际 生产 环境 是 动态 的 、 复杂 的 ， 具有 变化 的 结构 及 目标 ， 甚或 还有 调度 的 中断 ， 很难 断定 实际 的 生产 过程 符合 某一 算法 的 标准 形式 ． 因此 为 实际 应用 ， 每一 调度 软件 应 包括 下面 两个 附加 部分 　 　 a 它 应 包括 所有 现存 的 调度 算法 精确 与 近似算法 ； 　 　 b 它 应 灵活 且 允许 人 的 干预 ， 以 使 调度 容易 产生 并 可 重复 地 修改 ． 　 　 文 介绍 了 一种 交互 调度 系统 INTSPAK ， 特别 适用 于 多 产品 过程 ． 它 允许 用户 调度 一般 处理 设备 网络 ， 借助 启发式 或 最优 调度 算法 ， 交互 或 自动 运作 ． Dockx 研制 了 用于 CPI 交互 调度 的 SKYE 系统 ， 主要 适用 于 短期 调度 ． SKYE 集成 了 随机 技术 与 演绎 技术 ， 它 与 一 调度 工作 平台 TTPS 相连 ， 作为 图形 交互 工具 ， 进行 手工 或 半自动 调度 ． 　 　 调度 的 在线 调整 　 　 批 化工 过程 具有 一定 程度 的 可变性 variability ， 因而 在 实际 生产 中 各种 过程 参数 可能 发生变化 如 设备 处理 时间 变化 ， 公共资源 波动 ， 设备 故障 ， 产品 “ 配方 ” recipe 不 精确 及 原材料 质量 变化 ， 因此 用 离线 的 调度 去 指导 过程 生产 ， 必使 等待时间 、 在 制品 workinprocess 可能 增加 ， 设备 利用率 、 产品质量 及 批处理 性能 可能 降低 ． 为此 需要 根据 实际 情况 ， 对 调度 进行 在线 调整 与 监控 ． Cott 给出 了 一种 “ 预测 操作 修改 ” 的 算法 ， 从 当前 的 操作 去 估计 批处理 过程 的 将来 期望 操作 ， 向前 或 向 后 移动 被 调度 产品 的 开始 时间 ， 以 优化 生产 过程 ． Djavdan 则 用 中间 存储 策略 与 动态 仿真 模型 研究 了 一批 连续 处理 混合 过程 的 在线 调度 问题 ． Ishii 提出 了 一 在线 调度 与 控制系统 框架 ， 依据 调度 条件 的 变化 ， 定义 调度 修改 时间 与 空间 ， 利用 足够 的 外部 调度 算法 ， 动态 地 修改 现有 的 调度 ． Huercio 将 一 反应 调度 ReactiveSchedule 算法 融入 集成 的 批 生产 控制 中 ， 填补 了 高层 生产 调度 与 低层 顺序控制 之间 的 空缺 ， 借助 启发式 方法 考虑 了 任务 开始 时间 的 变化 与 设备 的 重 分配 ． 　 　 批处理 过程 的 集成 　 　 过去 ， 人们 将 批 化工 过程 的 设计 与 操作 的 处理 建立 在 分开 的 基础 上 研究 ， 无论 在 技术 或 软件 方面 ， 都 取得 了 很 好 的 成果 ． 但 由于 过程 设计者 与 指定 操作步骤 的 调度 者 具有 不同 的 知识 背景 ， 在 其 各自 的 领域 内 研究 时 ， 对 问题 所作 的 某些 假设 未必 能 充分 理解 另一方 的 许多 实际 约束 ， 因而 常 出现 设计 与 操作 模型 有 偏差 ， 设计 调度 时 ， 不仅 建模 费时 ， 而且 使 系统 在 实际 应用 时 易于 出错 ． 为此 应 研究 一种 通用 工具 ， 以 支持 批 化工 过程 的 整个 生命周期 ， 即 从 过程 、 设备 及批 控制代码 的 初步设计 ， 到 根据 最优 调度 的 在线 操作 ． Cott 研究 了 集成 批 化工 过程 计划 与 过程 控制 的 计算机系统 ， 借助 批 管理 来 协调 计划 级 与 控制 级 的 生产 活动 ， 通过 在线 、 重 调度 ， 实现 了 信息 从 控制 级 至 计划 级 的 反馈 ， 考虑 并 克服 了 批处理 固有 的 可变性 ． Crooks 将 现有 的 个 通用 软件包 批 过程 最优设计 与 调度 、 生产 管理 及 操作过程 合成 软件包 集成 在 一起 ， 形成 了 一个 初步 的 CIM 系统 ． 这种 方法 中 的 CAPS 计算机辅助 过程 合成 系统 被 用于 一 原子能 工厂 ． Brettle 还 开发 了 一集 仿真 、 控制 、 调度 于 一体 的 工具 ， 用于 聚乙烯 生产 的 操作员 培训 ． 　 　 　 实际 应用 　 　 由于 批 化工 过程 调度 的 研究 讨论 ， 大都 是 针对 于 特定 的 模型 假设 ， 因而 很难 应用 于 生产 实际 中 ． Crooks 将 一集 批处理 设计 、 调度 、 监控 于 一体 的 CAPS 系统 用于 一 原子能 工厂 ． Hodson 在 一 食品 加工过程 中 ， 利用 启发 方法 求出 了 较 好 的 可行 调度 ． Orcun 在 一 染料 生产 过程 中 ， 利用 数学 规划 求出 了 最优 调度 ， 并 考虑 了 设备 调整 与 批处理 时间 的 随机 变化 ． 　 　 　 讨论 与 将来 的 发展 　 　 通过 上 面对 化工 批处理 过程 特点 、 调度 问题 的 框架 及 求解 方法 的 分析 可以 看出 ， 当 全面 建模 后 ， 问题 变得 相当 复杂 ． 为此 ， 我们 认为 从 以下 几 方面 开展 研究 将 是 有 益处 的 ： 　 　 用 STN 对 一般 的 批 化工 处 过程 进行 建模 后 ， 调度 问题 可 表示 为 一 复杂 的 MILP 问题 ， 在 求解 方法 上 可 从 以下 几 方面 探索 ： a 针对 问题 的 复杂性 ， 研究 基于 启发式 人工智能 的 方法 ， 将 简化 问题 的 求解 ； b 拉氏 松驰 方法 作为 一种 近优 方法 ， 在 制造 系统 及 电力 系统调度 中 已 得到 了 应用 ， 而 用于 求解 批 化工 过程 调度 问题 ， 研究 才 刚刚开始 ， 有待 进一步 深入 ； c 遗传算法 及 模拟退火 方法 ， 是 研究 批 化工 过程 调度 的 新 方向 ， 如 将 它们 结合 使用 ， 取长补短 ， 不仅 可 得到 解 的 全局 最优性 ， 还 能 保证 收敛 速度 ； dLAZadeh 提出 的 智能 计算 软 计算 思想 ， 由 神经元网络 、 模糊 逻辑 、 遗传算法 、 概率 推理 、 混沌 等 理论 有机 组成 ， 其 指导思想 是 在 容忍 不 精确 及 不 确定 因素 的 影响 下 实现 可行 、 鲁棒 、 低成本 的 求解 方案 ． 该 思想 的 优势 ， 可 用于 解决 批 化工 过程 调度 的 计算 复杂性 及 动态性 等 难点 问题 ． 　 　 许多 调度 问题 的 研究 没有 考虑 调度 与 上层 即 生产 计划 之间 的 关系 ． 实际上 ， 调度 问题 受 生产 计划 的 影响 ， 而且 ， 整个 生产 过程 的 特点 ， 市场需求 及 资源 等 的 随机 波动 均会 影响 调度 的 有效性 ． 为此 ， 最优 的 调度 应 综合 考虑 整个 生产 环境 中 的 各种因素 ． 　 　 在 交互 调度 方面 ， 将 人工智能 、 调度 算法 与 仿真 技术相结合 ， 产生 交互式 调度 机制 ． 通过 开发 尽可能 多 的 调度 算法 ， 融合 人类 操作员 的 判断 决策 能力 ， 来 提高 求解 的 效率 ， 解决 调度 中 的 动态变化 和 实时 监控 问题 ． 研究 应 侧重于 ： a 提高 仿真 速度 ； b 设计 高效 的 人机接口 ． 　 　 化工 批处理 过程 中 ， 许多 调度 问题 是 在 静态 、 确定 的 假设 下 研究 的 ， 而 在 实际 生产 中 ， 来自 过程 外部 或 内部 的 随机 变化 是 时常 发生 的 ， 如 收到 了 新 定单 ； 特定 设备 故障 等 ． 这些 都 要求 实时 地 对 调度 进行 调整 和 监控 ， 以 使 由于 生产 环境 及 外部 需求 的 变化 引起 的 生产 损失 最小 ． 　 　 为了 实现 批 化工 过程 的 全 自动化 ， 需要 一种 集成化 的 方法 ， 以 指导 整个 批 化工 过程 的 生产 ， 即将 批处理 过程 的 设计 、 调度 与 监控 有机 地 结合 起来 ， 避免 孤立 研究 的 不足 ． 为此 ， 研究 基于 知识 与 面向对象 相结合 的 方法 将 是 很 有 意义 的 ． 　 　 任何 调度 问题 都 需要 相应 的 软件 支持 ， 而 一个 有效 的 调度 支持软件 应当 确切 描述 实际 的 调度 环境 ， 具有 良好 的 人机接口 ， 并 综合 过程 设计 、 生产 计划 、 调度 交互 与 实时 监控 等 许多 相关 的 功能 ． 研究 开发 有效 的 调度 支持软件 ， 是 调度 理论 应用 于 实践 的 重要环节 ． 作者简介 ： 李慧芳 ， 女 ， 岁 ， 博士生 ． 研究 领域 为 离散 事件 系统 理论 ， 化工 批处理 过程 调度 与 监控 ． 　 　 　 　 　 李人厚 ， 男 ， 岁 ， 教授 ， 博士生 导师 ． 研究 领域 为 智能 控制 理论 与 方法 ， 智能 制造 系统调度 ， 多媒体 与 CSCW 理论 与 应用 ． 　 　 　 　 　 陈浩勋 ， 男 ， 岁 ， 教授 ． 研究 领域 为 离散 事件 系统 理论 ， Petri 网 理论 与 应用 ， 生产 计划 与 调度 等 ． 作者 单位 ： 西安交通大学 系统工程 研究所 　 西安 　 　 　 　 结束语 　 　 在 化工 批处理 过程 中 ， 生产 调度 是 非常复杂 而 重要 的 问题 ． 在 这 一 领域 ， 研究 一般 算法 和 各种 特殊 情况 下 的 算法 ， 并 有 一定 成果 ． 进一步 的 研究 应 侧重于 次优 或 启发式 算法 ， 以 处理 多 产品 、 复杂 过程 及 具有 约束 的 大规模 问题 ． 为此 ， 将 传统 的 调度 方法 与 智能 方法 相结合 ， 充分发挥 智能 的 优势 ， 为 解决 调度 的 计算 复杂性 问题 ， 开辟 一条 新 的 途径 ． 对 过程 中 的 动态 、 随机因素 的 影响 ， 即 调度 的 在线 调整 、 监控 及 交互 调度 的 集成 到 算法 的 实际 应用 ， 研究 工作 尚 处于 起步 阶段 ． 在 这 一方面 ， 开发 交互 图形 ， 对 提高 调度 理论 至 实际 过程 的 应用性 具有 很大 的 潜力 ． 参考文献 　 　 BakerKRIntroductiontoSequencingSchedulingWileyNewYork 　 　 KuHMRajagopalanDKarimiISchedulinginBatchProcessChemEngngProgAugust ～ 　 　 徐用 懋 ． 流程 工业 的 CIMS ． 化工 自动化 及 仪表 ， ～ 　 　 扬家本 ． 连续 过程 CIMS 中 生产 计划 调度 系统 ． 化工 自动化 及 仪表 ， ～ 　 　 ReklaiticsGVReviewofSchedulingofProcessOperationsAICHESympSer ～ 　 　 WellonsMCReklaiticsGVOperationalSchedulingGenerationforaSingleproductLineIProblemFormulationComputersChemEngng ～ 　 　 WellonsMCReklaiticsGVOptimalSchedulingGenerationforaSingleproductLineIIIdentificationofDominantUniquePathSequencesComputersChemEngng ～ 　 　 KondiliEPantelidesCCSargentRWHAGeneralAlgorithmforShorttermSchedulingofBatchOperationsIMILPFormulationComputersChemEngng ～ 　 　 ShahNPantelidesCCSargentRWHAGeneralAlgorithmforShorttermSchedulingofBatchOperationsIIComputationalIssuesComputersChemEngng ～ 　 　 RechardSHMChemicalProcessStructureandInformationFlowsButterworthPublishersBostonUSA ～ 　 　 PeknyJFMillerDLMcraeGJAnExactParallelAlgorithmforSchedulingWhenProductionCostsDependonConsecutiveSystemStatesComputersChemEngng ～ 　 　 PeknyJFMillerDLKudvaGKAnExactAlgorithmforResourceConstrainedSequencingwithApplicationtoProductionSchedulingunderanAggregateDeadlineComputersChemEngng ～ 　 　 MuiserRFHEvansLBAnApproximateMethodfortheProductionSchedulingofIndustrialBatchProcesseswithParallelUnitsComputersChemEngng ～ 　 　 DasHCummingPTLevanMDSchedulingofSerialMultiproductBatchProcessViaSimulatedAnnealingComputersChemEngng ～ 　 　 WiedeWJrKuriyanKReklaiticsGVDeterminationofCompletionTimesforSerialMultiproductProcessesIATwoUnitFiniteIntermediateStorageSystemComputersChemEngng ～ 　 　 WiedeWJrReklaiticsGVDeterminationofCompletionTimesforSerialMultiproductProcessesIIAMultiunitFiniteIntermediateStorageSystemComputersChemEngng ～ 　 　 WiedeWJrReklaiticsGVDeterminationofCompletionTimesforSerialMultiproductProcessesIIIMixedIntermediateStorageSystemComputersChemEngng ～ 　 　 KuHMKarimiICompletionTimeAlgorithmforSerialMultiproductBatchProcessesWithSharedStorageComputersChemEngng ～ 　 　 CarlsonECFelderRMSimulationAndQueuingNetworkModelingofSingleproductProductionCampaignsComputersChemEngng ～ 　 　 HavlaNStrmacnikSCerneticJSchedulingofBatchDigestersAccordingtoDifferentControlTargetsandServingLimitationsComputersChemEngng ～ 　 　 RajagopalanDKarimiIACompletionTimesinSerialMixedstorageMultiproductProcesseswithTransferandSetupTimesComputersChemEngng ～ 　 　 EgliUMRippinDWTShorttermSchedulingforMultiproductBatchChemicalPlantsComputersChemEngng ～ 　 　 BirewarDBGrossmannIEIncorporatingSchedulingintheOptimalDesignofMultiproductBatchPlantsComputersChemEngng ～ 　 　 CottBJMacchiettoSMinimizingtheEffectsofBatchProcessVariabilityUsingOnlineScheduleModificationComputersChemEngng ～ 　 　 DjvadanPDesignofanOnlineSchedulingStrategyforaCombinedBatchContinuousPlantUsingSimulationComputrsChemEngng ～ 　 　 IshiiNMurakiMAGenericFrameworkforanOnlineSchedulingandControlSysteminBatchProcessManagementComputersChemEngng ～ 　 　 HuercioAEspunaAPuigjanerLIncorporatingOnlineSchedulingStrategiesinIntegratedBatchProductionControlComputersChemEngngSuppl ～ 　 　 CottBJMacchiettoSAnIntegratedApproachtoComputeraidedOperationofBatchChemicalPlantsComputersChemEngng ～ 　 　 CrooksCAKuriyanKMacchiettoSIntegrationofBatchPlantDesignAutomationandOperationSoftwareToolsComputersChemEngngSuppl ～ 　 　 CrooksCAEvansSFMacchiettoSAnApplicationofAutomatedOperatingProcedureSynthesisintheNuclearIndustryComputersChemEngngSuppl ～ 　 　 BrettelleDChuaESMacchiettoSSimulationandOnlineSchedulingofaPVCProcessforOperatorTrainingComputersChemEngngSuppl ～ 　 　 HodsonAMuhlemannAPPriceDHRAMicrocomputerBasedSolutiontoaPracticalSchedulingProblemJOplResSoc ～ 　 　 DockxKBoeckYDMeertKInteractiveSchedulingintheChemicalProcessIndustryComputersChemEngng ～ 　 　 OrcunSDisciogluAAltinelIKHortacsuOSchedulingofBatchProcessAnIndustrialApplicationinPaintIndustryComputersChemEngngSuppl ～ 　 　 LawlerELLenstraJLRinnooyKanAGHShmoysDBTheComplexityofSequencingSchedulingRepBSRCentreforMathematicsandComputerScience ～ 　 　 LunPBHoitompDJMaxEPattipatiKRSchedulingGenerationandReconfigurationforParallelMachinesIEEETransonRoboticsandAutomation ～ 　 　 GuanXiaohongLunPBZhangLanNonlinearApproximationMethodinLagrangianRelaxationbasedAlgorithmsforSchedulingIEEETransonPowerSystems 　 ～ 　 　 王朝 晖 等 ． 用 Lagrangian 松弛法 解 化工 批处理 调度 问题 ． 自动化 学报 ～ 　 　 ZadehLAFuzzyLogicNeuralNetworkandSoftComputingCommunicationsoftheACM ～ 收稿