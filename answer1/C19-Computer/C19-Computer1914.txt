微型机 与 应用 WEIXINGJIYUYINGYONG 　 Vol 　 No 　 P 报业 图文 数据库 光盘 检索系统 的 设计 与 实现 谢鹤宜 梁妙园 冯刚 何秀玲 陈增照 摘要 ： 对 信息检索 系统 的 设计 和 开发 中 的 问题 进行 了 探讨 ， 有 针对性 地 提出 了 作者 的 想法 和 解决方案 。 关键词 ： 计算机 检索 检索 技术 全文检索 数据压缩 版面 还原 　 　 在 信息 服务业 中 ， 最 重要 的 一部分 就是 信息 资源 ， 谁 拥有 资源 谁 就 能 最终 占有 信息 服务 的 市场 ， 目前 新闻资料 已经 成为 极其重要 的 信息 资源 ， 它 的 数字化 和 资源化 建设 具有 巨大 的 信息 价值 和 战略意义 。 系统 总体设计 的 指导思想 　 　 我们 在 对 《 长江日报 五十年 光盘 》 检索系统 进行 总体设计 时 ， 考虑 到 该 系统 不但 要 满足 历史 资料 数字化 保存 的 基本 要求 ， 而且 更 重要 的 是 使 它 资源化 ， 成为 真正 意义 上 的 资源 ， 从而 有效 地 服务 于 最终 的 应用 。 　 　 为 使 该报 数据库 更 符合 检索 要求 ， 能够 深层次 地 体现 和 挖掘 信息 价值 ， 我们 在 确定 报纸 信息 资源 有效 开发 的 基本 原则 基础 上 ， 制定 了 对 报纸 资料 进行 深度 开发 和 标引 的 编辑 方案 ， 坚持 “ 面向 读者 需求 ” 进行 资料 编辑 和 软件 功能设计 。 对于 《 长江日报 》 这张 非常 富有 特色 的 报纸 ， 如何 从 不同 使用者 关心 的 角度 去 分析 和 展现 该报 的 资源 ， 这 将 直接 影响 到 该 数据库 光盘 的 利用 效果 。 我们 认为 ， 使用者 关心 《 长江日报 》 就是 因为 它 的 报道 特色 和 它 的 核心内容 ， 本 系统 检索 功能 的 使用 也 必将 围绕 这些 特色 展开 。 为此 我们 设置 了 许多 具有 特色 的 检索 手段 ， 例如 按照 头版头条 、 九版 头条 、 图片 、 表格 、 连载 号 等 进行 检索 ， 这些 都 为 读者 提供 了 更 直接 的 检索 途径 ， 充分体现 出 数据库 的 实用性 。 　 　 长期以来 ， 报纸 全文 光盘 仅仅 是 将 报纸 的 全文 信息 收录 在 光盘 中 ， 配以 单一 的 全文检索 功能 和 简单 的 日期 版次 查询 功能 ， 在 具体 使用 的 过程 中 往往 费尽周折 却 无法 真正 精确 检索 到 所 需 的 内容 ， 无法 真正 揭示 报纸 资源 的 内在 价值 。 经过 我们 的 实践 和 分析 ， 在 全文检索 的 基础 上 ， 结合 分类 标引 和 数据库 技术 ， 就 能 有效 地 将 海量 的 资料 有序 地 组织 在 一起 ， 提高 检索 的 命中率 。 为此 我们 以 常规 分类 和 特色 分类 来 组织 所有 的 文章 并 配以 多个 数据库 ， 如 分类 、 专栏 、 专版 、 专刊 、 作者 、 来源 名称 、 发文 地点 、 体裁 等 来 辅助 理解 报纸 的 内容 ， 力争 提高 数据库 的 有效性 。 系统分析 与 设计 ． 系统分析 　 　 我们 根据 面向对象 的 分析方法 （ ObjectOrientedAnalysis ， 简称 OOA ） 将 系统 大致 划分 为 检索 操作 、 结果 集和原 版面 个 主要 的 对象 。 　 　 （ ） 检索 操作 对象 　 　 本 对象 的 功能 主要 是 接收 用户 的 检索 条件 ， 然后 对系统 的 信息 进行 检索 ， 它 的 属性 及 方法 主要 有 ： 检索 方式 、 检索 表达式 、 清空 检索 表达式 、 赋值 检索 表达式 、 读取 检索 表达式 和 检索 表达式 的 连接 等 。 　 　 （ ） 结果 集 对象 　 　 本 对象 的 功能 主要 是 提供 对 检索 结果 集 的 浏览 、 标红 、 二次 检索 、 重新 检索 、 保存 、 打印 ， 对 检索 到 的 文章 进行 保存 、 打印 ， 它 的 属性 及 方法 主要 有 ： 结果 集 ID 号 、 字段名 称 、 字 段 类型 、 数据 的 值 ， 读取 结果 集 、 显示 结果 集 、 对 结果 集 进行 排序 、 打印 结果 集 和 保存 结果 集等 。 　 　 （ ） 原 版面 对象 　 　 本 对象 的 功能 主要 是 提供 对原 版面 的 整版 保存 、 打印 ， 版面 部分 内容 的 保存 、 打印 ， 对原 版面 的 缩放 显示 等 功能 ， 它 的 属性 及 方法 主要 有 ： 原 版面 文件名 、 原 版面 的 位置 、 读取 原 版面 、 显示 原 版面 、 跳转 到 指定 的 页码 和 打印 原 版面 等 。 ． 系统 设计 　 　 本 系统 的 设计 主要 采用 了 面向对象 的 设计 方法 （ ObjectOrientedDesign ， 简称 OOD ） 。 　 　 （ ） 系统 的 结构 　 　 根据 功能 及 用途 的 不同 ， 我们 将 整个 检索系统 分为 全文检索 、 分类 检索 、 特色 检索 、 其它 检索 、 显示 打印 和 系统管理 等 部分 ， 有关 检索系统 的 基本 结构 如图所示 。 根据 存储 和 检索 信息 的 需要 ， 我们 在 存储 信息 的 图文 数据库 中 设置 了 如下 的 字 段 ： 日期 、 版次 、 版面 、 标题 、 来源 、 发文 地点 、 作者 、 分类号 、 类目 、 正文 、 专栏 、 体裁 、 期号 、 头条 、 图片 、 表格 、 盘号 、 专刊 、 连载 号 、 报道 对象 等 。 图 《 长江日报 五十年 光盘 》 检索系统 基本 结构图 图 《 长江日报 五十年 光盘 》 检索系统 概要 流程图 　 　 （ ） 系统 的 处理 流程 　 　 本 检索系统 的 处理 流程 可以 用图 表示 。 图中 的 “ 检索 结果 输出 ” 表示 ： 用户 经过 选取 各种 检索 途径 和 输入 各种 检索 条件 并 提交 之后 ， 检索 出 符合条件 的 文章 并 进入 检索 结果 输出 界面 。 而 “ 原版 报纸 浏览 等 操作 ” 表示 ： 用户 可以 按照 各种 方式 快速 方便 地 浏览 报纸 的 原始 版面 ， 同时 还 可以 对 选中 的 版面 或者 某 篇文章 进行 原版 打印输出 。 　 　 （ ） 系统 的 接口 设计 　 　 为了 方便 用户 查询 ， 本 检索系统 向 用户 提供 了 友好 的 界面 ， 采用 了 标准 的 Web 浏览器 （ MicrosoftInternetExplorer ） 作为 浏览 检索 结果 的 操作界面 ， 所有 的 操作 都 在 同一个 窗口 中 通过 超文本 链接 完成 ， 用户 可以 方便 地 在 信息 概览 和 信息 细览 之间 进行 切换 使用 非常简单 。 系统 的 关键技术 ． 检索 技术 　 　 检索 通常 有 综合 检索 、 分类 检索 和 全文检索 。 综合 检索 、 分类 检索 一般 以 结构化 的 文本 数据 为 主要 的 处理 对象 ， 技术 关键在于 建立 相应 的 分类 词表 和 检索 途径 ； 而 全文检索 是 以 非 结构化 的 文本 数据 为 主要 的 处理 对象 、 根据 资料 内容 而 不是 外 在 特征值 进行 查询 。 全文检索 的 基本特征 是 用户 可以 用 资料 中 任何 一个 有 意义 的 词 或 短语 进行 检索 ， 并且 支持 位置 检索 操作 。 全文检索 不 需要 对 资料 进行 人工 标引 、 加工 抽取 关键词 ， 而且 比 关键词 检索 具有 更 广泛 的 检索 范围 。 下面 我们 主要 讨论一下 全文检索 。 　 　 （ ） 全文检索 的 概念 　 　 全文检索 提供 存取 全文 文本 空间 。 全文 是 指 原始记录 ， 文本 中 的 任何 字符 和 字符串 均 可 作为 检索 的 条件 ， 全文检索 是 以 原始记录 中 的 检索 词 、 字间 的 特定 位置 为 对象 的 运算 ， 因此 ， 从 某种意义 上 可以 说 ： 全文检索 是 一种 可以 不 依赖 叙 词表 而 直接 使用 自由词 的 检索 方法 。 　 　 （ ） 全文检索 的 关键技术 　 　 全文检索 的 首要 关键技术 是 检索 机制 的 选择 。 在 现有 的 全文检索 系统 中 ， 采用 按词 检索 技术 、 倒排 索引 、 Cache 技术 和 查询 优化 技术 等 ， 可以 显著 提高 系统 的 响应速度 和 查询 的 准确性 。 如同 所有 的 检索 软件 一样 ， 信息 的 查全率 与 查准率 永远 是 一对 矛盾 的 统一体 。 按词 检索 技术 在 提高 检索 准确性 的 同时 ， 也 牺牲 部分 查全率 ， 只是 这种 损失 相对 于 带来 的 优点 而言 ， 是 值得 的 。 在 这 一点 上 ， 以 按 字 检索 技术 实现 的 中文 全文检索 系统 ， 在 系统 检索 的 全面性 方面 则 具有 一定 的 优势 。 因此 ， 对于 查全率 与 查准率 的 考虑 应该 是 相对 的 ， 要 根据 信息 服务 系统 的 性质 、 面向 的 对象 以及 信息 的 特点 进行 综合 考虑 。 就 目前 全文检索 市场 而言 ， 按词 检索 技术 占有 较大 的 优势 。 　 　 全文检索 的 另 一个 关键技术 是 ， 在 保证系统 能 向 用户 提供 尽可能 多 的 查询 手段 的 同时 ， 数据库 中 的 最大 文献 吞吐量 以及 数据库 文件 在 计算机硬盘 （ 或者 光盘 等 存储介质 ） 中 占用 的 存储空间 的 比例 ， 也 就是 通常 所 讲 的 数据库 索引 的 空间 膨胀 问题 。 理想 的 情况 是 在 保证系统 的 功能 和 性能 不 受 影响 的 前提 下 ， 使 系统文件 在 磁盘 上 占用 的 空间 越少 越 好 。 但是 这 二者 也 是 相互 矛盾 的 ， 选择 时 只能 根据 信息 服务 系统 的 具体 要求 来 取舍 。 　 　 （ ） 全文检索 的 数据模型 　 　 全文检索 的 关键 是 文档 的 索引 ， 即 如何 将源 文档 中 所有 基本 元素 的 信息 以 适当 的 形式 记录 到 索引 库中 。 在 中文 文档 中 ， “ 基本 元素 ” 可以 是 单个 汉字 ， 也 可以 是 词 或 词组 。 根据 索引 库中 索引 元素 的 不同 ， 可以 将 全文检索 分为 基于 字表 的 全文检索 和 基于 词表 的 全文检索 。 　 　 ① 字表 法 　 　 字表 法是 对 每个 单字 出现 的 位置 进行 索引 ， 并 依据 单字 的 位置 信息 进行 检索 的 文本检索 方法 。 字表 法 索引 库 的 主要 部分 是 每个 字 的 字表 信息 。 　 　 ② ） 词表 法 　 　 与 字表 法 相似 ， 词表 法是 以 能够 表达 一定 意义 的 词为 基本 检索 单位 ， 并 根据 词 的 出现 位置 进行 索引 和 检索 的 文本检索 方法 。 建立 索引 时 ， 首先 需要 对源 文档 进行 词条 的 切分 ， 然后 对 切分 后 的 文档 词条 进行 统计 ， 记录 每 一个 出现 的 词条 及其 出现 的 位置 。 　 　 ③ 字表 法 与 词表 法 的 比较 　 　 字表 法 和 词表 法各有 优缺点 ， 有 各自 适用 的 场合 和 处理 的 对象 。 字表 法是 以 单字 为 基础 进行 检索 的 方法 ， 其 缺点 是 生成 的 索引 库 庞大 （ 索引 文件 的 长度 往往 大于 源 文档 的 长度 ， 需要 对 索引 库 进行 压缩 处理 ） ， 检索 速度 低 ， 错检率 高 。 例如 检索 “ 华人 ” 一词 时 ， 往往 会 检索 出 类似 “ 中华人民共和国 ” 这样 的 错误 结果 。 其 优点 是 适应性 强 、 应用 范围广 、 索引 生成 简单 ， 比较 适用 于 对 内容 复杂 、 新词汇 和 特殊 词汇 多 的 文档 的 检索 。 　 　 词表 法是 以 词为 基本 元素 进行 索引 与 检索 的 ， 它 需要 对 被 索引 文档 进行 词条 切分 ， 索引 的 建立 较 复杂 ， 漏检 率 较 高 ， 且 不能 进行 单字 和 任意 字符串 的 检索 ； 其 优点 是 对于 大规模 应用 ， 索引 库 规模 小 ， 检索 的 处理速度 快 ， 同义 、 反义 等 概念 检索 的 实现 较为简单 ， 比较 适用 于 特定 领域 中 或 内容 相对 固定 的 文档 的 全文检索 。 在 本 系统 中 我们 采取 以 词表 法 为主 ， 字表 法 为辅 的 策略 。 ． 数据压缩 技术 　 　 目前 《 长江日报 》 年 共计 有 万个 版面 ， 文字量 约 亿 汉字 。 如果 只 考虑 纯 文本 数据 ， 则 所 需 占用 的 空间 量 大约 为 兆 ， 即 占用 一张 半 的 光盘 容量 ， 如果 再 加上 原 版面 图像 ， 那么 数据量 将会 变得 不可思议 ！ 假设 将 原 版面 保存 为 dpi （ 点 ／ 英寸 ） 的 黑白 值 的 TIF 图像 （ 没有 压缩 ） ， 则 一个 × （ 单位 为 象素 ） 的 版面 所 占 的 空间 大约 为 ． 兆 ， 万个 版面 则 为 兆 ， 即 需要 占用 多 张兆 容量 的 光盘 。 占用 这么 大 空间 的 系统 是 不 实用 的 ， 所以 我们 必须 采用 一定 的 数据压缩 技术 来 减少 数据 所 占 的 空间 。 　 　 （ ） JPEG 　 　 对于 需要 保存 的 彩色 版面 ， 我们 在 对 几种 常见 的 图像格式 进行 了 比较 之后 ， 确定 JPEG 图像格式 的 压缩 性能 最好 、 压缩 后 的 还原 效果 最佳 ， 所以 处理 彩版时 我们 采用 了 JPEG 的 图像压缩 方法 。 　 　 （ ） JBIG 　 　 JBIG （ JointBi － levelImageexpertsGroup ） 即值 图像 专家组 ， 我们 这里 是 指值 图像压缩 标准 。 JBIG 同 JPEG 一样 ， 一般 也 包括 还原 （ 解压缩 ） 的 方法 ， 但 它 和 静态 图像压缩 不同之处 是 ： 值 图像压缩 标准 所 采用 的 是 无 失真 压缩 ， 即 压缩 后 的 值 图像 可以 毫无 损失 地 还原 出来 。 　 　 整个 JBIG 的 运作 过程 是 ： 首先 传送 图像 中较 低分辨率 的 部分 ， 然后 再 根据 主客观 需要 传送 额外 的 图像压缩 部分 ， 也就是说 首先 传送 一幅 比较 粗糙 的 概略性 的 图像 ， 然后 随 传送数据 的 不断 到来 逐步提高 图像 质量 。 　 　 JBIG 的 编码方法 是 采用 适应性 算术 编码 （ AdaptiveArithmeticCoding ） ， 因此 能 达到 适应性 编码 的 效果 。 另外 ， JBIG 也 考虑 了 半 色调 （ Halftone ） 图像 的 压缩 编码方法 。 JBIG 的 基本 系统 由个 功能模块 构成 ： ① 图像 缩小 功能 PRES （ ProgressiveReduction ） ， 它 的 功能 是 将 输入 图像 变为 分层 图像 ； ② 典型 预测 TP （ TypicalPrediction ） ， 它 是 与 缩小 方法 无关 的 预测 方法 ； ③ 决策性 预测 DP （ DeterministicPrediction ） ， 它 是 根据 图像 缩小 后 的 规律性 进行 预测 ； ④ 模型 模板 MT （ ModelTemplate ） ； ⑤ 适应性 模板 AT （ AdaptiveTemplate ） ； ⑥ 适应性 算术 编码 （ AdaptiveArithmeticEncoding ） 。 这个 基本 系统 的 结构 如图所示 。 图 JBIG 基本 系统 结构图 ． 版面 还原 技术 　 　 对于 报纸 的 内容 ， 按 报社 要求 ， 不仅 能够 向 读者 提供 报纸 的 纯 文本 显示 ， 而且 还 能够 向 读者 提供 原始 的 版面 显示 ， 即 版面 还原 的 问题 。 　 　 对于 版面 还原 ， 我们 主要 考虑 了 二种 处理 方案 ： 一种 是 通过 扫描仪 将 原版 扫描 成 图像文件 用于 显示 ； 另 一种 是 利用 OCR 识别 进行 报纸 全息 录入 ， 当 版面 还原 的 时候 再 进行 动态 的 组版 。 二种 方法 比较 起来 各有利弊 ： 第一种 方法 的 版面 还原 效果 要 比 第二种 的 效果 差 ， 所 需要 占用 的 空间 也 比 第二种 大 。 但是 第一种 方法 是 真正 意义 上 的 原版 还原 ， 因为 这种 方法 保证 了 原始 版面 的 原汁原味 ， 并且 技术 已经 相当 的 成熟 ； 虽然 第二种 方法 的 还原 效果 好 ， 但是 成本 比 第一种 方法 高得 多 ， 技术 也 不够 成熟 ， 所以 我们 最终 选择 了 第一种 方法 ， 并且 采用 的 是 PDF 文件 规范 。 　 　 PDF （ ProtableDocumentFormat ） 文件 规范 是 Adobe 公司 在 其 PostScript 文件 规范 基础 上 创建 的 种 主要 应用 于 电子出版 的 文件 规范 系统 ， 它 所 基于 的 图像 模型 是 用 PostScript 语言 来 描述 的 ， 因此 ， 其 描述 的 文本 和 图形 都 是 与 设备 和 分辨率 无关 的 。 通过 我们 的 实践 ， 采用 PDF 文件格式 用于 版面 还原 取得 了 令人满意 的 效果 。 　 　 本文 主要 是 结合 《 长江日报 五十年 光盘 》 检索系统 ， 讨论 了 信息检索 系统 的 分析 和 实现 ， 对于 其中 涉及 到 的 一些 关键技术 进行 了 有益 的 探讨 。 谢鹤宜 （ 武汉 华中师范大学 多媒体技术 研究所 ） 梁妙园 （ 武汉 华中师范大学 多媒体技术 研究所 ） 冯刚 （ 武汉 华中师范大学 多媒体技术 研究所 ） 何秀玲 （ 武汉 华中师范大学 多媒体技术 研究所 ） 陈增照 （ 武汉 华中师范大学 多媒体技术 研究所 ） 参考文献 ［ ］ 高文 ． 多媒体 数据压缩 技术 ． 北京 ： 电子 工业 出版社 ， ［ ］ 邹涛 ． 检索 模型 ． 计算机 世界报 ， 年 第期 ［ ］ 邵维忠 、 杨芙清 ． 面向对象 的 系统分析 ． 清华大学出版社 、 广西 科学技术 出版社 ， 收稿 日期 ： － －