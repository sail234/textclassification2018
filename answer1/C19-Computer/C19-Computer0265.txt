软件 学报 JOURNALOFSOFTWARE 年 第期 No 用于 描述 网络拓扑 的 形式语言 的 研究 于 之硕 　 杨 　 静 　 　 摘要 　 论述 了 应用 随机 线性 文法 及 产生 式 描述 计算机 网络拓扑 结构 的 方法 在 该 形式语言 的 描述 中 设置 了 个 基元 状态 通过 对 基元 状态 及 各种 状态 规律 的 分析 准确 地 描述 了 网络 中 结点 间通信 及 共享存储器 的 状态 同时 证明 了 用 此 方法 在 某种 条件 下 从 初始 结点 到 终了 结点 间 可以 建立 惟一 的 访问 路径 并 能 避免 冲突 此 方法 对 计算机网络 结点 访问 冲突 避免 的 研究 具有 一定 的 参考价值 　 　 关键词 　 概率 矩阵 文法 基元 网络 　 　 中图法 分类号 　 TPResearchofaFormalLanguageforDescribingomputerNetworkTopologyYUZhishou 　 YANGJing 　 　 Abstract 　 　 BeingdifferentfromthegeneralmethodaformallanguageandgrammarstochasticlinergrammaranditsrepresentationareusedtodescribethetopologylogicofthecomputernetworkbyanalyzingthegrammarofthreeelementalstatusesItcanbeseenthatcombiningthemmaydescribestatusesofeachnodeincommunicationandsharedmemoryofthecomputernetworkInthispaperitisprovedthatthegrammarcanestablishonlyroutebetweenthestartnodeandtheterminalnodeinsomeconditionsUnderconditionsaboveifmayavoidcollisionTheuseandthelimitofthegrammararepresentedattheendofthepaper 　 　 Keywords 　 Probabilitymatrixgrammarbaseelementnetwork 　 　 对 计算机 网络拓扑 结构 的 设计 容量 分配 算法 通常 都 采取 基于 图 论及 割集 的 方法 本文 所 提出 的 网络 信息 流量 计算 和 分配 方法 是 基于 概率 量度 即 一种 语言 及其 文法 通过 严格 的 定义 和 文法 产生 式 使 网络 抽象 为 一种 语言 表达式 再 应用 前人 所 推导 出来 的 语言 性质 精确 地 计算 出 概率 量度 分配 值 可 使 所 要求 的 计算机网络 中 两个 结点 机 之间 建立 唯一 最佳 的 通信 路径 为 使 计算机网络 符合 本文 描述 的 语言 方法 特 假设 如下 ： 　 　 计算机网络 的 完全 图如图 ［ ］ 所示 其中 每一 结点 都 表示 一个 带有 存储器 的 计算机用户 图 　 计算机网络 完全 图 　 　 计算机网络 中 各 结点 上 有种 状态 ： ① 处理机 申请 某 结点 资源 ； ② 因 资源 “ 忙 ” 而 处于 等待 ； ③ 得到 资源 后 或是 读 或是 写 　 　 设 网上 有 m 个 结点 对 K 点 来说 它 对 网上 其他 结点 的 访问 概率 Pk 应是 PkPki 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 其中 Pkk 表示 对本 结点 机 的 存储器 访问 为 分析 方便 可 把 Pk 分成 P ′ kP ″ k 即 PkP ′ kP ″ k 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 其中 P ′ k 为 一类 的 访问 概率 和 且 P ′ kPki 　 　 　 iq 　 　 　 　 　 　 　 　 　 　 　 P ″ k 为 另一类 的 访问 概率 和 且 P ″ kPki 　 　 　 iqqn 　 　 　 　 　 　 　 　 　 　 　 　 网上 每一 结点 随机 请求 资源 符合 马尔科夫 模式 　 　 从 概率 量度 分配 来说 对于 星形 网 、 环形 网及 总线网 仅 是 网状 网 的 一种 特殊 情况 设 网状 网 的 概率 分配 如 以下 矩阵 与 图 等价 　 　 而 星形 、 环形 及 总 线形 网 的 概率 分配 矩阵 如图所示 ［ ］ 由图 可见 在 具有 相同 结点 数目 的 情况 下 矩阵 的 格式 都 为 × 所 不同 的 是 某些 概率 为 零 总线网 也 可求 出 概率 分配 矩阵 　 　 　 　 　 　 　 　 　 　 a 星形 网及 概率 矩阵 　 　 　 　 　 　 　 　 b 星形 网及 概率 矩阵 图 　 星形 、 环形 网及 概率 矩阵 　 描述 网络 的 形式语言 模式 　 随机 语言 模式 分类 　 　 一般来说 随机 描述 文法 有种 类型 及个 派生 型 即 ： 型 — — 无 限制 文法 ； 型 — — 上下文 有关 文法 ； 型 — — 上下文 无关 文法 ； 型 — — 有限 状态 文法 ； 派生 型 — — 随机 线性 文法 　 　 各种 文法 可以 描述 各种 随机 事件 其 随机 描述语言 的 短语 语法结构 可以 定义 为 一个 四元 式 ［ ］ 即 GsVNVTPSS 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 其中 VN 为 非 终止符 ； VT 为 终止符 ； PS 为 随机 产生 式 有限 集合 ； S 为 起始 符 S ∈ VN 　 　 本文 所 引用 的 随机 线性 文法 的 结构 GS 与 式 相同 但 VNAAKSAVTUVUr 而 PS 为 Ai → UAjVAi → Ur 且 对于 每个 Aj ∈ VN 定义 等价 类 CAi 的 通用 表达式 为 CAiPS 的 所有 左端 为 Ai 的 产生 式 即 PSCAi 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 若 对 具体 PS 的 产生 式 为 Ai → UAjVAi → Ur 来说 设 Ai → UAjV 的 概率 为 Pij 设 Ai → Ur 的 概率 为 Pir 对于 第 i 点 的 产生 式 概率 为 PSPijPir 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 线性 随机 文法 的 一致性 　 　 由于 随机 文法 一致性 的 定义 为 P （ x 所以 线性 随机 文法 一致性 的 定义 又 可为 PijPir 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 上式 的 物理 意义 是 产生 过程 为 具有 K 个 对应 于 VNUT 状态 的 有限 个 马尔科夫 过程 ［ ］ 若 GS 是 一致 的 则 状态 T 将 对应 于 一个 吸收 状态 而 所有 其他 状态 将 都 对应 于 过渡 状态 同时 对于 产生 式 Ai → UAjV 则 在 Ai 和 Aj 之间 产生 一条 路径 在 Ai 和 Ur 之间 也 产生 一条 路径 对 任何 结点 Ai 每次 仅能 用 上述 两个 产生 式 之一 即 某 时刻 从 Ai 开始 生成 的 状态 仅 有 一个 若 对于 导出 式 S → x 相对 于 初始 结点 S 到 终点 有 一条 路径 其 更 重要 的 意义 在于 若 GS 是 一致 的 则 从 初始 结点 到 各 终点 Ur ∈ VT 的 概率 必须 为 ［ ］ 本文 利用 这些 性质 把 网络 上 所 经过 的 各点 的 状态 和 产生 的 文法 一一对应 起来 如果 GS 是 一致 的 则 每 一瞬间 保证 有 一对 处理机 建立 了 联接 这样 就 会 防止 冲突 　 　 在 文献 ［ ］ 中 提到 了 判定 随机 线性 文法 GS 一致 的 条件 是 limmkn 　 　 　 　 　 　 　 　 　 　 　 　 　 　 而 ［ mijn ］ MnM × M × × Mn 式 中 M 为 网络 概率 分配 矩阵 所以 mkn 表示 M 连乘 N 次后 的 矩阵 中 第行 的 最后 一个 元素 即 连乘 后 矩阵 中 最 左上角 的 元素 limmkn ［ ］ 表示 起始 结点 到 终了 各 结点 的 概率 为 　 一致性 线性 文法 举例 　 　 给定 一个 随机 线性 文法 GSVNVTPSS 其中 VNSAB 且 为 非 终点 符 ； VT 且 为 终点 符 ； S 为 初始状态 ； PS 为 产生 式 且 有 并 设有 分布 矩阵 M 为 当 PPP 时则 有 当 n → ∞ 时即 limmn 所以 当 文法 产生 式 为 PS 且 分配 概率 矩阵 为 M 各 概率 分配 PP 及 P 时 GS 是 一致 的 如果 随机 线性 文法 概率 矩阵 同上 但 其他 条件 不同 当 n → ∞ 时有 limmn ≠ 则 说明 随机 线性 文法 也 存在 不 一致 　 随机 线性 文法 表示 的 三 基元 网络 状态 　 　 根据 本文 概述 中 的 假设 网络 上 各 结点 可 处于 “ 申请 资源 ” 、 “ 忙 ” 和 “ 读 或 写 ” 三种 状态 之一 而 其他 状态 都 可 由 这种 状态 组合而成 本 文选 一种 文法 描述 一 结点 对 两个 资源 的 请求 而 任何 结点 对 两个 以上 资源 的 请求 总 看作 是 对 两类 资源 的 请求 则 概率 分配 符合 PKP ′ KP ″ K 本文 描述 一个 结点 对 两种 资源 的 请求 文法 及 表示 的 状态 为 基元 状态 将 推出 的 种 基元 状态 用以 描述 及 组合 网上 各 结点 的 一切 状态 ［ ］ 　 基元 文法 　 　 本 状态 的 文法 和 产生 式 为 上例 中 GS 和 PS 该 文法 表示 的 状态 如图所示 图 表明 结点 机 S 可以 对 资源 A 或 B 申请 其 概率 分别 为 P 或 P 对 B 资源 来说 如果 忙 由 S 在 B 等待 等待 的 概率 是 P 若 B 早已 准备 好 由 对 B 资源 输出 （ 或 “ 写 ” 用 “ ” 表示 ） 对 A 资源 来说 从 S 对 它 请求 以后 可 有 两种 选择 ： 一是 通过 A 资源 输入 （ 用 “ ” 表示 也 可 认为 是 “ 读 ” ） ； 另 一个 是 通过 A 资源 对 B 资源 请求 它 的 概率 是 P 图 　 基于 文法 GS 产生 式 PS 的 状态图 　 基元 文法 　 　 本 状态 的 文法 GSVNVTPSS ） PS 为 产生 式 且 有 　 　 对应 于 GS 及 PS 的 状态图 如图所示 图 表明 结点 机 S 可 对 A 及 B 发生 请求 而 每 一 资源 都 可 单独 输入 或 输出 图 　 对应 GS 及 产生 式 PS 的 状态图 　 基元 文法 　 　 本 状态 的 文法 是 GS 且 GSVNVTPSsPS 产生 式 为 　 　 如图所示 本 状态 相当于 A 与 B 都 是 “ 读 ” 它们 的 概率 分别 是 P 和 P ； 而 在 S 对 A 或 对 B 请求 时 可能 遇到 A 与 B 都 “ 忙 ” 则 它们 分别 等待 其 概率 为 P 或 P 而 GSVNVTPSS ） 是 基元 文法 但应 归入 到 基元 文法 中 因为 GS 描述 了 结点 机 S 对 A 与 B 发生 请求 时置 A 与 B 处于 “ 写 ” 状态图 　 对应 GS 及 产生 式 PS 的 状态图 　 基元 文法 所 描述 状态 的 合成 　 　 如图所示 对 A 资源 除 等待 外 还有 一个 分配 概率 P 主要 对 A 资源 既要 读 概率 P 又 要 写 概率 P 就 等 于是 把 文法 和 文法 修改 后 合成 其 文法 为 GSVNVTPSS 其 产生 式 为 GS ： 图 　 合成 状态 模式 　 应用 种 基元 文法 描述 整个 网络 　 　 在 文章 的 开始 部分 假设 图中 ABCD 是 结点 机 E 和 F 是 存储器 且 设 E 仅 允许 读 如图所示 a 结点 机 A 状态图 　 　 　 　 　 　 　 　 　 　 b 只 读存储器 E 状态图 图 　 对图 的 网络 拓朴 结构 的 描述 　 对 结点 机 的 描述 　 　 对 结点 机 A 的 描述 如图 （ a 所示 其 文法 同 以前 各 状态 定义 但 产生 式 PSA 为 　 　 对 A 的 状态图 可以 看作 个子 状态图 　 　 ① 对 方框 Ⅰ 其中 S → A → 及 S → A → 相当于 对 私有 存储器 访问 其 概率 为 PAA ； 右枝 相当于 对 网上 其他 各点 访问 其 概度 P ′ AAPABPACPAEPAF 符合 假设 方框 Ⅰ 相当于 基元 文法 　 　 ② 对于 方框 Ⅰ Ⅰ 相当于 对 处理机 B 和 C 的 访问 访问 概率 PCHPABPAC 方框 Ⅱ 相当于 基元 文法 　 　 ③ 对于 方框 Ⅰ Ⅰ Ⅰ 相当于 对 结点 D 和 对 存储器 E 的 访问 且 仅 是 “ 读 ” 状态 ［ ］ 　 对 只 读存储器 的 描述 　 　 对 只 读存储器 E 的 描述 如图 b 所示 其 文法 仍 是 四元 式 产生 式 PSE 为 ： 　 　 可 将 M 状态图 看作 是 个子 状态 方框 Ⅰ 相当于 基元 文法 方框 Ⅰ Ⅰ Ⅰ Ⅰ Ⅰ 相当于 基元 文法 　 建立 惟一 途径 的 条件 　 　 当且 仅 当为子 状态图 的 GS 一致 时 才能 在 初始 结点 到 终结 点间 建立 一条 惟一 的 路径 对于 基元 文法 各 状态图 的 GS 一致性 的 判断 及 证明 在 前面 已 论述 这里 不再 赘述 　 随机 线性 文法 的 应用 　 　 前面 给出 了 随机 线性 基元 文法 的 种 形式 种 状态 并 利用 它们 来 描述 网络 上 各 处理机 的 状态 和 共享存储器 的 状态 其 优点 是 当且 仅 当 描述 的 文法 GS 一致 时 只 建立 一条 路径 这样 可以 避免 冲突 但是 随机 线性 文法 是 怎样 满足 各 结点 机 的 随机 请求 呢 ？ 　 　 结点 机对 资源 的 请求 的 文法 按 实测 的 概率 分配 要求 出现 　 　 当该 结机 对 某 资源 的 请求 和 出现 概率 一致 时 那么 该 结点 机与 该 资源 建立 了 唯一 通路 而 其他 资源 都 处于 过渡 状态 如 结点 机 A 对 网上 各 结点 的 请求 概率 为 PABPACPAM 而 结点 机 A 对 自己 私有 存储器 的 概率 为 PAA 且 有 PAAPABPAMPAj 若 对 各 状态 描述 的 文法 出现 的 概率 也 为 PAAPABPAM 所以 结点 机 A 对 私有 存储器 请求 和 出现 文法 的 概率 为 PAA 结点 机 A 碰 不到 B 出现 的 概率 为 PAB 结点 机 A 请求 碰 不到 结点 机 M 的 概率 为 PAM 所以 结点 机 A 对 各 资源 请求 平均 不 冲突 的 概率 为 　 　 　 P ′ A 碰 不到 的 概率 实际上 是 结点 机 A 对 网上 每一 结点 平均 请求 的 延迟时间 所以 结点 机对 网上 每一 结点 请求 及 服务 的 时间 T 为 TnTiTi 　 　 　 　 　 　 　 　 　 　 　 　 　 　 式 中 Ti 为 产生 式 中 每个 状态 的 产生 时间 为 服务 时间 Ti 为 平均 请求 延迟时间 意味着 每一 结点 机对 网上 各 资源 请求 的 各 文法 出现 的 周期 为 　 　 当 m → ∞ 时有 Ｔ Tin 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 正常 资源 的 排队 及 服务 时间 　 　 一般 情况 下 对 网上 各 资源 的 请求 若 遇到 忙 则 排队 对 每 一 资源 来说 其 排队 和 服务 时间 为 C 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 式 中 λ 为 网上 各 结点 对 某 资源 的 平均 访问 比 M 为 网上 对 该 资源 请求 的 结点 数 　 　 随机 线性 文法 的 限制 　 　 为 使 线性 文法 能 用到 普通 网络 状态 的 描述 上且 又 有 较 快 的 运行 速度 由 要求 Ｔ Ｃ 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 则 有 Tin 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 　 由式 可见 随机 线性 文法 能够 被 采用 的 原因 是 文法 的 产生 时间 远远 小于 正常 网络 访问 的 延返 时间 也就是说 线性 文法 产生 及 识别 时间 可以 忽略不计 同时 又 能 避免 访问 冲突 　 结束语 　 　 本文 提出 的 个 基元 文法 及 产生 式 可以 用于 描述 计算机网络 的 拓扑 结构 及 网络 中 各 结点 的 任意 状态 当 结点 状态 描述 所 采用 的 文法 相一致 时 两 结点 间 可以 建立 一条 访问 路径 而且 这 条 路径 是 唯一 的 最佳 路径 为了 求得 比 普通 排队 模式 有 更 快 的 速度 系统 必须 遵循 Tin 的 规则 　 　 用 形式语言 方法 描述 网络拓扑 及 路由 选择 算法 的 文献 所见 不 多 本文 作者 将 通过 计算机网络 的 设计 及 相应 的 连通 量计算 来 评价 形式化 方法 的 优劣 以便 为 该 方法 的 实际 应用 提供 可靠 数据 本文 研究 得到 黑龙江省 自然科学 基金 资助 作者 介绍 ： 于 之 硕年生 教授 主要 研究 领域 为 专家系统 智能 网络 决策支持系统 　 　 　 　 　 杨静 女年生 副教授 主要 研究 领域 为 人工智能 网络 研究 本文 通讯联系 人 ： 于 之硕 哈尔滨 哈尔滨 建筑 大学 计算机 应用 系 作者 单位 ： 于 之硕 　 杨 　 静 　 哈尔滨 建筑 大学 计算机 应用 系 　 哈尔滨 　 参考文献 　 ［ ］ 达朗伯 姆 计算机网络 西安 陕西 科学技术 出版社 TANenbaumASComputerNetworkXianShanxiScienceandTechnologyPublishingHouse 　 ［ ］ 傅京孙 模式识别 及 应用 北京 科学出版社 FuJingsunPatternRecognizeandApplicationBeijingSciencePress 　 ［ ］ FelerWAnintroductiontoprobabilitytheoryanditsapplicationComputerNetwork ～ 　 ［ ］ MarSanMAMARKOVmodelsformultiplebusmultiprocessorsystemIEEETransactionsonComputersC ～ 　 ［ ］ 顾 冠群 计算机网 第版 南京 江苏 科学技术 出版社 GuGuanqunComputerNetworkrdedNanjingJiangsuScienceandTechnologyPublishingHouse 　 ［ ］ 徐家 福 并行 推理 系统 NDPIS 的 设计 计算机 研究 与 发展 ～ XuJiafuNDPISdesignofparallelinferencesystemComputerResearchandDevelopment ～ 本文 收到 原稿 收到 修改稿