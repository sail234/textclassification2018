计算机 应用 研究 APPLICATIONRESERCHOFCOMPUTERSVol 　 No 　 P 在 CSCW 系统 中 应用 IRC 曹重 人 　 蔡亦波 　 陆松 年 摘要 探讨 在 CSCW 工作 系统 中 采用 IRC 的 可能性 及 模式 。 首先 ， 简要地 介绍 了 CSCW 和 IRC 基本概念 ， 然后 对 协同工作 中 人际 交流 模式 进行 了 分类 研究 。 最后 ， 在 CSCW 系统 中 实现 IRC 机制 进行 了 研究 并 介绍 了 一个 简单 的 IRC 模型 实现 关键词 CSCWIRC 协同工作 电子 会议 系统 开发 环境 　 引言 　 　 随着 经济 的 全球化 和 通信 、 交通 技术 的 发展 ， 越来越 多 的 企业 和 社会 团体 从事 于 全球性 的 业务 。 同时 ， 网络 技术 和 分布式系统 的 普及 ， 计算机技术 也 从 传统 的 单用户 工作 模式 向 多用户 协同工作 模式 的 方向 发展 。 如何 利用网络 技术 为 地域 分布 极为 分散 的 各个部门 提供 协调 工作 的 机制 ， 便 成为 计算机 应用 研究 的 一个 热点 。 年 ， IreneGreif 和 Cashman 提出 了 计算机 支持 的 协同工作 CSCW 的 概念 。 从此 ， 越来越 多 的 科研人员 投入 了 对 CSCW 的 研究 与 开发 。 　 　 CSCW 领域 研究 的 一个 重要 方面 是 如何 为 分布 在 不同 地点 的 人们 提供 便捷 的 交流 、 探讨 、 协商 的 工具 。 就 该点 而言 ， 目前 人们 普遍 重视 的 是 视频会议 系统 。 尽管 视频会议 能 提供 逼真 、 全面 的 信息 ， 是 解决 异地 交流 的 最佳 途径 ， 但是 它 的 实现 要 较大 的 投资 ， 对 网络设施 要求 高 。 在 目前 的 条件 ， 特别 是 中国 ， 推广应用 有 一定 难度 。 另外 在 一个 企业 内部 ， 关键 是 数据 和 资料 的 交流 ， 有时 视频会议 所 提供 的 图象 和 声音 服务 会 显得 多余 。 因此 ， 笔者 认为 IRC 工具 在 企业 内部 协同工作 中 仍 有 广泛 的 应用 。 　 CSCW 和 IRC 简介 　 　 正如 名字 所示 ， 计算机 支持 的 协同工作 CSCWComputerSupportedCooperativeWork 可定义 为 这样 一个 计算机系统 ， 它 支持 多用户 参与 一个 共同 的 任务 ， 并 提供 给 他们 访问共享 环境 的 接口 。 多用户 为 完成 一个 特定 的 任务 而 组成 一个 用户群 Group ， CSCW 为 这样 一个 用户群 提供 协同 支持 。 因而 ， 在 不 要求 严格 定义 的 场合 下 ， 通常 也 将 群件 Groupware 视作 CSCW 的 同义语 。 　 　 计算机 支持 的 协同工作 的 研究 ， 适应 了 信息化 社会 中 人们 工作 方式 的 群体性 、 交互性 、 分布 性 和 协作性 特点 ， 因此 被 认为 是 未来 社会 中 广泛 采用 的 技术 。 为 支持 在 空间 上 分布 、 时间 上 不 同步 的 群体 成员 协同 完成 任务 ， CSCW 系统 不仅 要 解决 分布 性 问题 ， 处理 应用领域 的 特殊性 ， 而且 要 提供 面向用户 的 协作 支持 。 这 使得 CSCW 系统 非常复杂 ， 其 研究 工作 也 相当 困难 和 艰巨 。 　 　 CSCW 的 研究 目的 是 支持 一组 用户 协同 解决问题 ， 协同 通过 交互 实现 ， 因而 常 根据 交互方式 是 同步 Synchronous 还是 异步 Asynchronous 的 和 交互 的 地理位置 是 本地 Colocated 还是 远程 Remote 的 对 CSCW 系统 进行 分类 ， 一般 分为 四类 ： 同时 同地型 如 电子白板 ； 同时 异地 系统 如 视频会议 系统 ； 异时 同地 系统 如 公告栏 ； 异时 异地 系统 如 电子邮件 。 在 绝大多数 CSCW 系统 中 ， 为 用户组 提供 协商 交流 的 工具 都 是 必不可少 的 。 这种 工具 的 迅速 、 方便 、 便于 理解 的 程度 便 成为 一个 成功 CSCW 系统 的 重要 指标 。 而 IRC 系统 恰恰 是 这样 一个 便捷 的 工具 。 　 　 IRC 互联网 中继 谈话 是 一个 同时 异地 的 基于 文本 形式 的 电子 会议 系统 ， 其 本身 可以 视为 一个 简单 的 CSCW 系统 。 它 可以 让 分布 在 不同 地点 的 人们 克服 时间 和 距离 的 障碍 ， 进行 实时 的 交流 。 目前 ， 一般 的 IRC 软件 主要 用作 人们 业余时间 交流 工具 ， 并未 在 协作 群体 的 协作 中 广泛 利用 。 其 基本 框架 如下 。 　 　 整个 IRC 网络 是 基于 服务器 客户 机构 架 的 ， 由 作为 节点 的 若干 分布式 服务器程序 和 许多 与 某 一 服务器 相连 的 客户端程序 ， 以及 联系 两者 的 通信 链路 组成 ， 如图所示 。 图 　 ICR 基本 网络 框架图 　 　 。 服务器 Server 是 IRC 网络 的 节点 ， 服务器 与 服务器之间 通信 链路 和 服务器 组成 IRC 网络 的 骨架 。 每个 服务器 都 拥有 自己 的 客户 组 ， 作为 客户 进入 IRC 网络 的 接入点 ， 客户 只有 登录 上 某 一 服务器 才能 通过 IRC 网络 进行 相互 交流 。 　 　 。 客户 Client 是 通过 IRC 网络 进行 交流 的 人 。 客户 利用 客户端程序 与 服务器 相连 ， 不同 客户 以 客户 名 相 区分 。 另外 ， 客户 的 下列 信息 也 需 保存 在 IRC 网络 的 所有 服务器 上 ； 客户端程序 所 运行 的 主机名 ； 客户 在 该 主机 上 的 用户名 ； 该 客户 所连 的 服务器 名 等 。 　 　 。 消息 Message 是 客户 之间 ， 服务器之间 ， 客户 与 服务器之间 相互 传递 的 文本 ， 是 IRC 交流 的 语言 媒体 。 一条 消息 是 长度 不 超过 l 个 字节 的 ASCII 字符串 ， 由 前缀 、 命令 、 参数 组成 。 　 　 。 通道 Channel 类似 于 电话 交换 系统 中 的 链路 ， 每个 通道 都 有 一个 名字 ， 同一 通道 的 每个 客户 可以 收到 发往 该 通道 的 所有 消息 。 当 客户 进入 系统 时 ， 可以 加入 一个 现有 的 通道 或 建立 一个 新 的 通道 ， 当某 一 通道 的 最后 一个 客户 离开 时 ， 该 通道 自动 消除 。 对于 现有 通道 ， 客户 用 通道 名 与其 联系 。 通道 有 许多 性质 ， 例如 ： 通道 模式 客户 可 随意 进入 ， 应邀 许可 进入 等 ， 通道 管理员 ， 通道 上 传递 的 消息 纪录 等 。 这些 性质 在 CSCW 系统 中 可以 充分利用 。 　 　 如图 ， IRC 可以 提供 客户 之间 一对一 如 client 与 client 之间 ， 一对 多如 client 与 client ， client ， client ， 一对 所有 如 client 与 所有 其他 客户 的 交流 。 还 可以 提供 主机 或 服务器 掩模 通信 交流 如 clientl 与 server 所有 的 客户 。 多种 交流 模式 也 为 IRC 在 协同工作 中 的 应用 提供 了 可能 。 　 协同工作 中 人际 交流 模式 初探 　 　 CSCW 研究 的 一个 重要 课题 是 对 人们 协同工作 的 各种 方式 进行 总结 和 建模 ， 使 CSCW 系统 更好 地 支持 人们 协同工作 。 IRC 是 一种 人际 交流 工具 ， 因此 要 把 IRC 应用 到 协同工作 中 ， 首先 要 对 协同工作 中 人际 交流 的 模式 进行 归纳 和 总结 。 人际 交流 的 两种 主要 模式 是 ： 　 　 。 面对面 FacetoFace 同一 协作 群体 的 成员 能 在 相同 的 时间 和 地点 会面 ， 他们 主要 的 交流 工具 是 语言 。 　 　 。 分散式 Dispersed 协作 群体 的 成员 被 距离 和 时间 所 分隔 ， 无法 进行 面对面 的 交流 。 他们 主要 是 利用 现代 通信 技术 来 进行 信息 的 传递 ， 包括 ： 电话 、 传真 、 电子邮件 和 计算机 会议 。 　 　 显然 ， 对 分散式 的 人际 交流 ， IRC 不失为 一种 便捷 的 交流 工具 。 要 把 IRC 应用 到 地域 分散 的 同一 协作 群体 企业 、 社会 团体 、 研究 机构 当中 ， 还 需要 对 同一 协作 群体 中 的 人际 交流 方式 进行 分类 。 　 　 会议 式 　 　 会议 是 群体 工作 中 必不可少 的 一种 交流 方式 。 在 对 重大 问题 作出 判断 和 决策 之前 ， 群体 的 部分 或 全体成员 要 通过 会议 的 形式 来 协调 。 在 面对面 的 交流 中 ， 会议 式 具有 几个 明显 的 特点 。 第一 ， 有 一个 专门 的 会议室 ， 或 类似 功能 的 临时 场所 。 第二 ， 参加 会议 的 成员 有 人数 、 级别 等 限制 。 第三 ， 会议 开始 后 一般 不 允许 成员 随意 加入 或 退出 。 第四 ， 会议 有 预期 性 ， 并 有 专人 主持 。 第五 ， 参加 会议 的 成员 一般 不能 再 从事 其它 工作 。 在 分散式 的 协作 群体 交流 中 ， 会议 的 形式 也 是 必不可少 ， 同样 也 具有 与 上述 几条 相应 的 特点 。 　 　 讨论式 　 　 该 方式 也 是 一种 多人 参加 的 交流 方式 ， 其 区别 于 会议 式 的 最 主要 方面 是 严肃性 的 不同 。 它 的 发生 是 偶然 的 ， 参加 的 人员 是 随意 的 和 平等 的 ， 职务 和 级别 往往 不起作用 。 在 面对面 的 交流 中 ， 讨论 可能 发生 在 工作 场所 的 任何 一个 地方 。 其 主要 目的 是 群体 工作者 之间 了解 他人 观点 ， 交流 看法 ， 增加 信息量 。 如果 利用 IRC ， 对 分散式 协作 群体 的 每 一个 成员 ， 他 她 可以 同时 参加 几个 不同 的 讨论 。 　 　 询问 式 　 　 这种 方式 发生 在 两个 成员 之间 。 一种 情况 是 短期 的 ， 某 一位 成员 向 另 一位 成员 询问 一些 信息 ， 获得 信息 之后 即 结束 交流 。 另 一种 情况 是 长期 的 ， 指 协同工作 的 两个 成员 始终保持 着 一条 交流 通道 ， 不定期 地 进行 信息 的 交流 ， 例如 共同 写作 的 双方 ， 共同 实验 的 双方 等 。 　 协作 式 IRC 实现 的 思考 　 　 地域 分散 的 协作 群体 在 网络 构架 上 一般 有 如下 特点 ： 在 每 一个 本地 ， 都 有 一个 或 多个 局域网 ， 并 和 广域网 Internet 相连 。 不同 地点 的 协作者 通过 服务器 ， 利用 广域网 进行 通信 。 与 用于 人们 聊天 的 IRC 相比 ， 协作 群体 的 IRC 在 a 服务器 地位 ， b 客户 信息 和 c 通道 属性 等 方面 应有 明显 的 不同 。 　 　 从 服务器 角度 讲 ， 一般 IRC 软件 认为 各 服务器 是 相互 平等 的 ， 每个 服务器 都 存储 着 大量 的 客户 和 通道 及其 它 服务器 的 信息 。 但是 用于 协同工作 ， 特别 是 用于 企业 内部 ， 由于 企业 各 部门 间 是 不 平等 的 ， 如 有 总部 和 地域 分部 之分 ， 所以 在 服务器 配置 上应 体现 此种 区分 。 根据 不同 的 协作关系 ， 可以 是 多层次 等级 的 IRC 服务器 网络 。 例如 ， 设置 可以 管理 其它 服务器 的 中心 服务器 ， 配合 数据库 ， 可以 让 下层 服务器 省去 存储 大量 重复 信息 的 负担 。 所有 客户 、 服务器 和 通道 信息 储存 在 数据库 中 ， 各 服务器 通过 中心 服务器 到 数据库 查询 。 用 数据库 存储 历史 交流 文本 ， 用 中心 服务器 统一 管理 ， 执行 查询 等 。 　 　 从 客户 的 角度 ， 聊天 娱乐 用 的 IRC 中 各 客户 之间 是 平等 的 关系 ， 最多 是 第一个 进入 通道 的 客户 具有 管理 该 通道 的 少许 基本 权力 。 但是 在 协同工作 中 ， 协商者 之间 往往 是 不 平等 的 ， 有 职务 、 级别 、 作用 上 的 不同 。 特别 是 在 会议 式 的 交流 中 ， 并 不是 所有人 都 可以 召集 会议 的 ， 并 有 平等 的 发言权 。 所以 客户 信息 不仅 要 包括 客户 名 、 客户 所在 的 服务器 名 指明 该 客户 所在 的 部门 和 地区 ， 还 应有 该 客户 在 协作 群体 中 的 职务 、 作用 信息 。 另外 ， 客户 的 工作 状态 信息 也 是 协同工作 IRC 系统 应 利用 的 一项 重要 信息 。 例如 ， 某 二个 客户 正 与 其他 一些 客户 在 参加 一项 重要 会议 ， 此时 如果 这俩 人 之间 建立 一个 私人 通道 ， 进行 桌面 底下 的 谈判 ， 这 显然 是 不 合适 的 。 所以 需要 一项 指标 来 表示 协作 群体 中 每 一 成员 的 工作 状态 。 对于 不同 的 CSCW 系统 ， IRC 所 使用 的 客户 信息 也 是 各不相同 的 。 　 　 就 通道 而言 ， 把 IRC 应用 到 协作 群体 内部 ， 应该 提供 与 前述 三种 交流 类型 相适应 的 不同 通道 类型 ， 可以 利用 通道 属性 来 设置 。 对 会议 式 的 交流 ， 可以 设置 一些 固定 通道 ， 类似 于 会议室 ； 也 可以 临时 设置 通道 类型 为 其他 客户 无权 进入 型 或 应邀 进入 型 。 通道 管理者 权力 即 会议 主持者 ， 可 自动 赋予 参加 会议 的 客户 中 具有 一定 职务 特征 的 客户 ， 也 可 由 会议 召集人 或 客户 事前 决定 。 此类 通道 上 的 消息 内容 应 自动 予以 保存 。 对于 讨论式 的 通道 ， 通道 管理者 一般 为 讨论 发起者 ， 即 通道 建立 者 ， 可 由 通道 管理者 决定 通道 的 性质 为 随意 进入 或许 可 进入 ， 交流 消息 内容 是否 保存 等 。 对于 询问 式 通道 ， 应由 发起者 决定 是 临时性 的 一定 时间 内 没有 消息传递 ， 通道 自动 关闭 还是 长期 的 由 询问 双方 决定 通道 的 关闭 。 　 　 上述 各种 实现 上 的 设想 ， 对 CSCW 系统 的 开发 环境 提出 了 较 高 的 要求 。 一个 开发 环境 应 提供 双重 的 客户 开发 构架 ， 以 开发 IRC 工具 为例 ， 首先 应使 开发者 能 设计 某一 具体 CSCW 应用 的 特殊 开发 环境 ， 在 该 环境 中 设定 将 被 开发 的 对象 特征 ， 如 客户 的 属性 列表 项目数 等 。 然后 ， 开发者 在 一次 开发 的 环境 中 进行 具体 面向用户 的 系统 开发 。 　 一个 简单 的 协作 式 IRC 模型 实现 　 　 图 表示 了 一个 简单 协作 群体 内部 的 IRC 模型 实现 。 图 　 协作 式 IRC 模型 　 　 与 Internet 相连 的 是 IRC 网络 的 服务器 ， 其中 与 数据库 相连 的 是 中心 服务器 。 数据库 用于 记录 所有 服务器 、 客户 、 通道 信息 ， 还 记录 历史 谈话 的 文本 记录 ， 例如 所有 服务器 的 IP地址 ， 服务器之间 的 路由 信息 ， 每 一个 客户 的 名称 、 职务 作用 信息 ， 工作 状态 信息 ， 还有 每 一个 通道 包括 的 服务器 、 客户 及 属性 等 。 其它 服务器 仅 记录 本地 的 客户 及 通道 信息 。 如果 客户 需要 与 异地 客户 建立联系 ， 则 通过 本地 服务器 向 中心 服务器 及 数据库 查询 。 如果 有 从 协作 群体 以外 来 的 请求 ， 统一 交给 中心 服务器 处理 。 这样 既 便于 内部 管理 又 有助于 提高 安全性 。 　 　 从 实现 机制 上 考虑 ， 采用 TCPIP 协议 ， TCP 提供 了 可靠 的 传输 连接 服务 ， 很 适合 于 此类 电子 会议 系统 。 服务器 采用 SOCKET 侦听 机制 ， 接受 来自 客户 和 其它 服务器 的 请求 。 在 每个 服务器 中 设置 一个 IRC 消息 队列 ， 收集 来自 本地 所有 客户 的 消息 ， 采用 FIFO 机制 并 根据 网络流量 顺序 发送 消息 。 在 每个 服务器 中 设置 IRC 配置文件 ， 记录本 系统 内 各 服务器 的 IP地址 和 本地 客户 的 主机 信息 ， 以及 一些 动态 信息 ， 诸如 本地 通道 涉及 的 服务器 及 客户 ， 供 通道 建立 、 解除 、 客户 加入 、 退出 时 使用 。 　 　 通道 的 建立 过程 如下 ： 某一 客户 l 发出 建立 一 通道 的 命令 给 服务器 A ， 包括 所 要 通话 的 其他 客户 通道 的 属性 。 服务器 如果 发现 有 非 本地 客户 ， 即 向 中心 服务器 查询 ， 中心 服务器 返还 有关 客户 的 服务器 IP地址 给 服务器 A ， 服务器 A 再 向 有关 服务器 发出 建立 通道 的 请求 ， 包括 通道 的 属性 和 有关 客户 。 各 服务器 根据 本地 配置文件 接受 ， 部分 接受 有 的 客户 接受 ， 有 的 拒绝 ， 或 拒绝 。 通道 建立 之后 ， 由 服务器 A 把 通道 信息 送交 中心 服务器 。 所有 客户 都 可以 向 中心 数据库 查询 现有 通道 信息 ， 以便 选择 加入 某些 通道 。 　 小结 　 　 协同工作 的 模式 是 CSCW 研究 的 重要 方面 ， 本文 初步 研究 了 在 不同 地点 协同工作 的 人们 交流 的 各种 模式 ， 并 结合 IRC ， 提出 了 一个 用 IRC 实现 有关 交流 模式 的 模型 。 相关 的 进一步 工作 有 安全性 的 保证 ， 用户界面 的 便捷 化 和 人性化 等 。 上述 几 方面 的 研究 和 进步 对 CSCW 的 广泛应用 起着 关键作用 。 曹重 人 （ 上海交通大学 现代 通信 研究所 上海 ） 蔡亦波 （ 上海交通大学 现代 通信 研究所 上海 ） 陆松 年 （ 上海交通大学 现代 通信 研究所 上海 ） 参考文献 httpwwwwhatiscomirchtmIRCInternetRelayChatJOikarinenDReedInternetRelayChatProtocolRFChttpwwwircnetaboutwhatisirchtmlWhatisIRC 史 美林 CSCW 计算机 支持 的 协同工作 通信 学报 ～ httpksicpscucalgarycacoursepfeifercscwdomainhtmlpfeifferUcalgaryTheDomainandGoalsofCSCW 收稿 日期 ： 年月日