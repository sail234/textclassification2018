软件 学报 JOURNALOFSOFTWARE 年 　 第卷 　 第期 　 Vol 　 No 　 连续 汉语 语音 识别 中 基于 归并 的 音节 切分 自动机 张继勇 郑方 杜术 宋战江 徐 明星 　 　 摘要 　 文章 研究 并 实现 了 汉语 连续 语音 中 的 音节 自动 切分 算法 — — 基于 归并 的 音节 切分 自动机 mergingbasedsyllabledetectionautomaton 简称 MBSDA 算法 MBSDA 算法 利用 了 包括 语音 的 短时 能量 、 过零率 和 基音 周期 在内 的 多种 特征参数 把 特征参数 高度 相似 的 相邻 帧 帧 或 若干 帧 的 语音 信号 进行 “ 归并 merging ” 形成 “ 归并 类似 段 mergedsimilarsegment 简称 MSS ” 它们 被 认定 属于 同一 音节 的 相同 状态 这些 MSS 经过 一个 包含 若干 状态 的 “ 音节 切分 自动机 syllabledetectionautomaton 简称 SDA ” 后 输出 音节 的 切分 点 每个 确定 的 切分 段 中 所 包含 音节 个数 的 范围 rangeofsyllablenumber 简称 RSN 也 由 MBSDA 算法 给出 　 　 关键词 　 音节 切分 归并 音节 切分 自动机 、 韵母 特征 类段 音节 个数 范围 　 　 中图法 分类号 　 TPMergingbasedSyllableDetectionAutomatoninContinuousChineseSpeechRecognitionZHANGJiyongZHENGFangDUShuSONGZhanjiangXUMingxingSpeechLaboratoryDepartmentofComputerScienceandTechnologyTsinghuaUniversityBeijing 　 　 Abstract 　 InthispaperanautomaticsyllabledetectionmethodnamelymergingbasedsyllabledetectionautomatonMBSDAisstudiedandimplementedTheMBSDAusesavarietyoffeaturesincludingtheframeenergythezerocrossingrateandthefundamentalfrequencytomergesimilarconsecutiveframesoneorseveralframesintoonemergedsimilarsegmentMSSTheframesinthesameMSSaretreatedasframesofthesamestateofaphoneticTheseMSSsarepassedintoasyllabledetectionautomatonSDAtogivethesyllabledetectionresultsInadditiontheMBSDAgivestherangeofsyllablenumberRNSofeachdefinitedetectionsegment 　 　 Keywords 　 Syllabledetectionmergingsyllabledetectionautomatonvowelfeaturesegmentrangeofsyllablenumber 　 　 目前 在 非 特定 人 连续 语音 的 识别 中 最 广泛 使用 的 声学 模型 是 HMM 模型 及其 改进 模型 其中 传统 的 帧 同步 算法 ［ ］ 或 Viterbi 解码 算法 ［ ］ 给出 了 状态 解码 序列 借助于 一定 的 词法 信息 和 语言 模型 就 可以 由 声学 搜索 结果 给出 最大 似然 句子 输出 完成 句子 识别 ［ ］ 在 这样 的 方案 中 声学 的 搜索算法 有 两个 问题 不容忽视 搜索 路径 的 组合 爆炸 问题 解码 的 状态 序列 错位 问题 它们 在 很大 程度 上 影响 了 整个 识别系统 的 性能 我们 的 实验 表明 即使 在 连续 语流 中 在 音节 切分 点 已知 的 情况 下 孤立 音节 的 识别率 也 能 达到 理想 的 水平 ［ ］ 因此 理想 的 做法 是 把 一段 连续 语音 信号 准确 地 切分 至 单音节 然后 再 加以 识别 但是 由于 目前 研究 条件 和 水平 的 局限性 若不加 任何 限制 就 达到 这 一点 是 比较 困难 的 对 有些 音节 我们 可以 给出 准确 的 边界 而 有些 音节 之间 的 边界 却 很 难 加以 区分 本文 采取 的 方案 是 把 完全 确定 的 地方 切开 切不开 的 地方 则 给出 音节 的 个数 范围 rangeofsyllablenumber 简称 RSN 从而 较 好地解决 了 上述 问题 为此 本文 提出 了 一个 基于 相似 语音 帧 合并 的 音节 切分 自动机 mergingbasedsyllabledetectionautomaton 简称 MBSDA 算法 汉语 音节 性 很 强 的 特点 为 这种 算法 提供 了 很 好 的 理论依据 算法 基本原理 特征参数 的 提取 　 　 MBSDA 算法 使用 的 主要 特征参数 是 短时 帧 能量 、 过零率 和 基音 周期 特征参数 的 提取 和 分析 以 帧 为 单位 具体 的 计算 请 见 ［ ］ 在 此 不再 作 介绍 相近 语音 帧 的 归并 　 　 在 同一个 音素 的 发音 过程 中 声道 会 在 一定 的 时间 间隔 内 保持稳定 而 当 从 一个 音素 过渡 到 下 一个 音素 时 声道 会 发生变化 因此 如果 连续 几帧 语音 特征 没有 发生 比较 大 的 变化 我们 有 理由 认为 它们 是 属于 同一个 音素 的 基于 此 我们 提出 了 对 这种 特征 相近 的 帧 进行 “ 归并 merging ” 的 概念 　 　 在 进行 归并 之前 我们 首先 检查 语音 特征 是否 发生 “ 转折 transition ” 转折 有 Ⅰ 类 转折 和 Ⅱ 类 转折 两种 分别 描述 如下 　 　 Ⅰ 类 转折 特征 发生 突然 变化 即 当前 帧 的 能量 或过 零率 大于 前 一帧 能量 或过 零率 的 α 倍 或 当前 帧 能量 或过 零率 的 α 倍 小于 前 一帧 的 能量 或过 零率 这里 取 α 　 　 Ⅱ 类 转折 特征 发生 缓慢 变化 即 当前 帧 的 前 T 帧 语音 能量 或过 零率 的 均值 与 后 T 帧 语音 的 能量 或过 零率 的 均值 之间 存在 着 类似 于 Ⅰ 类 转折 中 的 变化 关系 这里 取 T 　 　 如果 当前 的 语音 帧 发生 了 上述 的 Ⅰ 类 或 Ⅱ 类 转折 则 给 该 帧 语音 作上 “ 转折 标记 transitiontag 简称 TT ” 　 　 连续 的 一帧 或 几帧 没有 TT 标记 的 语音 被 归并到 同一个 归并 类似 段 MSSmergedsimilarsegment 类段 中类 段 的 一个 很 重要 的 性质 是 它 反映 了 这段 语音 中 各个 音素 中 最 稳定 的 部分 音节 切分 自动机 的 实现 　 　 通过 类段 并 不能 直接 给出 音节 的 切分 边界 我们 构造 一个 音节 切分 自动机 syllabledetectionautomaton 简称 SDA 由 自动机 根据 其 内部 状态 的 转移 来 确定 音节 的 切分 点 SDA 的 状态 划分 为 以下 几类 静音 、 噪声 、 一类 声母 、 二类 声母 、 伪 静音 、 韵母 和 韵尾 SDA 中 的 状态 分别 有 如下 含义 　 　 静音 SIL 和 噪声 NOI 静音 是 指 能量 和 过 零率 都 是 很 低 的 信号 它 不 包含 语音 信息 而 当 环境 噪音 比较 强时 静音 转变 为 噪声 　 　 一类 声母 SM 和 二类 声母 SM 对 声母 特征 的 研究 和 统计 表明 lmnr 具有 类似 于 韵母 的 特点 我们 将 它 归入 二类 声母 的 状态 剩下 的 声母 的 特征 与 韵母 有 较 明显 的 区分 我们 将 它们 归入 一类 声母 　 　 伪 静音 PsudoSIL 有些 音节 在 发音 时 声母 和 韵母 中间 有 一个 能量 的 “ 低谷 ” 比如 音节 “ kai ” 声母 “ k ” 和 韵母 “ ai ” 的 能量 都 比较 高 但 它们 之间 的 过渡 段 的 能量 却 很 低 类似 于 静音 如果 把 它 归 到 静音 状态 显然 会 发生 错误 为了 对 这种 情况 加以 区分 我们 在 这里 引入 了 伪 静音 状态 　 　 韵母 YM 和 韵尾 YW 韵母 的 一个 很 明显 的 特点 是 它 具有 准 周期 、 较 高 的 能量 和 适中 的 过 零率 当 发音 从 一个 音节 转变 到 下 一个 音节 时 韵母 部分 能量 和 过 零率 都 有 比较 明显 的 下降 这 就是 韵尾 状态 通过 大量 的 实验 我们 得到 了 各个 状态 和 特征参数 之间 的 大致 规律 如表 所示 自动机 各个 状态 间 的 转换 如图所示 图 章节 切分 自动机 的 状态 转换 图表 自动机 状态 和 特征参数 的 关系 MSS 性质 静音 噪声 一类 声母 二类 声母 伪 静音 韵母 韵尾 帧 参数 规整 能量 ＜ ＜ ～ ～ ～ ＞ ～ 过零率 ＜ ～ ＞ ＜ ＜ ～ ＜ 基音 周期 无无无 有无 有无 SDA 的 输出 和 音节 切分 　 　 如果 我们 把 静音 和 噪音 都 当作 一个 “ 伪 音节 ” 或 “ 广义 音节 ” 来 看待 那么 根据 汉语 音节 的 特点 当表中 的 任何 一个 状态 转移 条件 满足 时 都 表明 语音 流 发生 了 从 一个 广义 音节 到 另 一个 广义 音节 的 转变 这 也 正是 SDA 需要 输出 音节 切分 标记 的 地方 表作 音节 切分 标记 的 条件 状态 转移 条件 自动机 前 一 状态 自动机 的 当前 状态 条件 静音 、 噪声 声母 、 韵尾 条件 韵母 静音 、 噪声 、 声母 条件 韵尾 声母 、 静音 、 噪声 、 韵母 切分 段 所 含 单音节 个数 范围 估计 　 　 切分 段 音节 个数 范围 rangeofsyllablenumber 简称 RSN 的 确定 有 下面 几个 步骤 对于 第 n 个 切分 段 统计 出 其中 所 包含 的 韵母 特征 类段 vowelfeaturesegment 简称 VFS 的 个数 记为 CVFSn 当前 切分 段 的 平均 音节 长度 averagesyllablelength 简称 ASL 值 如果 不 考虑 初始 的 情况 可 按 下式 来 计算 以 帧 为 单位 其中 lnilni 表示 第 ni 个 “ 音节 估计 个数 为 ” 的 切分 段长度 以 帧 为 单位 也 即 当前 位置 以前 第 i 个 “ 音节 估计 个数 为 ” 的 切分 段长度 上式 用 当前 位置 以前 的 M 个 “ 音节 估计 个数 为 ” 的 切分 段长度 来 估计 当前 段 的 ASL 值 这里 M 的 选择 必须 合适 如果 太小 则 估计 对 音节 长度 的 局部 变化 太 敏感 缺乏 抗干扰能力 如果 太 大 音节 个数 的 估计 缺少 对 语速 变化 的 跟随 特性 通常 我们 选 M 　 　 在 给出 RSN 之前 我们 先 利用 ASL 值 定义 一个 上限 参考值 CRn ［ lnASLn ］ 其中 ln 表示 待 估计 的 切分 段长度 　 　 在 求得 待 估计 切分 段 的 CVFS 值 和 CR 值 之后 则 该 切分 段 所 包含 的 音节 个数 的 上限 确定 为 利用 本文 给出 的 切分 算法 一般 地 Cmax 值 不 超过 大部分 情况 下 为 实验 及 评价 实验 数据 　 　 在 实验 中 我们 使用 了 两批 测试数据 第批 测试数据 采用 了 语音 数据库 这批 测试数据 是 在 安静 的 办公室 环境 下 采录 的 基本上 没有 噪声 的 干扰 我们 从中 抽取 了 男女 的 语音 数据 每个 录音 者 各 取句 这样 就 组成 了 一个 男声 和 女声 各句 的 测试 集 为了 对比 噪声 对 切分 结果 的 影响 我们 在 环境噪声 较强 的 房间 里 采录 了 第批 测试数据 另外 还 故意 加入 了 说话 者 的 “ 吹气 ” 、 “ 咳嗽 ” 等 干扰信号 这批 数据 共有 句 都 是 男声 两批 数据 的 采样 频率 均 为 KHz 量化 精度 为 bit 录音 者 的 语速 为 每分钟 ～ 个 字 帧 长为 ms 个 样本 点 音节 切分 算法 的 评价 方案 　 　 切点 正确率 pd 和 个数 范围 估计 正确率 pn 采用 如下 的 公式 来 计算 总 的 切分 正确率 pc 由 pd 和 pn 共同 决定 为了 反映 在 切分 算法 中能 切出 的 音节 占 总 音节 的 比例 我们 引入 了 切 出率 pout 的 概念 分别 定义 它们 如下 实验 结果 　 　 根据 上面 的 统计 公式 适当 调整 切分 算法 的 参数 可以 得到 切分 算法 在 不同 操作 点下 的 ROCreceiveroperatingcharacteristics 曲线 如图所示 在 该 曲线 中 MBSDA 算法 的 pc 是 pout 的 函数 我们 可以 根据 不同 的 切 出率 需求 来 调整 MBSDA 参数 从而 得到 ROC 曲线 上 的 不同 操作 点 但 在 一般 情况 下 一个 实际 使用 的 切分 算法 要求 pc 接近 图 MBSDA 切分 算法 的 ROC 曲线 　 　 从 ROC 曲线 上 我们 可以 看到 如果 刻意追求 切出 率 或者 正确率 都 会 导致 算法 整体 性能 的 下降 在 允许 发生 一定 错误 的 情况 下 当切 出率 大致 为 时 系统 整体 的 性能 最 理想 表中 列出 了 其中 一次 实验 统计 的 结果 表 实验 统计 结果 结果 切点 正确率 pdRSN 正确率 pn 总 正确率 pc 切出 率 pout 测试 数据库 第批 数据 男声 女声 第批 数据 男声 平均 　 　 从 实验 的 结果 可以 看出 总体 来讲 切分 的 效果 很 不错 在 男声 和 女生 的 对比 中 可以 发现 女生 的 切分 效果 要 比 男生 好 原因 主要 是 由于 数据库 中 的 女声 发音 比 男声 发音 要 清晰 此外 通过 实验 结果 还 可以 看出 噪声 对 切分 的 结果 有 一定 的 影响 但 算法 的 整体 性能 没有 很 大幅度 的 下降 这 反映 了 本 算法 对 噪声 有 较 好 的 鲁棒性 结论 　 　 无论是 从 算法 的 可行性 还是 算法 的 复杂度 来看 基于 语音 切分 的 汉语 语音 识别 都 是 一种 行之有效 的 方案 如何 能 保持 本 算法 现有 的 切分 正确率 提高 算法 的 音节 切出 率 将 是 我们 今后 努力 的 方向 可以 看出 在 此 算法 的 基础 上 如果 再 加入 语音 信号 的 一些 其他 特征参数 如倒 谱 参数 将会 提高 算法 的 切 出率 当切 出率 达到 很 高 的 值时 实际上 也 就是 达到 了 切分 至 单音节 的 目标 此外 由于 本 切分 算法 的 自动机 已经 给出 了 每 一帧 的 状态 因此 对 该 算法 加以 适当 的 修改 即可 实现 连续 语音 中 音节 的 声韵 切分 作者简介 ： 张继勇 年生 硕士 主要 研究 领域 为 语音 识别 信号处理 　 　 　 　 　 郑方 年生 博士 副教授 主要 研究 领域 为 语音 处理 语音 识别 和 理解 信号处理 　 　 　 　 　 杜术 年生 硕士 主要 研究 领域 为 信号处理 语音 识别 　 　 　 　 　 宋战江 年生 博士生 主要 研究 领域 为 语音 处理 语音 识别 和 理解 数字 信号处理 　 　 　 　 　 徐 明星 年生 博士生 主要 研究 领域 为 语音 识别 语音 信号处理 作者 单位 ： 清华大学 计算机科学 与 技术 系 语音 实验室 北京 　 　 　 　 　 EmailZhangJYspcstsinghuaeducn 本文 通讯联系 人张 继勇 ， 北京 清华大学 计算机科学 与 技术 系 语音 实验室 参考文献 　 LeeCHRabinerLRAframesynchronousnetworksearchalgorithmforconnectedwordrecognitionIEEETransactionsonASSP ～ 　 ZhengFangChaiHaixinShiZhijieetalArealworldspeechrecognitionsystembasedonCDCPMsInProceedingsoftheInternationalConferenceonComputerProcessingofOrientalLanguagesLCCPOLHongKong ～ 　 郑方 牟晓隆 徐 明星 等 一个 语文 转换 文本编辑 器 的 实现 见 王承发 张凯 等 编第届 全国 人机 语音 通讯 学术会议 NCMMSC 会议 论文集 哈尔滨 哈尔滨工业大学 出版社 ～ ZhengFangMuXiaolongXuMingxingetalTheimplementationofaspeechtotexttransitioneditorInWangChengfaZhangKaietaledsProceedingsoftheNationalConferenceonManMachineSpeechCommunicationHarbinHarbinInstituteofTechnologyPress ～ 　 郑方 吴 文虎 方 棣棠 CDCPM 及其 在 语音 识别 中 的 应用软件 学报 专刊 ～ ZhengFangWuWenhuFangDitangCDCPMwithitsapplicationtospeechrecognitionJournalofSoftwarespecialissueof ～ 　 杨行峻 迟惠生 语音 信号 数字 处理 北京 电子 工业 出版社 YangXingjunChiHuishengSpeechSignalDigitalProcessingBeijingPublishingHouseofElectronicsIndustry 本文 收到 原稿 收到 修改稿